(function(){"use strict";var e={875:function(e,n,i){var t=i(726),a=i(992);function r(e,n,i){switch(i){case"==":return e==n;case"!=":return e!=n;case">":return e>n;case"<":return e<n;case">=":return e>=n;case"<=":return e<=n;case"contains":return String(e).includes(String(n));case"contains_not":return!String(e).includes(String(n));default:throw new Error("Invalid operator: ".concat(i))}}function l(e){var n=[],i=0;while(i<e.length)if("AND"===e[i]){var t=n.pop(),a=e[i+1];n.push(t&&a),i+=2}else"OR"===e[i]||n.push(e[i]),i++;return 0!==n.length&&n.reduce((function(e,n){return e||n}))}function o(e,n,i,a,o){function s(){Object.entries(e.value).forEach((function(e){var t=e[0],o=e[1];if(0!==o.length){var s=[],u=!0;o.forEach((function(e){var t=n.value[e.source];if(null!=t||(t=i[e.source],null!=t)){var a=r(t,e.condition_value,e.condition_operator);u?u=!1:s.push(e.combinator),s.push(a)}})),a.value[t]=l(s)}else a.value[t]=!1}))}function u(){Object.entries(o).forEach((function(e){var n=e[0],i=e[1];if(0!==i.length){var t=i.every((function(e){return!1!==a.value[e]}));t&&(a.value[n]=!0)}}))}return(0,t.sV)((function(){s()})),{evaluateFilters:s,checkIfAllItemsHidden:u}}function s(e,n,i,a,r,l){var o=(0,t.KR)(1),s=(0,t.KR)(1),u=(0,t.KR)(1),c=(0,t.KR)(!1),d=(0,t.KR)(!1);function p(){var n=e.value.map((function(e){return e.page}));0===n.length?(s.value=0,u.value=0):(s.value=Math.min.apply(Math,n),u.value=Math.max.apply(Math,n)),o.value=s.value}function v(){return e.value.filter((function(e){return e.page===o.value}))}function f(){if(m()){if(o.value===u.value)return void(c.value=!0);o.value++;var e=h();(!e||o.value>u.value)&&(c.value=!0)}}function m(){return d.value||b()}function h(){while(!g())if(o.value++,o.value>u.value)return!1;return!0}function b(){var e=r,t=[],o=new Set,s=l.value;return s.querySelectorAll("div[id*=answer-], tr[id*=answer-]").forEach((function(e){return e.classList.remove("required-but-missing")})),s.querySelectorAll("div[class*=required-hint]").forEach((function(e){return e.classList.remove("show")})),v().forEach((function(r){if(r.required){var l=a[r.question];if(0===l.length){var s=i.value[r.question]===e,u=!n.value[r.question];s&&u&&(t.push(r.question),o.add(r.question))}else l.forEach((function(a){var l=i.value[a]===e,s=!n.value[a];l&&s&&(t.push(a),o.add(r.question))}))}})),0===t.length||(t.forEach((function(e){var n;return null===(n=s.querySelector("#answer-"+e))||void 0===n?void 0:n.classList.add("required-but-missing")})),t.forEach((function(e){var n;return null===(n=s.querySelector("#required-hint-"+e))||void 0===n?void 0:n.classList.add("show")})),d.value=!0,!1)}function g(){var e=l.value;if(!e)return!1;var i=e.querySelectorAll("[data-page-index='".concat(o.value,"']"));return 0!==i.length&&Array.from(i).some((function(e){var i=e.getAttribute("data-question-id");return!1===n.value[i]}))}return(0,t.sV)((function(){p()})),{currentPage:o,lastPageSubmitted:c,next:f}}function u(e){var n=e.closest(".question-app-container"),i=null===n||void 0===n?void 0:n.nextElementSibling;if(i){var t="none"!==window.getComputedStyle(i).display;return t?i:u(i)}return null}function c(e){var n=e.closest(".question-body");if(!n)return 0;var i=n.querySelector(".question-text");return i?i.offsetHeight:0}function d(e){var n=e.target.closest("div.response-row");if(n){var i=n.nextElementSibling;if(i){var t=c(n),a=i.getBoundingClientRect().top+window.scrollY,r=a-t;window.scrollTo({top:r,behavior:"smooth"})}else{var l=u(n);if(l){var o=l.getBoundingClientRect().top+window.scrollY;window.scrollTo({top:o,behavior:"smooth"})}else window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}}}function p(e){var n=document.querySelectorAll(e);n.forEach((function(e){var n=e.querySelectorAll(".main-scale");n.forEach((function(e){return e.classList.remove("main-scale-first","main-scale-last")})),n.length>0&&(n[0].classList.add("main-scale-first"),n.length>1&&n[n.length-1].classList.add("main-scale-last"))}))}function v(e){var n=768,i=(0,t.KR)(window.innerWidth<=n);function a(){window.addEventListener("resize",l),window.addEventListener("scroll",o),window.addEventListener("load",o)}function r(){window.removeEventListener("resize",(function(){})),window.removeEventListener("scroll",o),window.removeEventListener("load",o)}function l(){i.value=window.innerWidth<=n}function o(){var n=e.value,t=Array.from(n.querySelectorAll(".response-row")),a=null,r=1/0;i.value?(t.forEach((function(e){var n=e.getBoundingClientRect(),i=c(e),t=Math.abs(n.top),l=n.bottom>0&&n.top<window.innerHeight&&n.top>=.25*i;l&&t<r&&(r=t,a=e)})),t.forEach((function(e){return e.style.opacity="0.3"})),a&&(a.style.opacity="1")):t.forEach((function(e){return e.style.opacity="1"}))}function s(){setTimeout((function(){document.documentElement.scrollTo({top:0,behavior:"smooth"}),document.documentElement.scrollTop=0,document.body.scrollTop=0}),100)}return(0,t.sV)((function(){l(),a()})),(0,t.xo)((function(){r()})),{scrollToTop:s}}var f=["innerHTML"],m=["id"],h=["id","name","value"],b=["for"],g=["innerHTML"],y=(0,t.pM)({__name:"QuestionSingleChoice",props:{qid:{},text:{},items:{},hideObjectDict:{}},emits:["responseChanged"],setup:function(e,n){var i=n.emit,r=((0,a.s9)().t,e),l=i;function o(e){var n=e.target;l("responseChanged",{id:n.name,response:n.value})}return function(e,n){return(0,t.uX)(),(0,t.CE)("div",null,[(0,t.Lk)("div",{class:"question-text",innerHTML:r.text},null,8,f),(0,t.Lk)("div",{id:"answer-"+r.qid,class:"response-body question-response-body item-container"},[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(r.items,(function(e){return(0,t.bo)(((0,t.uX)(),(0,t.CE)("div",{key:e.id,class:"question-item"},[(0,t.Lk)("input",{class:"form-check-input",type:"radio",id:"q-"+r.qid+"-"+e.id,name:r.qid,value:e.value,onChange:o},null,40,h),(0,t.Lk)("label",{for:"q-"+r.qid+"-"+e.id,class:"item-label prevent-select"},[(0,t.Lk)("span",{innerHTML:e.label},null,8,g)],8,b)])),[[t.aG,!r.hideObjectDict[e.id]]])})),128))],8,m)])}}}),q=i(262);const L=(0,q.A)(y,[["__scopeId","data-v-120cc9a8"]]);var k=L,C=["innerHTML"],E={class:"response-body question-response-body item-container"},_=["id","name","value"],w=["for"],x=["innerHTML"],M=["id"],T=(0,t.pM)({__name:"QuestionMultiChoice",props:{qid:{},text:{},items:{},hideObjectDict:{}},emits:["responseChanged"],setup:function(e,n){var i=n.emit,r=(0,a.s9)().t,l=e,o=i;function s(e){var n=e.target;o("responseChanged",{id:n.name,response:n.value})}return function(e,n){return(0,t.uX)(),(0,t.CE)("div",null,[(0,t.Lk)("div",{class:"question-text",innerHTML:l.text},null,8,C),(0,t.Lk)("div",E,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(l.items,(function(e){return(0,t.bo)(((0,t.uX)(),(0,t.CE)("div",{key:e.id,class:"question-item"},[(0,t.Lk)("input",{class:"item-check",type:"checkbox",id:"q-"+l.qid+"-"+e.id,name:e.id,value:e.value,onChange:s},null,40,_),(0,t.Lk)("label",{for:"q-"+l.qid+"-"+e.id,class:"item-label prevent-select"},[n[0]||(n[0]=(0,t.Lk)("span",{class:"span-check-icon"},"✓",-1)),(0,t.Lk)("span",{innerHTML:e.label},null,8,x)],8,w)])),[[t.aG,!l.hideObjectDict[e.id]]])})),128)),(0,t.Lk)("p",{id:"required-hint-"+l.qid,class:"required-hint mb-0 hidden"},(0,t.v_)((0,t.R1)(r)("required-but-missing-hint")),9,M)])])}}});const H=(0,q.A)(T,[["__scopeId","data-v-9e4bbce8"]]);var S=H,X=["innerHTML"],O=["id"],R=["name","maxlength"],K=["name","maxlength"],A=["id"],j=["name","maxlength"],F={class:"input-hint"},I=["id"],D=["name","maxlength"],Q={class:"input-hint hint-invalid-input pb-0 mb-0"},P={class:"input-hint"},N=["id"],V=["id"],z=["id"],B=["innerHTML"],G=["name","maxlength"],J=["name","maxlength"],W=["name","maxlength"],Z={class:"input-hint"},U=["name","maxlength"],Y={class:"input-hint hint-invalid-input pb-0 mb-0"},$={class:"input-hint"},ee=(0,t.pM)({__name:"QuestionOpen",props:{qid:{},text:{},options:{},items:{},hideObjectDict:{}},emits:["responseChanged"],setup:function(e,n){var i=n.emit,r=e,l=i,o=(0,a.s9)().t,s=(0,t.EW)((function(){return null!==r.options.max_input_length?r.options.max_input_length:void 0}));function u(e){var n=e.target;l("responseChanged",{id:n.name,response:n.value})}return function(e,n){var i=(0,t.gN)("only-digits"),a=(0,t.gN)("valid-email");return(0,t.uX)(),(0,t.CE)("div",null,[(0,t.Lk)("div",{class:"question-text",innerHTML:r.text},null,8,X),r.options.multi_item_response?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("div",{key:0,id:"answer-"+r.qid,class:"response-body"},["text"===r.options.input_type?((0,t.uX)(),(0,t.CE)(t.FK,{key:0},["small"===r.options.display?((0,t.uX)(),(0,t.CE)("input",{key:0,class:"oq-input",type:"text",name:r.qid,maxlength:s.value,onChange:u},null,40,R)):(0,t.Q3)("",!0),"large"===r.options.display?((0,t.uX)(),(0,t.CE)("textarea",{key:1,class:"open-question-textarea",name:r.qid,maxlength:s.value,onChange:u},null,40,K)):(0,t.Q3)("",!0),(0,t.Lk)("p",{id:"required-hint-"+r.qid,class:"required-hint mb-0 hidden"},(0,t.v_)((0,t.R1)(o)("required-but-missing-hint")),9,A)],64)):"numbers"===r.options.input_type?((0,t.uX)(),(0,t.CE)(t.FK,{key:1},[(0,t.bo)((0,t.Lk)("input",{type:"text",class:"oq-input",name:r.qid,maxlength:s.value,onChange:u},null,40,j),[[i]]),(0,t.Lk)("p",F,(0,t.v_)((0,t.R1)(o)("hint-number-input")),1),(0,t.Lk)("p",{id:"required-hint-"+r.qid,class:"required-hint mb-0 hidden"},(0,t.v_)((0,t.R1)(o)("required-but-missing-hint")),9,I)],64)):"email"===r.options.input_type?((0,t.uX)(),(0,t.CE)(t.FK,{key:2},[(0,t.bo)((0,t.Lk)("input",{type:"email",class:"oq-input",name:r.qid,maxlength:s.value,onChange:u},null,40,D),[[a]]),(0,t.Lk)("p",Q,(0,t.v_)((0,t.R1)(o)("hint-invalid-email")),1),(0,t.Lk)("p",P,(0,t.v_)((0,t.R1)(o)("hint-email-input")),1),(0,t.Lk)("p",{id:"required-hint-"+r.qid,class:"required-hint mb-0 hidden"},(0,t.v_)((0,t.R1)(o)("required-but-missing-hint")),9,N)],64)):(0,t.Q3)("",!0)],8,O)),r.options.multi_item_response?((0,t.uX)(),(0,t.CE)("div",{key:1,id:"answer-"+r.qid,class:"response-body"},[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(r.items,(function(e){return(0,t.bo)(((0,t.uX)(),(0,t.CE)("div",{key:e.id,id:"answer-"+e.id,class:"input-row"},[(0,t.Lk)("div",{innerHTML:e.label},null,8,B),(0,t.Lk)("div",null,["text"===r.options.input_type?((0,t.uX)(),(0,t.CE)(t.FK,{key:0},["small"===r.options.display?((0,t.uX)(),(0,t.CE)("input",{key:0,class:"oq-input",type:"text",name:e.id,maxlength:s.value,onChange:u},null,40,G)):(0,t.Q3)("",!0),"large"===r.options.display?((0,t.uX)(),(0,t.CE)("textarea",{key:1,class:"open-question-textarea",name:e.id,maxlength:s.value,onChange:u},null,40,J)):(0,t.Q3)("",!0)],64)):"numbers"===r.options.input_type?((0,t.uX)(),(0,t.CE)(t.FK,{key:1},[(0,t.bo)((0,t.Lk)("input",{type:"text",class:"oq-input",name:e.id,maxlength:s.value,onChange:u},null,40,W),[[i]]),(0,t.Lk)("p",Z,(0,t.v_)((0,t.R1)(o)("hint-number-input")),1)],64)):"email"===r.options.input_type?((0,t.uX)(),(0,t.CE)(t.FK,{key:2},[(0,t.bo)((0,t.Lk)("input",{type:"email",class:"oq-input",name:e.id,maxlength:s.value,onChange:u},null,40,U),[[a]]),(0,t.Lk)("p",Y,(0,t.v_)((0,t.R1)(o)("hint-invalid-email")),1),(0,t.Lk)("p",$,(0,t.v_)((0,t.R1)(o)("hint-email-input")),1)],64)):(0,t.Q3)("",!0)])],8,z)),[[t.aG,!r.hideObjectDict[e.id]]])})),128))],8,V)):(0,t.Q3)("",!0)])}}});const ne=(0,q.A)(ee,[["__scopeId","data-v-5277ad65"]]);var ie=ne,te=["innerHTML"],ae={class:"response-body ps-0 pe-0"},re=["id"],le=["innerHTML"],oe={class:"mq-item-container"},se={key:0,class:"heading-container"},ue=["innerHTML"],ce={class:"scale-container scale-heading-container"},de={class:"scale-label scale-label-mockup"},pe=["innerHTML"],ve=["innerHTML"],fe={class:"scale-container scale-input-container"},me=["id","name","value"],he=["for"],be=["innerHTML"],ge=["id"],ye=(0,t.pM)({__name:"QuestionMatrix",props:{qid:{},text:{},items:{},scale:{},options:{},hideObjectDict:{}},emits:["responseChanged"],setup:function(e,n){var i=n.emit,r=(0,a.s9)().t,l=e,o=i;function s(e){var n=e.target;o("responseChanged",{id:n.name,response:n.value})}return(0,t.sV)((function(){p(".scale-container")})),function(e,n){return(0,t.uX)(),(0,t.CE)("div",null,[(0,t.Lk)("div",{class:"question-text",innerHTML:l.text},null,8,te),(0,t.Lk)("div",ae,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(l.items,(function(e){return(0,t.bo)(((0,t.uX)(),(0,t.CE)("div",{key:e.id,class:"response-row",id:"answer-"+e.id},[(0,t.Lk)("div",{class:(0,t.C4)(["item-separate-line",{show:l.scale.length>7}]),innerHTML:e.label},null,10,le),(0,t.Lk)("div",oe,[l.options.show_scale_headings?((0,t.uX)(),(0,t.CE)("div",se,[(0,t.Lk)("div",{class:(0,t.C4)(["item-label-container item-label-placeholder",{hidden:l.scale.length>7}]),innerHTML:e.label},null,10,ue),(0,t.Lk)("div",ce,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(l.scale,(function(e,n){return(0,t.uX)(),(0,t.CE)("div",{key:n,class:(0,t.C4)(["scale-label-container",{"main-scale":!e.secondary_point,"secondary-scale":e.secondary_point}])},[(0,t.Lk)("div",de,[(0,t.Lk)("span",{class:"scale-label-span",innerHTML:e.heading_label},null,8,pe)])],2)})),128))])])):(0,t.Q3)("",!0),(0,t.Lk)("div",{class:(0,t.C4)(["response-container",{"border-bottom-light":l.scale.length<7}])},[(0,t.Lk)("div",{class:(0,t.C4)(["item-label-container",{hidden:l.scale.length>7}]),innerHTML:e.label},null,10,ve),(0,t.Lk)("div",fe,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(l.scale,(function(i,a){return(0,t.uX)(),(0,t.CE)("div",{key:a,class:(0,t.C4)(["scale-label-container",{"main-scale":!i.secondary_point,"secondary-scale":i.secondary_point}])},[(0,t.Lk)("input",{type:"radio",id:l.qid+"-"+e.id+"-"+i.value,name:e.id,value:i.value,onChange:s,onClick:n[0]||(n[0]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(0,t.R1)(d)&&(0,t.R1)(d).apply(void 0,e)})},null,40,me),(0,t.Lk)("label",{for:l.qid+"-"+e.id+"-"+i.value,class:(0,t.C4)(["scale-label prevent-select",{"main-label":!i.secondary_point}])},[(0,t.Lk)("span",{class:"scale-label-span",innerHTML:i.input_label},null,8,be)],10,he)],2)})),128))])],2)]),(0,t.Lk)("p",{id:"required-hint-"+e.id,class:"required-hint mb-0 hidden"},(0,t.v_)((0,t.R1)(r)("required-but-missing-hint")),9,ge)],8,re)),[[t.aG,!l.hideObjectDict[e.id]]])})),128))])])}}});const qe=(0,q.A)(ye,[["__scopeId","data-v-205edfee"]]);var Le=qe,ke=["innerHTML"],Ce={class:"response-body ps-0 pe-0"},Ee=["id"],_e={class:"item-container"},we=["innerHTML"],xe={class:"scale-container"},Me={key:0,class:"scale-label-container main-scale"},Te=["id","name","value"],He=["for"],Se=["innerHTML"],Xe=["innerHTML"],Oe={class:"scale-container scale-container-secondary"},Re={key:0,class:"scale-label-container secondary-scale"},Ke=["id","name","value"],Ae=["for"],je=["innerHTML"],Fe=["id"],Ie=(0,t.pM)({__name:"QuestionSemanticDifferential",props:{qid:{},text:{},items:{},scale:{},hideObjectDict:{}},emits:["responseChanged"],setup:function(e,n){var i=n.emit,r=(0,a.s9)().t,l=e,o=i;function s(e){var n=e.target;o("responseChanged",{id:n.name,response:n.value})}return(0,t.sV)((function(){p(".item-container")})),function(e,n){return(0,t.uX)(),(0,t.CE)("div",null,[(0,t.Lk)("div",{class:"question-text",innerHTML:l.text},null,8,ke),(0,t.Lk)("div",Ce,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(l.items,(function(e){return(0,t.bo)(((0,t.uX)(),(0,t.CE)("div",{key:e.id,id:"answer-"+e.id,class:"response-row"},[(0,t.Lk)("div",_e,[(0,t.Lk)("div",{class:"item-label-container item-label-start",innerHTML:e.label},null,8,we),(0,t.Lk)("div",xe,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(l.scale,(function(i,a){return(0,t.uX)(),(0,t.CE)(t.FK,{key:a},[i.secondary_point?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("div",Me,[(0,t.Lk)("input",{type:"radio",id:l.qid+"-"+e.id+"-"+i.value,name:e.id,value:i.value,onChange:s,onClick:n[0]||(n[0]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(0,t.R1)(d)&&(0,t.R1)(d).apply(void 0,e)})},null,40,Te),(0,t.Lk)("label",{for:l.qid+"-"+e.id+"-"+i.value,class:(0,t.C4)(["scale-label prevent-select",{"main-label":!i.secondary_point}])},[(0,t.Lk)("span",{class:"scale-label-span prevent-select",innerHTML:i.input_label},null,8,Se)],10,He)]))],64)})),128))]),(0,t.Lk)("div",{class:"item-label-container",innerHTML:e.label_alt},null,8,Xe),(0,t.Lk)("div",Oe,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(l.scale,(function(n,i){return(0,t.uX)(),(0,t.CE)(t.FK,{key:"sec-"+i},[n.secondary_point?((0,t.uX)(),(0,t.CE)("div",Re,[(0,t.Lk)("input",{type:"radio",id:l.qid+"-"+e.id+"-"+n.value,name:e.id,value:n.value,onChange:s},null,40,Ke),(0,t.Lk)("label",{for:l.qid+"-"+e.id+"-"+n.value,class:(0,t.C4)(["scale-label prevent-select",{"main-label":!n.secondary_point}])},[(0,t.Lk)("span",{class:"scale-label-span prevent-select",innerHTML:n.input_label},null,8,je)],10,Ae)])):(0,t.Q3)("",!0)],64)})),128))])]),(0,t.Lk)("p",{id:"required-hint-"+e.id,class:"required-hint mb-0 ps-10px hidden"},(0,t.v_)((0,t.R1)(r)("required-but-missing-hint")),9,Fe)],8,Ee)),[[t.aG,!l.hideObjectDict[e.id]]])})),128))])])}}});const De=(0,q.A)(Ie,[["__scopeId","data-v-ab72f71a"]]);var Qe=De,Pe={class:"question-text"},Ne=["innerHTML"],Ve=(0,t.pM)({__name:"QuestionTransition",props:{qid:{},text:{}},setup:function(e){var n=e;return function(e,i){return(0,t.uX)(),(0,t.CE)("div",Pe,[(0,t.Lk)("div",{innerHTML:n.text},null,8,Ne)])}}});const ze=Ve;var Be=ze,Ge=["data-page-index","data-question-id"],Je={class:"question-container"},We={class:"row flow-navigation"},Ze={class:"col"},Ue="-99",Ye="-77",$e=(0,t.pM)({__name:"QuestionnaireApp",props:{questionnaireConfigAsString:{},filterConfigAsString:{},staticVariables:{},actionUrl:{},language:{}},setup:function(e){var n=(0,a.s9)(),i=n.t,r=n.locale,l=e,u=(0,t.KR)(JSON.parse(l.questionnaireConfigAsString)),c=x(u.value),d=(0,t.KR)(M(u.value)),p=JSON.parse(l.staticVariables),f=(0,t.KR)(JSON.parse(l.filterConfigAsString)),m=(0,t.KR)({}),h=o(f,d,p,m,c),b=h.evaluateFilters,g=h.checkIfAllItemsHidden,y=(0,t.KR)(null),q=s(u,m,d,c,Ue,y),L=q.currentPage,C=q.lastPageSubmitted,E=q.next,_=v(y).scrollToTop;(0,t.wB)(C,(function(e){e&&X()}));var w={single_choice:k,multi_choice:S,open:ie,matrix:Le,semantic_diff:Qe,transition:Be};function x(e){var n={};return e.forEach((function(e){n[e.question]=[],e.items.forEach((function(i){n[e.question].push(i.id)}))})),n}function M(e){var n={};return e.forEach((function(e){"single_choice"===e.type?n[e.question]=Ue:"transition"===e.type||("open"===e.type?!0===e.options.multi_item_response?e.items.forEach((function(e){return n[e.id]=Ue})):n[e.question]=Ue:"multi_choice"===e.type?e.items.forEach((function(e){return n[e.id]=0})):e.items.forEach((function(e){return n[e.id]=Ue})))})),n}function T(e){d.value[e.id]=e.response,null!==e.response&&(b(),g())}function H(){var e=Object.keys(m.value).filter((function(e){return m.value[e]}));e.forEach((function(e){if(e in d.value&&(d.value[e]=Ye),e.startsWith("question-")){var n=c[e]||[];n.forEach((function(e){e in d.value&&(d.value[e]=Ye)}))}}))}function X(){var e=new FormData;H(),e.append("post_data",JSON.stringify({responses:d.value,questionnaire_config:u.value}));var n=document.querySelector("input[name='csrfmiddlewaretoken']");n&&e.append("csrfmiddlewaretoken",n.value),fetch(l.actionUrl,{method:"POST",body:e}).then((function(e){e.redirected&&(window.location.href=e.url)})).catch((function(e){return console.error("Submit error:",e)}))}function O(){b(),g(),E(),_()}return(0,t.wB)((function(){return l.language}),(function(e){"string"===typeof e&&e.length>0&&(r.value=e)})),function(e,n){return(0,t.uX)(),(0,t.CE)("div",{ref_key:"questionnaireRoot",ref:y},[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(u.value,(function(e){return(0,t.bo)(((0,t.uX)(),(0,t.CE)("div",{key:e.question,"data-page-index":e.page,"data-question-id":e.question,ref_for:!0,ref:"questionDivs",class:"question-app-container"},[(0,t.Lk)("div",Je,[((0,t.uX)(),(0,t.Wv)((0,t.$y)(w[e.type]),{qid:e.question,text:e.text,items:e.items,scale:e.scale,options:e.options,required:e.required,hideObjectDict:m.value,onResponseChanged:T,class:"question-body"},null,40,["qid","text","items","scale","options","required","hideObjectDict"]))])],8,Ge)),[[t.aG,(0,t.R1)(L)===e.page&&!m.value[e.question]]])})),128)),(0,t.Lk)("div",We,[(0,t.Lk)("div",Ze,[(0,t.Lk)("button",{id:"next-page-btn",class:"flow-btn",type:"button",onClick:n[0]||(n[0]=function(){O()})},(0,t.v_)((0,t.R1)(i)("next-btn-label"))+"   › ",1)])])],512)}}});const en=$e;var nn=en,tn={mounted:function(e){e.addEventListener("input",(function(){e.value=e.value.replace(/\D/g,"")}))}},an={mounted:function(e){var n=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;e.addEventListener("blur",(function(){var i=e.nextElementSibling,t=n.test(e.value);i instanceof HTMLElement&&(e.classList.toggle("invalid-email",!t),(null===i||void 0===i?void 0:i.classList.contains("hint-invalid-input"))&&(i.style.display=t?"none":"block"))})),e.addEventListener("focus",(function(){var n=e.nextElementSibling;n instanceof HTMLElement&&(null===n||void 0===n?void 0:n.classList.contains("hint-invalid-input"))&&(n.style.display="none")}))}},rn=JSON.parse('{"next-btn-label":"Next","required-but-missing-hint":"Please answer this question.","hint-number-input":"Only numbers are allowed.","hint-email-input":"Enter email address in the format name{\'@\'}domain.com.","hint-invalid-email":"This is not a valid email pattern."}'),ln=JSON.parse('{"next-btn-label":"Weiter","required-but-missing-hint":"Bitte beantworten Sie diese Frage.","hint-number-input":"Es sind nur Zahlen erlaubt.","hint-email-input":"E-Mail-Adresse im Format name{\'@\'}domain.de eingeben.","hint-invalid-email":"Das scheint keine gültige E-Mail-Adresse zu sein."}'),on=function(){return on=Object.assign||function(e){for(var n,i=1,t=arguments.length;i<t;i++)for(var a in n=arguments[i],n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},on.apply(this,arguments)},sn=(0,a.hU)({legacy:!1,locale:"en",fallbackLocale:"en",messages:{en:rn,de:ln}}),un="#qapp",cn=document.querySelector(un),dn=(0,t.Ef)(nn,on({},cn.dataset));dn.directive("only-digits",tn),dn.directive("valid-email",an),dn.use(sn),dn.mount(un)}},n={};function i(t){var a=n[t];if(void 0!==a)return a.exports;var r=n[t]={exports:{}};return e[t](r,r.exports,i),r.exports}i.m=e,function(){var e=[];i.O=function(n,t,a,r){if(!t){var l=1/0;for(c=0;c<e.length;c++){t=e[c][0],a=e[c][1],r=e[c][2];for(var o=!0,s=0;s<t.length;s++)(!1&r||l>=r)&&Object.keys(i.O).every((function(e){return i.O[e](t[s])}))?t.splice(s--,1):(o=!1,r<l&&(l=r));if(o){e.splice(c--,1);var u=a();void 0!==u&&(n=u)}}return n}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[t,a,r]}}(),function(){i.d=function(e,n){for(var t in n)i.o(n,t)&&!i.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={377:0};i.O.j=function(n){return 0===e[n]};var n=function(n,t){var a,r,l=t[0],o=t[1],s=t[2],u=0;if(l.some((function(n){return 0!==e[n]}))){for(a in o)i.o(o,a)&&(i.m[a]=o[a]);if(s)var c=s(i)}for(n&&n(t);u<l.length;u++)r=l[u],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return i.O(c)},t=self["webpackChunkddm_questionnaire_frontend"]=self["webpackChunkddm_questionnaire_frontend"]||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))}();var t=i.O(void 0,[504],(function(){return i(875)}));t=i.O(t)})();
//# sourceMappingURL=ddm_questionnaire_frontend.js.map