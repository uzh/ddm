{"version":3,"file":"js/ddm_questionnaire_frontend.js","mappings":"0EAeO,SAASA,EAAeC,EAAWC,EAAYC,GAClD,OAAQA,GACJ,IAAK,KACD,OAAOF,GAAaC,EACxB,IAAK,KACD,OAAOD,GAAaC,EACxB,IAAK,IACD,OAAOD,EAAYC,EACvB,IAAK,IACD,OAAOD,EAAYC,EACvB,IAAK,KACD,OAAOD,GAAaC,EACxB,IAAK,KACD,OAAOD,GAAaC,EACxB,IAAK,WACD,OAAOE,OAAOH,GAAWI,SAASD,OAAOF,IAC7C,IAAK,eACD,OAAQE,OAAOH,GAAWI,SAASD,OAAOF,IAC9C,QACI,MAAM,IAAII,MAAM,qBAAqBC,OAAOJ,IAExD,CAaO,SAASK,EAAoBC,GAEhC,IAAIC,EAAe,GACfC,EAAI,EACR,MAAOA,EAAIF,EAAIG,OACX,GAAe,QAAXH,EAAIE,GAAc,CAClB,IAAIE,EAAOH,EAAaI,MACpBC,EAAON,EAAIE,EAAI,GACnBD,EAAaM,KAAKH,GAAQE,GAC1BJ,GAAK,CACT,KACoB,OAAXF,EAAIE,IAITD,EAAaM,KAAKP,EAAIE,IAHtBA,IAQR,OAA4B,IAAxBD,EAAaE,QAEVF,EAAaO,QAAO,SAAUC,EAAKC,GAAQ,OAAOD,GAAOC,CAAM,GAC1E,CC7DO,SAASC,EAAgBC,EAAcC,EAAWC,EAAiBC,EAAgBC,GAOtF,SAASC,IACLC,OAAOC,QAAQP,EAAaQ,OAAOC,SAAQ,SAAUC,GACjD,IAAIC,EAAMD,EAAG,GAAIE,EAAUF,EAAG,GAC9B,GAAuB,IAAnBE,EAAQrB,OAAZ,CAIA,IAAIsB,EAAc,GACdC,GAAU,EACdF,EAAQH,SAAQ,SAAUM,GAEtB,IAAIC,EAAkBf,EAAUO,MAAMO,EAAOE,QAC7C,GAAuB,MAAnBD,IAEAA,EAAkBd,EAAgBa,EAAOE,QAClB,MAAnBD,GAHR,CAOA,IAAIE,EAAavC,EAAeqC,EAAiBD,EAAOI,gBAAiBJ,EAAOK,oBAC3EN,EAIDA,GAAU,EAHVD,EAAYlB,KAAKoB,EAAOM,YAK5BR,EAAYlB,KAAKuB,EARjB,CASJ,IACAf,EAAeK,MAAMG,GAAOxB,EAAoB0B,EAtBhD,MAFIV,EAAeK,MAAMG,IAAO,CAyBpC,GACJ,CAIA,SAASW,IACLhB,OAAOC,QAAQH,GAAiBK,SAAQ,SAAUC,GAC9C,IAAIa,EAAWb,EAAG,GAAIc,EAAQd,EAAG,GACjC,GAAqB,IAAjBc,EAAMjC,OAAV,CAGA,IAAIkC,EAAYD,EAAME,OAAM,SAAUC,GAAQ,OAAsC,IAA/BxB,EAAeK,MAAMmB,EAAiB,IACvFF,IACAtB,EAAeK,MAAMe,IAAY,EAHrC,CAKJ,GACJ,CACA,OApDA,SAAU,WACNlB,GACJ,IAkDO,CACHA,gBAAiBA,EACjBiB,sBAAuBA,EAE/B,CCnDO,SAASM,EAAkBC,EAAqB1B,EAAgBF,EAAWG,EAAiB0B,EAAcC,GAC7G,IAAIC,GAAc,QAAI,GAClBC,GAAU,QAAI,GACdC,GAAU,QAAI,GACdC,GAAoB,SAAI,GACxBC,GAAwB,SAAI,GAUhC,SAASC,IACL,IAAIC,EAAQT,EAAoBrB,MAAM+B,KAAI,SAAUC,GAAK,OAAOA,EAAEC,IAAM,IACnD,IAAjBH,EAAM/C,QACN0C,EAAQzB,MAAQ,EAChB0B,EAAQ1B,MAAQ,IAGhByB,EAAQzB,MAAQkC,KAAKC,IAAIC,MAAMF,KAAMJ,GACrCJ,EAAQ1B,MAAQkC,KAAKG,IAAID,MAAMF,KAAMJ,IAEzCN,EAAYxB,MAAQyB,EAAQzB,KAChC,CAMA,SAASsC,IACL,OAAOjB,EAAoBrB,MAAMO,QAAO,SAAUyB,GAAK,OAAOA,EAAEC,OAAST,EAAYxB,KAAO,GAChG,CAIA,SAASd,IACL,GAAIqD,IAAwB,CACxB,GAAIf,EAAYxB,QAAU0B,EAAQ1B,MAE9B,YADA2B,EAAkB3B,OAAQ,GAG9BwB,EAAYxB,QACZ,IAAIwC,EAAYC,MACXD,GAAahB,EAAYxB,MAAQ0B,EAAQ1B,SAC1C2B,EAAkB3B,OAAQ,EAElC,CACJ,CAMA,SAASuC,IACL,OAAOX,EAAsB5B,OAAS0C,GAC1C,CAOA,SAASD,IACL,OAAQE,IAEJ,GADAnB,EAAYxB,QACRwB,EAAYxB,MAAQ0B,EAAQ1B,MAC5B,OAAO,EAGf,OAAO,CACX,CAOA,SAAS0C,IACL,IAAIE,EAAUtB,EACVuB,EAAmB,GACnBC,EAAmB,IAAIC,IACvBC,EAAOzB,EAAYvB,MA4BvB,OA1BAgD,EAAKC,iBAAiB,qCAAqChD,SAAQ,SAAUiD,GAAM,OAAOA,EAAGC,UAAUC,OAAO,uBAAyB,IACvIJ,EAAKC,iBAAiB,6BAA6BhD,SAAQ,SAAUiD,GAAM,OAAOA,EAAGC,UAAUC,OAAO,OAAS,IAC/Gd,IAAqBrC,SAAQ,SAAU+B,GACnC,GAAKA,EAAEqB,SAAP,CAGA,IAAIrC,EAAQpB,EAAgBoC,EAAEjB,UAC9B,GAAqB,IAAjBC,EAAMjC,OAAc,CACpB,IAAIuE,EAAU7D,EAAUO,MAAMgC,EAAEjB,YAAc6B,EAC1CW,GAAW5D,EAAeK,MAAMgC,EAAEjB,UAClCuC,GAAWC,IACXV,EAAiB1D,KAAK6C,EAAEjB,UACxB+B,EAAiBU,IAAIxB,EAAEjB,UAE/B,MAEIC,EAAMf,SAAQ,SAAUkB,GACpB,IAAImC,EAAU7D,EAAUO,MAAMmB,KAAUyB,EACpCW,GAAW5D,EAAeK,MAAMmB,GAChCmC,GAAWC,IACXV,EAAiB1D,KAAKgC,GACtB2B,EAAiBU,IAAIxB,EAAEjB,UAE/B,GAnBM,CAqBd,IACgC,IAA5B8B,EAAiB9D,SAGrB8D,EAAiB5C,SAAQ,SAAUwD,GAAK,IAAIvD,EAAI,OAAqD,QAA7CA,EAAK8C,EAAKU,cAAc,WAAaD,UAAuB,IAAPvD,OAAgB,EAASA,EAAGiD,UAAUK,IAAI,uBAAyB,IAChLX,EAAiB5C,SAAQ,SAAUwD,GAAK,IAAIvD,EAAI,OAA4D,QAApDA,EAAK8C,EAAKU,cAAc,kBAAoBD,UAAuB,IAAPvD,OAAgB,EAASA,EAAGiD,UAAUK,IAAI,OAAS,IACvK5B,EAAsB5B,OAAQ,GACvB,EACX,CASA,SAAS2C,IACL,IAAIK,EAAOzB,EAAYvB,MACvB,IAAKgD,EACD,OAAO,EACX,IAAIW,EAAWX,EAAKC,iBAAiB,qBAAqBvE,OAAO8C,EAAYxB,MAAO,OAEpF,OAAwB,IAApB2D,EAAS5E,QAGN6E,MAAMC,KAAKF,GAAUG,MAAK,SAAUZ,GACvC,IAAIa,EAAab,EAAGc,aAAa,oBACjC,OAA4C,IAArCrE,EAAeK,MAAM+D,EAChC,GACJ,CACA,OAxIA,SAAU,WACNlC,GACJ,IAsIO,CACHL,YAAaA,EACbG,kBAAmBA,EACnBzC,KAAMA,EAEd,CC7JA,SAAS+E,EAAoBC,GACzB,IAAIC,EAAeD,EAAQE,QAAQ,2BAC/BC,EAAoC,OAAjBF,QAA0C,IAAjBA,OAA0B,EAASA,EAAaG,mBAChG,GAAID,EAAkB,CAClB,IAAIE,EAAkE,SAAtDC,OAAOC,iBAAiBJ,GAAkBK,QAC1D,OAAOH,EAAYF,EAAmBJ,EAAoBI,EAC9D,CACA,OAAO,IACX,CAQO,SAASM,EAAkCzB,GAC9C,IAAIiB,EAAejB,EAAGkB,QAAQ,kBAC9B,IAAKD,EACD,OAAO,EACX,IAAIS,EAAeT,EAAaT,cAAc,kBAC9C,OAAOkB,EAAeA,EAAaC,aAAe,CACtD,CAUO,SAASC,EAAaC,GACzB,IAAIC,EAAaD,EAAME,OAAOb,QAAQ,oBACtC,GAAKY,EAAL,CAEA,IAAIE,EAAUF,EAAWV,mBACzB,GAAIY,EAAS,CACT,IAAIC,EAAeR,EAAkCK,GACjDI,EAAaF,EAAQG,wBAAwBC,IAAMd,OAAOe,QAC1DC,EAAmBJ,EAAaD,EACpCX,OAAOiB,SAAS,CAAEH,IAAKE,EAAkBE,SAAU,UACvD,KACK,CACD,IAAIrB,EAAmBJ,EAAoBe,GAC3C,GAAIX,EAAkB,CAClB,IAAIsB,EAAkBtB,EAAiBgB,wBAAwBC,IAAMd,OAAOe,QAC5Ef,OAAOiB,SAAS,CAAEH,IAAKK,EAAiBD,SAAU,UACtD,MAEIlB,OAAOiB,SAAS,CAAEH,IAAKM,SAASC,KAAKC,aAAcJ,SAAU,UAErE,CAjBU,CAkBd,CAOO,SAASK,EAAuBC,GACnC,IAAIC,EAAaL,SAAS3C,iBAAiB+C,GAC3CC,EAAWhG,SAAQ,SAAUiG,GACzB,IAAIC,EAAaD,EAAUjD,iBAAiB,eAC5CkD,EAAWlG,SAAQ,SAAUiD,GAAM,OAAOA,EAAGC,UAAUC,OAAO,mBAAoB,kBAAoB,IAClG+C,EAAWpH,OAAS,IACpBoH,EAAW,GAAGhD,UAAUK,IAAI,oBACxB2C,EAAWpH,OAAS,GACpBoH,EAAWA,EAAWpH,OAAS,GAAGoE,UAAUK,IAAI,mBAG5D,GACJ,CC1EO,SAAS4C,EAAiB7E,GAC7B,IAAI8E,EAAsB,IACtBC,GAA0B,QAAI9B,OAAO+B,YAAcF,GAWvD,SAASG,IACLhC,OAAOiC,iBAAiB,SAAUC,GAClClC,OAAOiC,iBAAiB,SAAUE,GAClCnC,OAAOiC,iBAAiB,OAAQE,EACpC,CAIA,SAASC,IACLpC,OAAOqC,oBAAoB,UAAU,WAAc,IACnDrC,OAAOqC,oBAAoB,SAAUF,GACrCnC,OAAOqC,oBAAoB,OAAQF,EACvC,CAIA,SAASD,IACLJ,EAAwBtG,MAAQwE,OAAO+B,YAAcF,CACzD,CAOA,SAASM,IACL,IAAI3D,EAAOzB,EAAYvB,MACnB8G,EAAelD,MAAMC,KAAKb,EAAKC,iBAAiB,kBAChD8D,EAAiB,KACjBC,EAAcC,IACbX,EAAwBtG,OAI7B8G,EAAa7G,SAAQ,SAAUiH,GAC3B,IAAIC,EAAOD,EAAI7B,wBACX+B,EAAiBzC,EAAkCuC,GACnDG,EAAWnF,KAAKoF,IAAIH,EAAK7B,KACzBf,EAAY4C,EAAKI,OAAS,GAAKJ,EAAK7B,IAAMd,OAAOgD,aAAeL,EAAK7B,KAAyB,IAAjB8B,EAC7E7C,GAAa8C,EAAWL,IACxBA,EAAcK,EACdN,EAAiBG,EAEzB,IACAJ,EAAa7G,SAAQ,SAAUiH,GAAO,OAAQA,EAAIO,MAAMC,QAAU,KAAQ,IACtEX,IACAA,EAAeU,MAAMC,QAAU,MAf/BZ,EAAa7G,SAAQ,SAAUiH,GAAO,OAAQA,EAAIO,MAAMC,QAAU,GAAM,GAiBhF,CAKA,SAASC,IACLC,YAAW,WACPhC,SAASiC,gBAAgBpC,SAAS,CAC9BH,IAAK,EACLI,SAAU,WAGdE,SAASiC,gBAAgBC,UAAY,EACrClC,SAASC,KAAKiC,UAAY,CAC9B,GAAG,IACP,CACA,OA1EA,SAAU,WACNpB,IACAF,GACJ,KACA,SAAgB,WACZI,GACJ,IAoEO,CACHe,YAAaA,EAErB,CCnFA,IAAII,EAAa,CAAC,aACdC,EAAa,CAAC,MACdC,EAAa,CAAC,KAAM,OAAQ,SAC5BC,EAAa,CAAC,OACdC,EAAa,CAAC,aAElB,GAA6B,QAAiB,CAC1CC,OAAQ,uBACRC,MAAO,CACHC,IAAK,CAAC,EACNC,KAAM,CAAC,EACPvH,MAAO,CAAC,EACRrB,eAAgB,CAAC,GAErB6I,MAAO,CAAC,mBACRC,MAAO,SAAUC,EAASxI,GACtB,IAAIyI,EAASzI,EAAG0I,KAEZP,IADI,UAAUQ,EACNH,GACRE,EAAOD,EACX,SAASG,EAAgB/D,GACrB,IAAIE,EAASF,EAAME,OACnB2D,EAAK,kBAAmB,CACpBG,GAAI9D,EAAO+D,KACXC,SAAUhE,EAAOjF,OAEzB,CACA,OAAO,SAAUkJ,EAAMC,GACnB,OAAQ,WAAc,QAAoB,MAAO,KAAM,EACnD,QAAoB,MAAO,CACvBC,MAAO,gBACPC,UAAWhB,EAAME,MAClB,KAAM,EAAGR,IACZ,QAAoB,MAAO,CACvBgB,GAAI,UAAYV,EAAMC,IACtBc,MAAO,uDACR,GACE,SAAW,IAAO,QAAoB,KAAW,MAAM,QAAYf,EAAMrH,OAAO,SAAUG,GACvF,OAAO,UAAiB,WAAc,QAAoB,MAAO,CAC7DhB,IAAKgB,EAAK4H,GACVK,MAAO,iBACR,EACC,QAAoB,QAAS,CACzBA,MAAO,mBACPE,KAAM,QACNP,GAAI,KAAOV,EAAMC,IAAM,IAAMnH,EAAK4H,GAClCC,KAAMX,EAAMC,IACZtI,MAAOmB,EAAKnB,MACZuJ,SAAUT,GACX,KAAM,GAAIb,IACb,QAAoB,QAAS,CACzBuB,IAAK,KAAOnB,EAAMC,IAAM,IAAMnH,EAAK4H,GACnCK,MAAO,6BACR,EACC,QAAoB,OAAQ,CACxBC,UAAWlI,EAAKsI,OACjB,KAAM,EAAGtB,IACb,EAAGD,MACL,CACD,CAAC,MAASG,EAAM1I,eAAewB,EAAK4H,MAE5C,IAAI,OACL,EAAGf,IAEd,CACJ,I,SC7DJ,MAAM0B,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,QCNI,EAAa,CAAC,aACd,EAAa,CAAEN,MAAO,uDACtB,EAAa,CAAC,KAAM,OAAQ,SAC5B,EAAa,CAAC,OACd,EAAa,CAAC,aACdO,EAAa,CAAC,MAElB,GAA6B,QAAiB,CAC1CvB,OAAQ,sBACRC,MAAO,CACHC,IAAK,CAAC,EACNC,KAAM,CAAC,EACPvH,MAAO,CAAC,EACRrB,eAAgB,CAAC,GAErB6I,MAAO,CAAC,mBACRC,MAAO,SAAUC,EAASxI,GACtB,IAAIyI,EAASzI,EAAG0I,KACZC,GAAI,UAAUA,EACdR,EAAQK,EACRE,EAAOD,EACX,SAASG,EAAgB/D,GACrB,IAAIE,EAASF,EAAME,OACnB2D,EAAK,kBAAmB,CACpBG,GAAI9D,EAAO+D,KACXC,SAAUhE,EAAOjF,OAEzB,CACA,OAAO,SAAUkJ,EAAMC,GACnB,OAAQ,WAAc,QAAoB,MAAO,KAAM,EACnD,QAAoB,MAAO,CACvBC,MAAO,gBACPC,UAAWhB,EAAME,MAClB,KAAM,EAAG,IACZ,QAAoB,MAAO,EAAY,GAClC,SAAW,IAAO,QAAoB,KAAW,MAAM,QAAYF,EAAMrH,OAAO,SAAUG,GACvF,OAAO,UAAiB,WAAc,QAAoB,MAAO,CAC7DhB,IAAKgB,EAAK4H,GACVK,MAAO,iBACR,EACC,QAAoB,QAAS,CACzBA,MAAO,aACPE,KAAM,WACNP,GAAI,KAAOV,EAAMC,IAAM,IAAMnH,EAAK4H,GAClCC,KAAM7H,EAAK4H,GACX/I,MAAOmB,EAAKnB,MACZuJ,SAAUT,GACX,KAAM,GAAI,IACb,QAAoB,QAAS,CACzBU,IAAK,KAAOnB,EAAMC,IAAM,IAAMnH,EAAK4H,GACnCK,MAAO,6BACR,CACCD,EAAO,KAAOA,EAAO,IAAK,QAAoB,OAAQ,CAAEC,MAAO,mBAAqB,KAAM,KAC1F,QAAoB,OAAQ,CACxBC,UAAWlI,EAAKsI,OACjB,KAAM,EAAG,IACb,EAAG,MACL,CACD,CAAC,MAASpB,EAAM1I,eAAewB,EAAK4H,MAE5C,IAAI,OACJ,QAAoB,IAAK,CACrBA,GAAI,iBAAmBV,EAAMC,IAC7Bc,MAAO,8BACR,SAAiB,QAAOP,EAAP,CAAU,8BAA+B,EAAGc,MAG5E,CACJ,IChEJ,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,QCNI,EAAa,CAAC,aACd,EAAa,CAAC,MACd,EAAa,CAAC,OAAQ,aACtB,EAAa,CAAC,OAAQ,aACtB,EAAa,CAAC,MACd,EAAa,CAAC,OAAQ,aACtBC,EAAa,CAAER,MAAO,cACtBS,EAAa,CAAC,MACdC,EAAa,CAAC,OAAQ,aACtBC,EAAc,CAAEX,MAAO,2CACvBY,EAAc,CAAEZ,MAAO,cACvBa,EAAc,CAAC,MACfC,EAAc,CAAC,MACfC,EAAc,CAAC,MACfC,EAAc,CAAC,aACfC,EAAc,CAAC,OAAQ,aACvBC,EAAc,CAAC,OAAQ,aACvBC,EAAc,CAAC,OAAQ,aACvBC,EAAc,CAAEpB,MAAO,cACvBqB,EAAc,CAAC,OAAQ,aACvBC,EAAc,CAAEtB,MAAO,2CACvBuB,EAAc,CAAEvB,MAAO,cAG3B,IAA6B,QAAiB,CAC1ChB,OAAQ,eACRC,MAAO,CACHC,IAAK,CAAC,EACNC,KAAM,CAAC,EACPqC,QAAS,CAAC,EACV5J,MAAO,CAAC,EACRrB,eAAgB,CAAC,GAErB6I,MAAO,CAAC,mBACRC,MAAO,SAAUC,EAASxI,GACtB,IAAIyI,EAASzI,EAAG0I,KACZP,EAAQK,EACRE,EAAOD,EACPE,GAAI,UAAUA,EACdgC,GAAe,SAAS,WACxB,OAA0C,OAAnCxC,EAAMuC,QAAQE,iBAA4BzC,EAAMuC,QAAQE,sBAAmBC,CACtF,IACA,SAASjC,EAAgB/D,GACrB,IAAIE,EAASF,EAAME,OACnB2D,EAAK,kBAAmB,CACpBG,GAAI9D,EAAO+D,KACXC,SAAUhE,EAAOjF,OAEzB,CACA,OAAO,SAAUkJ,EAAMC,GACnB,IAAI6B,GAAyB,QAAkB,eAC3CC,GAAyB,QAAkB,eAC/C,OAAQ,WAAc,QAAoB,MAAO,KAAM,EACnD,QAAoB,MAAO,CACvB7B,MAAO,gBACPC,UAAWhB,EAAME,MAClB,KAAM,EAAG,GACVF,EAAMuC,QAAQM,qBAqEV,QAAoB,IAAI,KApEvB,WAAc,QAAoB,MAAO,CACxC/K,IAAK,EACL4I,GAAI,UAAYV,EAAMC,IACtBc,MAAO,iBACR,CAC+B,SAA7Bf,EAAMuC,QAAQO,aACR,WAAc,QAAoB,KAAW,CAAEhL,IAAK,GAAK,CAC7B,UAA1BkI,EAAMuC,QAAQlG,UACR,WAAc,QAAoB,QAAS,CAC1CvE,IAAK,EACLiJ,MAAO,WACPE,KAAM,OACNN,KAAMX,EAAMC,IACZ8C,UAAWP,EAAa7K,MACxBuJ,SAAUT,GACX,KAAM,GAAI,KACX,QAAoB,IAAI,GACH,UAA1BT,EAAMuC,QAAQlG,UACR,WAAc,QAAoB,WAAY,CAC7CvE,IAAK,EACLiJ,MAAO,yBACPJ,KAAMX,EAAMC,IACZ8C,UAAWP,EAAa7K,MACxBuJ,SAAUT,GACX,KAAM,GAAI,KACX,QAAoB,IAAI,IAC9B,QAAoB,IAAK,CACrBC,GAAI,iBAAmBV,EAAMC,IAC7Bc,MAAO,8BACR,SAAiB,QAAOP,EAAP,CAAU,8BAA+B,EAAG,IACjE,KAC6B,YAA7BR,EAAMuC,QAAQO,aACV,WAAc,QAAoB,KAAW,CAAEhL,IAAK,GAAK,EACxD,SAAgB,QAAoB,QAAS,CACzCmJ,KAAM,OACNF,MAAO,WACPJ,KAAMX,EAAMC,IACZ8C,UAAWP,EAAa7K,MACxBuJ,SAAUT,GACX,KAAM,GAAI,GAAa,CACtB,CAACkC,MAEL,QAAoB,IAAKpB,GAAY,SAAiB,QAAOf,EAAP,CAAU,sBAAuB,IACvF,QAAoB,IAAK,CACrBE,GAAI,iBAAmBV,EAAMC,IAC7Bc,MAAO,8BACR,SAAiB,QAAOP,EAAP,CAAU,8BAA+B,EAAGgB,IACjE,KAC6B,UAA7BxB,EAAMuC,QAAQO,aACV,WAAc,QAAoB,KAAW,CAAEhL,IAAK,GAAK,EACxD,SAAgB,QAAoB,QAAS,CACzCmJ,KAAM,QACNF,MAAO,WACPJ,KAAMX,EAAMC,IACZ8C,UAAWP,EAAa7K,MACxBuJ,SAAUT,GACX,KAAM,GAAIgB,GAAa,CACtB,CAACmB,MAEL,QAAoB,IAAKlB,GAAa,SAAiB,QAAOlB,EAAP,CAAU,uBAAwB,IACzF,QAAoB,IAAKmB,GAAa,SAAiB,QAAOnB,EAAP,CAAU,qBAAsB,IACvF,QAAoB,IAAK,CACrBE,GAAI,iBAAmBV,EAAMC,IAC7Bc,MAAO,8BACR,SAAiB,QAAOP,EAAP,CAAU,8BAA+B,EAAGoB,IACjE,MACD,QAAoB,IAAI,IACvC,EAAG,IAET5B,EAAMuC,QAA2B,sBAC3B,WAAc,QAAoB,MAAO,CACxCzK,IAAK,EACL4I,GAAI,UAAYV,EAAMC,IACtBc,MAAO,iBACR,GACE,SAAW,IAAO,QAAoB,KAAW,MAAM,QAAYf,EAAMrH,OAAO,SAAUG,GACvF,OAAO,UAAiB,WAAc,QAAoB,MAAO,CAC7DhB,IAAKgB,EAAK4H,GACVA,GAAI,UAAY5H,EAAK4H,GACrBK,MAAO,aACR,EACC,QAAoB,MAAO,CACvBC,UAAWlI,EAAKsI,OACjB,KAAM,EAAGW,IACZ,QAAoB,MAAO,KAAM,CACC,SAA7B/B,EAAMuC,QAAQO,aACR,WAAc,QAAoB,KAAW,CAAEhL,IAAK,GAAK,CAC7B,UAA1BkI,EAAMuC,QAAQlG,UACR,WAAc,QAAoB,QAAS,CAC1CvE,IAAK,EACLiJ,MAAO,WACPE,KAAM,OACNN,KAAM7H,EAAK4H,GACXqC,UAAWP,EAAa7K,MACxBuJ,SAAUT,GACX,KAAM,GAAIuB,KACX,QAAoB,IAAI,GACH,UAA1BhC,EAAMuC,QAAQlG,UACR,WAAc,QAAoB,WAAY,CAC7CvE,IAAK,EACLiJ,MAAO,yBACPJ,KAAM7H,EAAK4H,GACXqC,UAAWP,EAAa7K,MACxBuJ,SAAUT,GACX,KAAM,GAAIwB,KACX,QAAoB,IAAI,IAC/B,KAC6B,YAA7BjC,EAAMuC,QAAQO,aACV,WAAc,QAAoB,KAAW,CAAEhL,IAAK,GAAK,EACxD,SAAgB,QAAoB,QAAS,CACzCmJ,KAAM,OACNF,MAAO,WACPJ,KAAM7H,EAAK4H,GACXqC,UAAWP,EAAa7K,MACxBuJ,SAAUT,GACX,KAAM,GAAIyB,GAAc,CACvB,CAACS,MAEL,QAAoB,IAAKR,GAAa,SAAiB,QAAO3B,EAAP,CAAU,sBAAuB,IACzF,KAC6B,UAA7BR,EAAMuC,QAAQO,aACV,WAAc,QAAoB,KAAW,CAAEhL,IAAK,GAAK,EACxD,SAAgB,QAAoB,QAAS,CACzCmJ,KAAM,QACNF,MAAO,WACPJ,KAAM7H,EAAK4H,GACXqC,UAAWP,EAAa7K,MACxBuJ,SAAUT,GACX,KAAM,GAAI2B,GAAc,CACvB,CAACQ,MAEL,QAAoB,IAAKP,GAAa,SAAiB,QAAO7B,EAAP,CAAU,uBAAwB,IACzF,QAAoB,IAAK8B,GAAa,SAAiB,QAAO9B,EAAP,CAAU,qBAAsB,IACxF,MACD,QAAoB,IAAI,MAE3C,EAAGsB,IAAe,CACjB,CAAC,MAAS9B,EAAM1I,eAAewB,EAAK4H,MAE5C,IAAI,OACL,EAAGmB,KACJ,QAAoB,IAAI,IAEtC,CACJ,ICtMJ,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,YAAY,qBAEvE,UCNI,GAAa,CAAC,aACd,GAAa,CAAEd,MAAO,2BACtB,GAAa,CAAC,MACd,GAAa,CAAC,aACd,GAAa,CAAEA,MAAO,qBACtB,GAAa,CACbjJ,IAAK,EACLiJ,MAAO,qBAEP,GAAa,CAAC,aACd,GAAa,CAAEA,MAAO,2CACtB,GAAa,CAAEA,MAAO,kCACtB,GAAc,CAAC,aACf,GAAc,CAAC,aACf,GAAc,CAAEA,MAAO,yCACvB,GAAc,CAAC,KAAM,OAAQ,SAC7B,GAAc,CAAC,OACf,GAAc,CAAC,aACf,GAAc,CAAC,MAInB,IAA6B,QAAiB,CAC1ChB,OAAQ,iBACRC,MAAO,CACHC,IAAK,CAAC,EACNC,KAAM,CAAC,EACPvH,MAAO,CAAC,EACRqK,MAAO,CAAC,EACRT,QAAS,CAAC,EACVjL,eAAgB,CAAC,GAErB6I,MAAO,CAAC,mBACRC,MAAO,SAAUC,EAASxI,GACtB,IAAIyI,EAASzI,EAAG0I,KACZC,GAAI,UAAUA,EACdR,EAAQK,EACRE,EAAOD,EAIX,SAASG,EAAgB/D,GACrB,IAAIE,EAASF,EAAME,OACnB2D,EAAK,kBAAmB,CACpBG,GAAI9D,EAAO+D,KACXC,SAAUhE,EAAOjF,OAEzB,CACA,OAVA,SAAU,WACN+F,EAAuB,mBAC3B,IAQO,SAAUmD,EAAMC,GACnB,OAAQ,WAAc,QAAoB,MAAO,KAAM,EACnD,QAAoB,MAAO,CACvBC,MAAO,gBACPC,UAAWhB,EAAME,MAClB,KAAM,EAAG,KACZ,QAAoB,MAAO,GAAY,GAClC,SAAW,IAAO,QAAoB,KAAW,MAAM,QAAYF,EAAMrH,OAAO,SAAUG,GACvF,OAAO,UAAiB,WAAc,QAAoB,MAAO,CAC7DhB,IAAKgB,EAAK4H,GACVK,MAAO,eACPL,GAAI,UAAY5H,EAAK4H,IACtB,EACC,QAAoB,MAAO,CACvBK,OAAO,QAAgB,CAAC,qBAAsB,CAAEkC,KAAMjD,EAAMgD,MAAMtM,OAAS,KAC3EsK,UAAWlI,EAAKsI,OACjB,KAAM,GAAI,KACb,QAAoB,MAAO,GAAY,CAClCpB,EAAMuC,QAA2B,sBAC3B,WAAc,QAAoB,MAAO,GAAY,EACpD,QAAoB,MAAO,CACvBxB,OAAO,QAAgB,CAAC,8CAA+C,CAAEmC,OAAQlD,EAAMgD,MAAMtM,OAAS,KACtGsK,UAAWlI,EAAKsI,OACjB,KAAM,GAAI,KACb,QAAoB,MAAO,GAAY,GAClC,SAAW,IAAO,QAAoB,KAAW,MAAM,QAAYpB,EAAMgD,OAAO,SAAUG,EAAOzC,GAC9F,OAAQ,WAAc,QAAoB,MAAO,CAC7C5I,IAAK4I,EACLK,OAAO,QAAgB,CAAC,wBAAyB,CAAE,cAAeoC,EAAMC,gBAAiB,kBAAmBD,EAAMC,oBACnH,EACC,QAAoB,MAAO,GAAY,EACnC,QAAoB,OAAQ,CACxBrC,MAAO,mBACPC,UAAWmC,EAAME,eAClB,KAAM,EAAG,OAEjB,EACP,IAAI,YAGV,QAAoB,IAAI,IAC9B,QAAoB,MAAO,CACvBtC,OAAO,QAAgB,CAAC,qBAAsB,CAAE,sBAAuBf,EAAMgD,MAAMtM,OAAS,MAC7F,EACC,QAAoB,MAAO,CACvBqK,OAAO,QAAgB,CAAC,uBAAwB,CAAEmC,OAAQlD,EAAMgD,MAAMtM,OAAS,KAC/EsK,UAAWlI,EAAKsI,OACjB,KAAM,GAAI,KACb,QAAoB,MAAO,GAAa,GACnC,SAAW,IAAO,QAAoB,KAAW,MAAM,QAAYpB,EAAMgD,OAAO,SAAUG,EAAOzC,GAC9F,OAAQ,WAAc,QAAoB,MAAO,CAC7C5I,IAAK4I,EACLK,OAAO,QAAgB,CAAC,wBAAyB,CAAE,cAAeoC,EAAMC,gBAAiB,kBAAmBD,EAAMC,oBACnH,EACC,QAAoB,QAAS,CACzBnC,KAAM,QACNP,GAAIV,EAAMC,IAAM,IAAMnH,EAAK4H,GAAK,IAAMyC,EAAMxL,MAC5CgJ,KAAM7H,EAAK4H,GACX/I,MAAOwL,EAAMxL,MACbuJ,SAAUT,EACV6C,QAASxC,EAAO,KAAOA,EAAO,GAE1B,WAEI,IADA,IAAIyC,EAAO,GACFC,EAAK,EAAGA,EAAKC,UAAU/M,OAAQ8M,IACpCD,EAAKC,GAAMC,UAAUD,GAEzB,OAAQ,QAAO/G,KAAiB,QAAOA,GAAc1C,WAAM,EAAQwJ,EACvE,IACL,KAAM,GAAI,KACb,QAAoB,QAAS,CACzBpC,IAAKnB,EAAMC,IAAM,IAAMnH,EAAK4H,GAAK,IAAMyC,EAAMxL,MAC7CoJ,OAAO,QAAgB,CAAC,6BAA8B,CAAE,cAAeoC,EAAMC,oBAC9E,EACC,QAAoB,OAAQ,CACxBrC,MAAO,mBACPC,UAAWmC,EAAMO,aAClB,KAAM,EAAG,KACb,GAAI,KACR,EACP,IAAI,SAET,MAEP,QAAoB,IAAK,CACrBhD,GAAI,iBAAmB5H,EAAK4H,GAC5BK,MAAO,8BACR,SAAiB,QAAOP,EAAP,CAAU,8BAA+B,EAAG,KACjE,EAAG,KAAc,CAChB,CAAC,MAASR,EAAM1I,eAAewB,EAAK4H,MAE5C,IAAI,SAGhB,CACJ,IC3IJ,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,YAAY,qBAEvE,UCNI,GAAa,CAAC,aACd,GAAa,CAAEK,MAAO,2BACtB,GAAa,CAAC,MACd,GAAa,CAAEA,MAAO,kBACtB,GAAa,CAAC,aACd,GAAa,CAAEA,MAAO,mBACtB,GAAa,CACbjJ,IAAK,EACLiJ,MAAO,oCAEP,GAAa,CAAC,KAAM,OAAQ,SAC5B,GAAa,CAAC,OACd,GAAc,CAAC,aACf,GAAc,CAAC,aACf,GAAc,CAAEA,MAAO,6CACvB,GAAc,CACdjJ,IAAK,EACLiJ,MAAO,yCAEP,GAAc,CAAC,KAAM,OAAQ,SAC7B,GAAc,CAAC,OACf,GAAc,CAAC,aACf,GAAc,CAAC,MAInB,IAA6B,QAAiB,CAC1ChB,OAAQ,+BACRC,MAAO,CACHC,IAAK,CAAC,EACNC,KAAM,CAAC,EACPvH,MAAO,CAAC,EACRqK,MAAO,CAAC,EACR1L,eAAgB,CAAC,GAErB6I,MAAO,CAAC,mBACRC,MAAO,SAAUC,EAASxI,GACtB,IAAIyI,EAASzI,EAAG0I,KACZC,GAAI,UAAUA,EACdR,EAAQK,EACRE,EAAOD,EAIX,SAASG,EAAgB/D,GACrB,IAAIE,EAASF,EAAME,OACnB2D,EAAK,kBAAmB,CACpBG,GAAI9D,EAAO+D,KACXC,SAAUhE,EAAOjF,OAEzB,CACA,OAVA,SAAU,WACN+F,EAAuB,kBAC3B,IAQO,SAAUmD,EAAMC,GACnB,OAAQ,WAAc,QAAoB,MAAO,KAAM,EACnD,QAAoB,MAAO,CACvBC,MAAO,gBACPC,UAAWhB,EAAME,MAClB,KAAM,EAAG,KACZ,QAAoB,MAAO,GAAY,GAClC,SAAW,IAAO,QAAoB,KAAW,MAAM,QAAYF,EAAMrH,OAAO,SAAUG,GACvF,OAAO,UAAiB,WAAc,QAAoB,MAAO,CAC7DhB,IAAKgB,EAAK4H,GACVA,GAAI,UAAY5H,EAAK4H,GACrBK,MAAO,gBACR,EACC,QAAoB,MAAO,GAAY,EACnC,QAAoB,MAAO,CACvBA,MAAO,wCACPC,UAAWlI,EAAKsI,OACjB,KAAM,EAAG,KACZ,QAAoB,MAAO,GAAY,GAClC,SAAW,IAAO,QAAoB,KAAW,MAAM,QAAYpB,EAAMgD,OAAO,SAAUG,EAAOQ,GAC9F,OAAQ,WAAc,QAAoB,KAAW,CAAE7L,IAAK6L,GAAO,CAC7DR,EAAMC,iBA4BF,QAAoB,IAAI,KA3BvB,WAAc,QAAoB,MAAO,GAAY,EACpD,QAAoB,QAAS,CACzBnC,KAAM,QACNP,GAAIV,EAAMC,IAAM,IAAMnH,EAAK4H,GAAK,IAAMyC,EAAMxL,MAC5CgJ,KAAM7H,EAAK4H,GACX/I,MAAOwL,EAAMxL,MACbuJ,SAAUT,EACV6C,QAASxC,EAAO,KAAOA,EAAO,GAE1B,WAEI,IADA,IAAIyC,EAAO,GACFC,EAAK,EAAGA,EAAKC,UAAU/M,OAAQ8M,IACpCD,EAAKC,GAAMC,UAAUD,GAEzB,OAAQ,QAAO/G,KAAiB,QAAOA,GAAc1C,WAAM,EAAQwJ,EACvE,IACL,KAAM,GAAI,KACb,QAAoB,QAAS,CACzBpC,IAAKnB,EAAMC,IAAM,IAAMnH,EAAK4H,GAAK,IAAMyC,EAAMxL,MAC7CoJ,OAAO,QAAgB,CAAC,6BAA8B,CAAE,cAAeoC,EAAMC,oBAC9E,EACC,QAAoB,OAAQ,CACxBrC,MAAO,kCACPC,UAAWmC,EAAMO,aAClB,KAAM,EAAG,KACb,GAAI,QAGhB,GACP,IAAI,SAER,QAAoB,MAAO,CACvB3C,MAAO,uBACPC,UAAWlI,EAAK8K,WACjB,KAAM,EAAG,KACZ,QAAoB,MAAO,GAAa,GACnC,SAAW,IAAO,QAAoB,KAAW,MAAM,QAAY5D,EAAMgD,OAAO,SAAUG,EAAOQ,GAC9F,OAAQ,WAAc,QAAoB,KAAW,CACjD7L,IAAK,OAAS6L,GACf,CACER,EAAqB,kBACf,WAAc,QAAoB,MAAO,GAAa,EACrD,QAAoB,QAAS,CACzBlC,KAAM,QACNP,GAAIV,EAAMC,IAAM,IAAMnH,EAAK4H,GAAK,IAAMyC,EAAMxL,MAC5CgJ,KAAM7H,EAAK4H,GACX/I,MAAOwL,EAAMxL,MACbuJ,SAAUT,GACX,KAAM,GAAI,KACb,QAAoB,QAAS,CACzBU,IAAKnB,EAAMC,IAAM,IAAMnH,EAAK4H,GAAK,IAAMyC,EAAMxL,MAC7CoJ,OAAO,QAAgB,CAAC,6BAA8B,CAAE,cAAeoC,EAAMC,oBAC9E,EACC,QAAoB,OAAQ,CACxBrC,MAAO,kCACPC,UAAWmC,EAAMO,aAClB,KAAM,EAAG,KACb,GAAI,QAET,QAAoB,IAAI,IAC/B,GACP,IAAI,WAGZ,QAAoB,IAAK,CACrBhD,GAAI,iBAAmB5H,EAAK4H,GAC5BK,MAAO,sCACR,SAAiB,QAAOP,EAAP,CAAU,8BAA+B,EAAG,KACjE,EAAG,KAAc,CAChB,CAAC,MAASR,EAAM1I,eAAewB,EAAK4H,MAE5C,IAAI,SAGhB,CACJ,IChJJ,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,YAAY,qBAEvE,UCNI,GAAa,CAAEK,MAAO,iBACtB,GAAa,CAAC,aAClB,IAA6B,QAAiB,CAC1ChB,OAAQ,qBACRC,MAAO,CACHC,IAAK,CAAC,EACNC,KAAM,CAAC,GAEXE,MAAO,SAAUC,GACb,IAAIL,EAAQK,EACZ,OAAO,SAAUQ,EAAMC,GACnB,OAAQ,WAAc,QAAoB,MAAO,GAAY,EACzD,QAAoB,MAAO,CACvBE,UAAWhB,EAAME,MAClB,KAAM,EAAG,KAEpB,CACJ,IChBJ,MAAM,GAAc,GAEpB,UCHI,GAAa,CAAC,kBAAmB,oBACjC,GAAa,CAAEa,MAAO,sBACtB,GAAa,CAAEA,MAAO,uBACtB,GAAa,CAAEA,MAAO,OAYtB9H,GAAe,MACf4K,GAAuB,MAC3B,IAA6B,QAAiB,CAC1C9D,OAAQ,mBACRC,MAAO,CACH8D,4BAA6B,CAAC,EAC9BC,qBAAsB,CAAC,EACvB1M,gBAAiB,CAAC,EAClB2M,UAAW,CAAC,EACZC,SAAU,CAAC,GAEf7D,MAAO,SAAUC,GAiBb,IAAIxI,GAAK,UAAW2I,EAAI3I,EAAG2I,EAAG0D,EAASrM,EAAGqM,OACtClE,EAAQK,EAERrH,GAAsB,QAAImL,KAAKC,MAAMpE,EAAM8D,8BAC3CvM,EAAkB8M,EAA0BrL,EAAoBrB,OAChEP,GAAY,QAAIkN,EAAoBtL,EAAoBrB,QACxDN,EAAkB8M,KAAKC,MAAMpE,EAAM3I,iBAEnCF,GAAe,QAAIgN,KAAKC,MAAMpE,EAAM+D,uBACpCzM,GAAiB,QAAI,CAAC,GACtBiN,EAAKrN,EAAgBC,EAAcC,EAAWC,EAAiBC,EAAgBC,GAAkBC,EAAkB+M,EAAG/M,gBAAiBiB,EAAwB8L,EAAG9L,sBAElK+L,GAAoB,QAAI,MACxBC,EAAK1L,EAAkBC,EAAqB1B,EAAgBF,EAAWG,EAAiB0B,GAAcuL,GAAoBrL,EAAcsL,EAAGtL,YAAaG,EAAoBmL,EAAGnL,kBAAmBzC,EAAO4N,EAAG5N,KAC5MyI,EAAcvB,EAAiByG,GAAmBlF,aACtD,QAAMhG,GAAmB,SAAUoL,GAC3BA,GACAC,GACR,IAEA,IAAIC,EAAkB,CAClBC,cAAe,EACfC,aAAc,EACdC,KAAM,GACNC,OAAQ,GACRC,cAAe,GACfC,WAAY,IAmBhB,SAASb,EAA0BrL,GAC/B,IAAIzB,EAAkB,CAAC,EAOvB,OANAyB,EAAoBpB,SAAQ,SAAU+B,GAClCpC,EAAgBoC,EAAEjB,UAAY,GAC9BiB,EAAEhB,MAAMf,SAAQ,SAAUnB,GACtBc,EAAgBoC,EAAEjB,UAAU5B,KAAKL,EAAEiK,GACvC,GACJ,IACOnJ,CACX,CAWA,SAAS+M,EAAoBtL,GACzB,IAAI5B,EAAY,CAAC,EAuBjB,OAtBA4B,EAAoBpB,SAAQ,SAAU+B,GACnB,kBAAXA,EAAEsH,KACF7J,EAAUuC,EAAEjB,UAAYO,GAER,eAAXU,EAAEsH,OAGS,SAAXtH,EAAEsH,MAC+B,IAAlCtH,EAAE4I,QAAQM,oBACVlJ,EAAEhB,MAAMf,SAAQ,SAAUnB,GAAK,OAAOW,EAAUX,EAAEiK,IAAMzH,EAAc,IAGtE7B,EAAUuC,EAAEjB,UAAYO,GAGZ,iBAAXU,EAAEsH,KACPtH,EAAEhB,MAAMf,SAAQ,SAAUnB,GAAK,OAAOW,EAAUX,EAAEiK,IAAM,CAAG,IAG3D/G,EAAEhB,MAAMf,SAAQ,SAAUnB,GAAK,OAAOW,EAAUX,EAAEiK,IAAMzH,EAAc,IAE9E,IACO7B,CACX,CASA,SAAS+N,EAAgBC,GACrBhO,EAAUO,MAAMyN,EAAE1E,IAAM0E,EAAExE,SACP,OAAfwE,EAAExE,WACFpJ,IACAiB,IAER,CAKA,SAAS4M,IACL,IAAIC,EAAa7N,OAAO8N,KAAKjO,EAAeK,OAAOO,QAAO,SAAUJ,GAAO,OAAOR,EAAeK,MAAMG,EAAM,IAC7GwN,EAAW1N,SAAQ,SAAUE,GAMzB,GAJIA,KAAOV,EAAUO,QACjBP,EAAUO,MAAMG,GAAO+L,IAGvB/L,EAAI0N,WAAW,aAAc,CAC7B,IAAI7M,EAAQpB,EAAgBO,IAAQ,GACpCa,EAAMf,SAAQ,SAAU6N,GAChBA,KAAUrO,EAAUO,QACpBP,EAAUO,MAAM8N,GAAU5B,GAElC,GACJ,CACJ,GACJ,CAQA,SAASc,IACL,IAAIe,EAAO,IAAIC,SACfN,IACAK,EAAKE,OAAO,YAAazB,KAAK0B,UAAU,CACpCzO,UAAWA,EAAUO,MACrBmO,qBAAsB9M,EAAoBrB,SAE9C,IAAIoO,EAAOxI,SAASlC,cAAc,qCAC9B0K,GACAL,EAAKE,OAAO,sBAAuBG,EAAKpO,OAC5CqO,MAAMhG,EAAMgE,UAAW,CACnBiC,OAAQ,OACRzI,KAAMkI,IAELQ,MAAK,SAAUC,GACZA,EAAIC,aACJjK,OAAOkK,SAASC,KAAOH,EAAII,IAEnC,IACKC,OAAM,SAAUC,GAAO,OAAOC,QAAQC,MAAM,gBAAiBF,EAAM,GAC5E,CACA,SAASG,IACLpP,IACAiB,IACA5B,IACAyI,GACJ,CAUA,OA/IA,SAAM,WAAc,OAAOU,EAAMiE,QAAU,IAAG,SAAU4C,GAEjC,kBAARA,GAAoBA,EAAInQ,OAAS,IAExCwN,EAAOvM,MAAQkP,EAEvB,IAyIO,SAAUhG,EAAMC,GACnB,OAAQ,WAAc,QAAoB,MAAO,CAC7CgG,QAAS,oBACTC,IAAKvC,GACN,GACE,SAAW,IAAO,QAAoB,KAAW,MAAM,QAAYxL,EAAoBrB,OAAO,SAAUe,GACrG,OAAO,UAAiB,WAAc,QAAoB,MAAO,CAC7DZ,IAAKY,EAASA,SACd,kBAAmBA,EAASkB,KAC5B,mBAAoBlB,EAASA,SAC7BsO,SAAS,EACTD,IAAK,eACLhG,MAAO,0BACR,EACC,QAAoB,MAAO,GAAY,GAClC,WAAc,SAAa,QAAyB6D,EAAgBlM,EAASuI,OAAQ,CAClFhB,IAAKvH,EAASA,SACdwH,KAAMxH,EAASwH,KACfvH,MAAOD,EAASC,MAChBqK,MAAOtK,EAASsK,MAChBT,QAAS7J,EAAS6J,QAClBvH,SAAUtC,EAASsC,SACnB1D,eAAgBA,EAAeK,MAC/BsP,kBAAmB9B,EACnBpE,MAAO,iBACR,KAAM,GAAI,CAAC,MAAO,OAAQ,QAAS,QAAS,UAAW,WAAY,uBAE3E,EAAG,KAAc,CAChB,CAAC,MAAQ,QAAO5H,KAAiBT,EAASkB,OAAStC,EAAeK,MAAMe,EAASA,YAEzF,IAAI,OACJ,QAAoB,MAAO,GAAY,EACnC,QAAoB,MAAO,GAAY,EACnC,QAAoB,SAAU,CAC1BgI,GAAI,gBACJK,MAAO,WACPE,KAAM,SACNqC,QAASxC,EAAO,KAAOA,EAAO,GAAK,WAAc8F,GAAmB,KACrE,SAAiB,QAAOpG,EAAP,CAAU,mBAAqB,QAAS,QAGrE,IACP,CACJ,IC9PJ,MAAM,GAAc,GAEpB,UCPW0G,GAAa,CACpBC,QAAS,SAAUtM,GACfA,EAAGuD,iBAAiB,SAAS,WACzBvD,EAAGlD,MAAQkD,EAAGlD,MAAMyP,QAAQ,MAAO,GACvC,GACJ,GAEOC,GAAa,CACpBF,QAAS,SAAUtM,GACf,IAAIyM,EAAa,oDACjBzM,EAAGuD,iBAAiB,QAAQ,WACxB,IAAImJ,EAAO1M,EAAGoB,mBACVuL,EAAUF,EAAWG,KAAK5M,EAAGlD,OAC7B4P,aAAgBG,cAChB7M,EAAGC,UAAU6M,OAAO,iBAAkBH,IACzB,OAATD,QAA0B,IAATA,OAAkB,EAASA,EAAKzM,UAAU8M,SAAS,yBACpEL,EAAKnI,MAAM/C,QAAUmL,EAAU,OAAS,SAGpD,IACA3M,EAAGuD,iBAAiB,SAAS,WACzB,IAAImJ,EAAO1M,EAAGoB,mBACVsL,aAAgBG,cACH,OAATH,QAA0B,IAATA,OAAkB,EAASA,EAAKzM,UAAU8M,SAAS,yBACpEL,EAAKnI,MAAM/C,QAAU,OAGjC,GACJ,G,0uCC5BAwL,GAAsC,WAStC,OARAA,GAAWpQ,OAAOqQ,QAAU,SAAStH,GACjC,IAAK,IAAIuH,EAAGtR,EAAI,EAAGuR,EAAIvE,UAAU/M,OAAQD,EAAIuR,EAAGvR,IAE5C,IAAK,IAAIwR,KADTF,EAAItE,UAAUhN,GACAsR,EAAOtQ,OAAOyQ,UAAUC,eAAeC,KAAKL,EAAGE,KACzDzH,EAAEyH,GAAKF,EAAEE,IAEjB,OAAOzH,CACX,EACOqH,GAAS9N,MAAMsO,KAAM5E,UAChC,EASI6E,GAAa,CACbC,SAAU,QACVC,cAAe,KACfC,eAAgB,MAEhBC,IAAO,QAAW,CAClBC,QAAQ,EACRzE,OAAQoE,GAAWE,cACnBC,eAAgBH,GAAWG,eAC3BG,SAAU,CACNC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,MAGRT,GAAWD,GAAWC,SACtBU,GAAU1L,SAASlC,cAAckN,IACjCW,IAAM,QAAU,GAAMrB,GAAS,CAAC,EAAGoB,GAAQE,UAE3CC,GAAeH,GAAQE,QAAQlF,UAAYqE,GAAWE,cACtDa,GAAmBX,GAAKY,OAAOD,iBAC/BA,GAAiBlT,SAASiT,IAC1BV,GAAKY,OAAOpF,OAAOvM,MAAQyR,GAG3BV,GAAKY,OAAOpF,OAAOvM,MAAQ2Q,GAAWG,eAE1CS,GAAIK,UAAU,cAAerC,IAC7BgC,GAAIK,UAAU,cAAelC,IAC7B6B,GAAIM,IAAId,IACRQ,GAAIO,MAAMlB,G,GCjDNmB,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBlH,IAAjBmH,EACH,OAAOA,EAAaC,QAGrB,IAAIC,EAASL,EAAyBE,GAAY,CAGjDE,QAAS,CAAC,GAOX,OAHAE,EAAoBJ,GAAUG,EAAQA,EAAOD,QAASH,GAG/CI,EAAOD,OACf,CAGAH,EAAoBM,EAAID,E,WCzBxB,IAAIE,EAAW,GACfP,EAAoBQ,EAAI,SAASC,EAAQC,EAAUC,EAAIC,GACtD,IAAGF,EAAH,CAMA,IAAIG,EAAe5L,IACnB,IAASnI,EAAI,EAAGA,EAAIyT,EAASxT,OAAQD,IAAK,CACrC4T,EAAWH,EAASzT,GAAG,GACvB6T,EAAKJ,EAASzT,GAAG,GACjB8T,EAAWL,EAASzT,GAAG,GAE3B,IAJA,IAGIgU,GAAY,EACPC,EAAI,EAAGA,EAAIL,EAAS3T,OAAQgU,MACpB,EAAXH,GAAsBC,GAAgBD,IAAa9S,OAAO8N,KAAKoE,EAAoBQ,GAAGtR,OAAM,SAASf,GAAO,OAAO6R,EAAoBQ,EAAErS,GAAKuS,EAASK,GAAK,IAChKL,EAASM,OAAOD,IAAK,IAErBD,GAAY,EACTF,EAAWC,IAAcA,EAAeD,IAG7C,GAAGE,EAAW,CACbP,EAASS,OAAOlU,IAAK,GACrB,IAAI2E,EAAIkP,SACE5H,IAANtH,IAAiBgP,EAAShP,EAC/B,CACD,CACA,OAAOgP,CArBP,CAJCG,EAAWA,GAAY,EACvB,IAAI,IAAI9T,EAAIyT,EAASxT,OAAQD,EAAI,GAAKyT,EAASzT,EAAI,GAAG,GAAK8T,EAAU9T,IAAKyT,EAASzT,GAAKyT,EAASzT,EAAI,GACrGyT,EAASzT,GAAK,CAAC4T,EAAUC,EAAIC,EAwB/B,C,eC5BAZ,EAAoBiB,EAAI,SAASd,EAASe,GACzC,IAAI,IAAI/S,KAAO+S,EACXlB,EAAoBmB,EAAED,EAAY/S,KAAS6R,EAAoBmB,EAAEhB,EAAShS,IAC5EL,OAAOsT,eAAejB,EAAShS,EAAK,CAAEkT,YAAY,EAAMC,IAAKJ,EAAW/S,IAG3E,C,eCPA6R,EAAoBuB,EAAI,WACvB,GAA0B,kBAAfC,WAAyB,OAAOA,WAC3C,IACC,OAAO9C,MAAQ,IAAI+C,SAAS,cAAb,EAChB,CAAE,MAAOhG,GACR,GAAsB,kBAAXjJ,OAAqB,OAAOA,MACxC,CACA,CAPuB,E,eCAxBwN,EAAoBmB,EAAI,SAASO,EAAKC,GAAQ,OAAO7T,OAAOyQ,UAAUC,eAAeC,KAAKiD,EAAKC,EAAO,C,eCCtG3B,EAAoBvO,EAAI,SAAS0O,GACX,qBAAXyB,QAA0BA,OAAOC,aAC1C/T,OAAOsT,eAAejB,EAASyB,OAAOC,YAAa,CAAE7T,MAAO,WAE7DF,OAAOsT,eAAejB,EAAS,aAAc,CAAEnS,OAAO,GACvD,C,eCDA,IAAI8T,EAAkB,CACrB,IAAK,GAaN9B,EAAoBQ,EAAEO,EAAI,SAASgB,GAAW,OAAoC,IAA7BD,EAAgBC,EAAgB,EAGrF,IAAIC,EAAuB,SAASC,EAA4BC,GAC/D,IAKIjC,EAAU8B,EALVrB,EAAWwB,EAAK,GAChBC,EAAcD,EAAK,GACnBE,EAAUF,EAAK,GAGIpV,EAAI,EAC3B,GAAG4T,EAAS5O,MAAK,SAASiF,GAAM,OAA+B,IAAxB+K,EAAgB/K,EAAW,IAAI,CACrE,IAAIkJ,KAAYkC,EACZnC,EAAoBmB,EAAEgB,EAAalC,KACrCD,EAAoBM,EAAEL,GAAYkC,EAAYlC,IAGhD,GAAGmC,EAAS,IAAI3B,EAAS2B,EAAQpC,EAClC,CAEA,IADGiC,GAA4BA,EAA2BC,GACrDpV,EAAI4T,EAAS3T,OAAQD,IACzBiV,EAAUrB,EAAS5T,GAChBkT,EAAoBmB,EAAEW,EAAiBC,IAAYD,EAAgBC,IACrED,EAAgBC,GAAS,KAE1BD,EAAgBC,GAAW,EAE5B,OAAO/B,EAAoBQ,EAAEC,EAC9B,EAEI4B,EAAqBC,KAAK,0CAA4CA,KAAK,2CAA6C,GAC5HD,EAAmBpU,QAAQ+T,EAAqBO,KAAK,KAAM,IAC3DF,EAAmBlV,KAAO6U,EAAqBO,KAAK,KAAMF,EAAmBlV,KAAKoV,KAAKF,G,IC/CvF,IAAIG,EAAsBxC,EAAoBQ,OAAEzH,EAAW,CAAC,MAAM,WAAa,OAAOiH,EAAoB,IAAM,IAChHwC,EAAsBxC,EAAoBQ,EAAEgC,E","sources":["webpack://ddm_questionnaire_frontend/./src/utils/filterEvaluation.ts","webpack://ddm_questionnaire_frontend/./src/composables/useFilterEngine.ts","webpack://ddm_questionnaire_frontend/./src/composables/usePageNavigation.ts","webpack://ddm_questionnaire_frontend/./src/utils/scrollFunctions.ts","webpack://ddm_questionnaire_frontend/./src/composables/useScrollHandler.ts","webpack://ddm_questionnaire_frontend/./src/components/questions/QuestionSingleChoice.vue?89c1","webpack://ddm_questionnaire_frontend/./src/components/questions/QuestionSingleChoice.vue","webpack://ddm_questionnaire_frontend/./src/components/questions/QuestionMultiChoice.vue?0d42","webpack://ddm_questionnaire_frontend/./src/components/questions/QuestionMultiChoice.vue","webpack://ddm_questionnaire_frontend/./src/components/questions/QuestionOpen.vue?f6f1","webpack://ddm_questionnaire_frontend/./src/components/questions/QuestionOpen.vue","webpack://ddm_questionnaire_frontend/./src/components/questions/QuestionMatrix.vue?850c","webpack://ddm_questionnaire_frontend/./src/components/questions/QuestionMatrix.vue","webpack://ddm_questionnaire_frontend/./src/components/questions/QuestionSemanticDifferential.vue?55b9","webpack://ddm_questionnaire_frontend/./src/components/questions/QuestionSemanticDifferential.vue","webpack://ddm_questionnaire_frontend/./src/components/questions/QuestionTransition.vue?a497","webpack://ddm_questionnaire_frontend/./src/components/questions/QuestionTransition.vue","webpack://ddm_questionnaire_frontend/./src/components/QuestionnaireApp.vue?6b88","webpack://ddm_questionnaire_frontend/./src/components/QuestionnaireApp.vue","webpack://ddm_questionnaire_frontend/./src/directives/formDirectives.ts","webpack://ddm_questionnaire_frontend/./src/questionnaire.ts","webpack://ddm_questionnaire_frontend/webpack/bootstrap","webpack://ddm_questionnaire_frontend/webpack/runtime/chunk loaded","webpack://ddm_questionnaire_frontend/webpack/runtime/define property getters","webpack://ddm_questionnaire_frontend/webpack/runtime/global","webpack://ddm_questionnaire_frontend/webpack/runtime/hasOwnProperty shorthand","webpack://ddm_questionnaire_frontend/webpack/runtime/make namespace object","webpack://ddm_questionnaire_frontend/webpack/runtime/jsonp chunk loading","webpack://ddm_questionnaire_frontend/webpack/startup"],"sourcesContent":["/**\n * Evaluates a comparison between two values using the provided operator.\n *\n * Supported operators:\n * - Equality: '==', '!='\n * - Numeric: '>', '<', '>=', '<='\n * - String: 'contains', 'contains_not'\n *\n * @param {*} valueLeft - The left-hand operand in the comparison.\n * @param {*} valueRight - The right-hand operand in the comparison.\n * @param {string} operator - The comparison operator to apply.\n * @returns {boolean} The result of the comparison.\n *\n * @throws {Error} If the operator is not recognized.\n */\nexport function evaluateFilter(valueLeft, valueRight, operator) {\n    switch (operator) {\n        case '==':\n            return valueLeft == valueRight;\n        case '!=':\n            return valueLeft != valueRight;\n        case '>':\n            return valueLeft > valueRight;\n        case '<':\n            return valueLeft < valueRight;\n        case '>=':\n            return valueLeft >= valueRight;\n        case '<=':\n            return valueLeft <= valueRight;\n        case 'contains':\n            return String(valueLeft).includes(String(valueRight));\n        case 'contains_not':\n            return !String(valueLeft).includes(String(valueRight));\n        default:\n            throw new Error(\"Invalid operator: \".concat(operator));\n    }\n}\n/**\n * Evaluates a logical filter chain array, respecting operator precedence.\n *\n * The input array must alternate between boolean values and logical operators,\n * e.g. [true, 'AND', false, 'OR', true].\n *\n * - Resolves all 'AND' operations first (higher precedence).\n * - Then resolves remaining values with 'OR'.\n *\n * @param {Array<boolean|string>} arr - The logical expression array to evaluate.\n * @returns {boolean} The result of evaluating the full logical expression.\n */\nexport function evaluateFilterChain(arr) {\n    // Step 1: Resolve all AND operations first.\n    var intermediate = [];\n    var i = 0;\n    while (i < arr.length) {\n        if (arr[i] === 'AND') {\n            var prev = intermediate.pop(); // Take last value\n            var next = arr[i + 1]; // Take next value\n            intermediate.push(prev && next); // Evaluate AND\n            i += 2; // Skip the next value since it's already used\n        }\n        else if (arr[i] === 'OR') {\n            i++; // skip OR here, will resolve later\n        }\n        else {\n            intermediate.push(arr[i]);\n            i++;\n        }\n    }\n    // Step 2: Resolve OR operations\n    if (intermediate.length === 0)\n        return false;\n    return intermediate.reduce(function (acc, curr) { return acc || curr; });\n}\n","import { onMounted } from 'vue';\nimport { evaluateFilter, evaluateFilterChain } from '@questionnaire/utils/filterEvaluation';\n/**\n * Composable handling all logic related to filtering, related visibility, and response mapping.\n *\n * @param filterConfig\n * @param responses - Ref to object storing filterable responses.\n * @param staticVariables - Object that holds static variables that may be used in filter conditions.\n * @param hideObjectDict - Ref to object tracking hidden questions/items.\n * @param questionItemMap - Ref to question-item-map\n */\nexport function useFilterEngine(filterConfig, responses, staticVariables, hideObjectDict, questionItemMap) {\n    onMounted(function () {\n        evaluateFilters();\n    });\n    /**\n     * Evaluates all filter conditions and updates visibility in `hideObjectDict`.\n     */\n    function evaluateFilters() {\n        Object.entries(filterConfig.value).forEach(function (_a) {\n            var key = _a[0], filters = _a[1];\n            if (filters.length === 0) {\n                hideObjectDict.value[key] = false;\n                return;\n            }\n            var filterChain = [];\n            var isFirst = true;\n            filters.forEach(function (filter) {\n                // Check if comparison value in questionnaire responses\n                var comparisonValue = responses.value[filter.source];\n                if (comparisonValue == null) {\n                    // Check if comparison value in static variables\n                    comparisonValue = staticVariables[filter.source];\n                    if (comparisonValue == null) {\n                        return;\n                    }\n                }\n                var evaluation = evaluateFilter(comparisonValue, filter.condition_value, filter.condition_operator);\n                if (!isFirst) {\n                    filterChain.push(filter.combinator);\n                }\n                else {\n                    isFirst = false;\n                }\n                filterChain.push(evaluation);\n            });\n            hideObjectDict.value[key] = evaluateFilterChain(filterChain);\n        });\n    }\n    /**\n     * Checks for each question if all its items are hidden and updates question visibility.\n     */\n    function checkIfAllItemsHidden() {\n        Object.entries(questionItemMap).forEach(function (_a) {\n            var question = _a[0], items = _a[1];\n            if (items.length === 0) {\n                return;\n            }\n            var allHidden = items.every(function (item) { return hideObjectDict.value[item] !== false; });\n            if (allHidden) {\n                hideObjectDict.value[question] = true;\n            }\n        });\n    }\n    return {\n        evaluateFilters: evaluateFilters,\n        checkIfAllItemsHidden: checkIfAllItemsHidden,\n    };\n}\n","import { onMounted, ref } from 'vue';\n/**\n * Composable for handling questionnaire page navigation logic.\n *\n * Responsibilities:\n * - Tracks the current, minimum, and maximum pages\n * - Determines if navigation should proceed\n * - Finds next valid page and checks page visibility\n * - Extracts active questions for the current page\n *\n * @param questionnaireConfig - All questions in the questionnaire\n * @param hideObjectDict - Dict controlling visibility of items/questions\n * @param responses - Current response state\n * @param questionItemMap - A map of question IDs to arrays of their corresponding item IDs.\n * @param missingValue - The questionnaire's default missing value.\n * @param rootElement - The root element where the questions are rendered.\n */\nexport function usePageNavigation(questionnaireConfig, hideObjectDict, responses, questionItemMap, missingValue, rootElement) {\n    var currentPage = ref(1);\n    var minPage = ref(1);\n    var maxPage = ref(1);\n    var lastPageSubmitted = ref(false);\n    var displayedRequiredHint = ref(false);\n    onMounted(function () {\n        setPageInitials();\n    });\n    /**\n     * Computes the minimum and maximum page numbers from `parsedQuestConfig`\n     * and stores them in `minPage` and `maxPage`. Also initializes currentPage to minPage.\n     *\n     * If no pages are found, all values are set to 0.\n     */\n    function setPageInitials() {\n        var pages = questionnaireConfig.value.map(function (q) { return q.page; });\n        if (pages.length === 0) {\n            minPage.value = 0;\n            maxPage.value = 0;\n        }\n        else {\n            minPage.value = Math.min.apply(Math, pages);\n            maxPage.value = Math.max.apply(Math, pages);\n        }\n        currentPage.value = minPage.value;\n    }\n    /**\n     * Returns an array of question objects that are assigned to the current page.\n     *\n     * @returns {QuestionConfig[]} The active questions on the current page.\n     */\n    function getActiveQuestions() {\n        return questionnaireConfig.value.filter(function (q) { return q.page === currentPage.value; });\n    }\n    /**\n     * Handles advancing to the next valid page or signalling that the last page has been reached.\n     */\n    function next() {\n        if (canProceedToNextPage()) {\n            if (currentPage.value === maxPage.value) {\n                lastPageSubmitted.value = true;\n                return;\n            }\n            currentPage.value++;\n            var nextValid = foundNextValidPage();\n            if (!nextValid || currentPage.value > maxPage.value) {\n                lastPageSubmitted.value = true;\n            }\n        }\n    }\n    /**\n     * Determines whether navigation to the next page is allowed.\n     *\n     * @returns {boolean} True if all required questions have been answered or hint has already been shown\n     */\n    function canProceedToNextPage() {\n        return displayedRequiredHint.value || checkRequired();\n    }\n    /**\n     * Increments `currentPage` until a valid page is found,\n     * or returns false if no valid pages exist.\n     *\n     * @returns {boolean} True if a valid page was found, false if currentPage > maxPage.\n     */\n    function foundNextValidPage() {\n        while (!currentPageIsValid()) {\n            currentPage.value++;\n            if (currentPage.value > maxPage.value) {\n                return false;\n            }\n        }\n        return true;\n    }\n    /**\n     * Checks all required questions on the current page and highlights any that are unanswered.\n     *\n     * - Elements with missing responses will be visually marked.\n     * - Returns `true` if all required inputs are valid, `false` otherwise.\n     */\n    function checkRequired() {\n        var MISSING = missingValue;\n        var missingResponses = [];\n        var missingQuestions = new Set();\n        var root = rootElement.value;\n        // Reset existing required hints.\n        root.querySelectorAll(\"div[id*=answer-], tr[id*=answer-]\").forEach(function (el) { return el.classList.remove(\"required-but-missing\"); });\n        root.querySelectorAll(\"div[class*=required-hint]\").forEach(function (el) { return el.classList.remove(\"show\"); });\n        getActiveQuestions().forEach(function (q) {\n            if (!q.required)\n                return;\n            // Check if question has items.\n            var items = questionItemMap[q.question];\n            if (items.length === 0) {\n                var missing = responses.value[q.question] === MISSING;\n                var visible = !hideObjectDict.value[q.question];\n                if (missing && visible) {\n                    missingResponses.push(q.question);\n                    missingQuestions.add(q.question);\n                }\n            }\n            else {\n                items.forEach(function (item) {\n                    var missing = responses.value[item] === MISSING;\n                    var visible = !hideObjectDict.value[item];\n                    if (missing && visible) {\n                        missingResponses.push(item);\n                        missingQuestions.add(q.question);\n                    }\n                });\n            }\n        });\n        if (missingResponses.length === 0)\n            return true;\n        // Add visual marks to required but missing elements.\n        missingResponses.forEach(function (r) { var _a; return (_a = root.querySelector(\"#answer-\" + r)) === null || _a === void 0 ? void 0 : _a.classList.add(\"required-but-missing\"); });\n        missingResponses.forEach(function (r) { var _a; return (_a = root.querySelector(\"#required-hint-\" + r)) === null || _a === void 0 ? void 0 : _a.classList.add(\"show\"); });\n        displayedRequiredHint.value = true;\n        return false;\n    }\n    /**\n     * Determines whether the current page is valid and should be displayed.\n     *\n     * A page is considered valid if at least one `.question-app-container` element\n     * on the page is not hidden according to `hideObjectDict`.\n     *\n     * @returns {boolean} True if the page has any visible questions; otherwise false.\n     */\n    function currentPageIsValid() {\n        var root = rootElement.value;\n        if (!root)\n            return false;\n        var elements = root.querySelectorAll(\"[data-page-index='\".concat(currentPage.value, \"']\"));\n        // Check if page has any questions that should be rendered.\n        if (elements.length === 0)\n            return false;\n        // Check if not all questions must be hidden due to filter conditions.\n        return Array.from(elements).some(function (el) {\n            var questionId = el.getAttribute(\"data-question-id\");\n            return hideObjectDict.value[questionId] === false;\n        });\n    }\n    return {\n        currentPage: currentPage,\n        lastPageSubmitted: lastPageSubmitted,\n        next: next\n    };\n}\n","/**\n * Recursively finds the next visible `.question-app-container` element\n * that comes after the given DOM element.\n *\n * @param element - The starting DOM element to begin the search from.\n * @returns The next visible `.question-app-container` element, or `null` if none is found.\n */\nfunction getNextQuestionBody(element) {\n    var questionBody = element.closest('.question-app-container');\n    var nextQuestionBody = questionBody === null || questionBody === void 0 ? void 0 : questionBody.nextElementSibling;\n    if (nextQuestionBody) {\n        var isVisible = window.getComputedStyle(nextQuestionBody).display !== 'none';\n        return isVisible ? nextQuestionBody : getNextQuestionBody(nextQuestionBody);\n    }\n    return null;\n}\n/**\n * Gets the height of the last `.question-text` element\n * that appears before (or inside) the `.question-body` container that wraps the given element.\n *\n * @param el - The starting element to search upward from.\n * @returns The height in pixels of the `.question-text` element, or `0` if not found.\n */\nexport function getHeightOfLastQuestionTextBefore(el) {\n    var questionBody = el.closest('.question-body');\n    if (!questionBody)\n        return 0;\n    var questionText = questionBody.querySelector('.question-text');\n    return questionText ? questionText.offsetHeight : 0;\n}\n/**\n * Scrolls to the next visible response row or question block.\n *\n * If the current response row has a sibling, it scrolls to that.\n * If not, it scrolls to the next `.question-app-container` block.\n * If none are found, it scrolls to the bottom of the page.\n *\n * @param event - The triggering DOM event (e.g. from a key or button).\n */\nexport function scrollToNext(event) {\n    var currentRow = event.target.closest('div.response-row');\n    if (!currentRow)\n        return;\n    var nextRow = currentRow.nextElementSibling;\n    if (nextRow) {\n        var stickyHeight = getHeightOfLastQuestionTextBefore(currentRow);\n        var nextRowTop = nextRow.getBoundingClientRect().top + window.scrollY;\n        var adjustedPosition = nextRowTop - stickyHeight;\n        window.scrollTo({ top: adjustedPosition, behavior: 'smooth' });\n    }\n    else {\n        var nextQuestionBody = getNextQuestionBody(currentRow);\n        if (nextQuestionBody) {\n            var nextQuestionTop = nextQuestionBody.getBoundingClientRect().top + window.scrollY;\n            window.scrollTo({ top: nextQuestionTop, behavior: 'smooth' });\n        }\n        else {\n            window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });\n        }\n    }\n}\n/**\n * Adds 'main-scale-first' and 'main-scale-last' classes\n * to the first and last element with class 'main-scale' in a container.\n *\n * @param containerSelector - A query selector for the container in which the scale is positioned.\n */\nexport function updateMainScaleClasses(containerSelector) {\n    var containers = document.querySelectorAll(containerSelector);\n    containers.forEach(function (container) {\n        var mainScales = container.querySelectorAll('.main-scale');\n        mainScales.forEach(function (el) { return el.classList.remove(\"main-scale-first\", \"main-scale-last\"); });\n        if (mainScales.length > 0) {\n            mainScales[0].classList.add(\"main-scale-first\");\n            if (mainScales.length > 1) {\n                mainScales[mainScales.length - 1].classList.add(\"main-scale-last\");\n            }\n        }\n    });\n}\n","import { onBeforeUnmount, onMounted, ref } from 'vue';\nimport { getHeightOfLastQuestionTextBefore } from \"@questionnaire/utils/scrollFunctions\";\n/**\n * Composable handling automated scrolling behaviour.\n */\nexport function useScrollHandler(rootElement) {\n    var highlightUntilWidth = 768;\n    var shouldHighlightOnScroll = ref(window.innerWidth <= highlightUntilWidth);\n    onMounted(function () {\n        updateShouldHighlightOnScroll();\n        registerScrollEvents();\n    });\n    onBeforeUnmount(function () {\n        removeScrollEvents();\n    });\n    /**\n     * Binds scroll-related event listeners.\n     */\n    function registerScrollEvents() {\n        window.addEventListener('resize', updateShouldHighlightOnScroll);\n        window.addEventListener('scroll', updateMostVisibleRow);\n        window.addEventListener('load', updateMostVisibleRow);\n    }\n    /**\n     * Cleans up scroll-related event listeners.\n     */\n    function removeScrollEvents() {\n        window.removeEventListener('resize', function () { });\n        window.removeEventListener('scroll', updateMostVisibleRow);\n        window.removeEventListener('load', updateMostVisibleRow);\n    }\n    /**\n     * Updates the `shouldHighlightOnScroll` flag depending on screen width.\n     */\n    function updateShouldHighlightOnScroll() {\n        shouldHighlightOnScroll.value = window.innerWidth <= highlightUntilWidth;\n    }\n    /**\n     * Highlights the most visible `.response-row` element in the viewport by setting its opacity to `1`,\n     * while dimming all others by setting their opacity to `0.3`.\n     *\n     * If `shouldHighlightOnScroll` is false, all rows remain fully visible.\n     */\n    function updateMostVisibleRow() {\n        var root = rootElement.value;\n        var responseRows = Array.from(root.querySelectorAll('.response-row'));\n        var mostVisibleRow = null;\n        var minDistance = Infinity;\n        if (!shouldHighlightOnScroll.value) {\n            responseRows.forEach(function (row) { return (row.style.opacity = \"1\"); });\n            return;\n        }\n        responseRows.forEach(function (row) {\n            var rect = row.getBoundingClientRect();\n            var questionHeight = getHeightOfLastQuestionTextBefore(row);\n            var distance = Math.abs(rect.top);\n            var isVisible = rect.bottom > 0 && rect.top < window.innerHeight && rect.top >= (questionHeight * 0.25);\n            if (isVisible && distance < minDistance) {\n                minDistance = distance;\n                mostVisibleRow = row;\n            }\n        });\n        responseRows.forEach(function (row) { return (row.style.opacity = \"0.3\"); });\n        if (mostVisibleRow) {\n            mostVisibleRow.style.opacity = \"1\";\n        }\n    }\n    /**\n     * Smoothly scrolls the page to the top, after DOM updates.\n     * Uses a short delay to ensure layout is settled.\n     */\n    function scrollToTop() {\n        setTimeout(function () {\n            document.documentElement.scrollTo({\n                top: 0,\n                behavior: 'smooth',\n            });\n            // Fallbacks for compatibility\n            document.documentElement.scrollTop = 0;\n            document.body.scrollTop = 0;\n        }, 100);\n    }\n    return {\n        scrollToTop: scrollToTop\n    };\n}\n","import { defineComponent as _defineComponent } from 'vue';\nimport { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vShow as _vShow, withDirectives as _withDirectives } from \"vue\";\nvar _hoisted_1 = [\"innerHTML\"];\nvar _hoisted_2 = [\"id\"];\nvar _hoisted_3 = [\"id\", \"name\", \"value\"];\nvar _hoisted_4 = [\"for\"];\nvar _hoisted_5 = [\"innerHTML\"];\nimport { useI18n } from \"vue-i18n\";\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'QuestionSingleChoice',\n    props: {\n        qid: {},\n        text: {},\n        items: {},\n        hideObjectDict: {}\n    },\n    emits: [\"responseChanged\"],\n    setup: function (__props, _a) {\n        var __emit = _a.emit;\n        var t = useI18n().t;\n        var props = __props;\n        var emit = __emit;\n        function responseChanged(event) {\n            var target = event.target;\n            emit('responseChanged', {\n                id: target.name,\n                response: target.value,\n            });\n        }\n        return function (_ctx, _cache) {\n            return (_openBlock(), _createElementBlock(\"div\", null, [\n                _createElementVNode(\"div\", {\n                    class: \"question-text\",\n                    innerHTML: props.text\n                }, null, 8, _hoisted_1),\n                _createElementVNode(\"div\", {\n                    id: 'answer-' + props.qid,\n                    class: \"response-body question-response-body item-container\"\n                }, [\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(props.items, function (item) {\n                        return _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n                            key: item.id,\n                            class: \"question-item\"\n                        }, [\n                            _createElementVNode(\"input\", {\n                                class: \"form-check-input\",\n                                type: \"radio\",\n                                id: 'q-' + props.qid + '-' + item.id,\n                                name: props.qid,\n                                value: item.value,\n                                onChange: responseChanged\n                            }, null, 40, _hoisted_3),\n                            _createElementVNode(\"label\", {\n                                for: 'q-' + props.qid + '-' + item.id,\n                                class: \"item-label prevent-select\"\n                            }, [\n                                _createElementVNode(\"span\", {\n                                    innerHTML: item.label\n                                }, null, 8, _hoisted_5)\n                            ], 8, _hoisted_4)\n                        ])), [\n                            [_vShow, !props.hideObjectDict[item.id]]\n                        ]);\n                    }), 128))\n                ], 8, _hoisted_2)\n            ]));\n        };\n    }\n});\n","import script from \"./QuestionSingleChoice.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./QuestionSingleChoice.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./QuestionSingleChoice.vue?vue&type=style&index=0&id=120cc9a8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-120cc9a8\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vShow as _vShow, withDirectives as _withDirectives, unref as _unref, toDisplayString as _toDisplayString } from \"vue\";\nvar _hoisted_1 = [\"innerHTML\"];\nvar _hoisted_2 = { class: \"response-body question-response-body item-container\" };\nvar _hoisted_3 = [\"id\", \"name\", \"value\"];\nvar _hoisted_4 = [\"for\"];\nvar _hoisted_5 = [\"innerHTML\"];\nvar _hoisted_6 = [\"id\"];\nimport { useI18n } from \"vue-i18n\";\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'QuestionMultiChoice',\n    props: {\n        qid: {},\n        text: {},\n        items: {},\n        hideObjectDict: {}\n    },\n    emits: [\"responseChanged\"],\n    setup: function (__props, _a) {\n        var __emit = _a.emit;\n        var t = useI18n().t;\n        var props = __props;\n        var emit = __emit;\n        function responseChanged(event) {\n            var target = event.target;\n            emit('responseChanged', {\n                id: target.name,\n                response: target.value,\n            });\n        }\n        return function (_ctx, _cache) {\n            return (_openBlock(), _createElementBlock(\"div\", null, [\n                _createElementVNode(\"div\", {\n                    class: \"question-text\",\n                    innerHTML: props.text\n                }, null, 8, _hoisted_1),\n                _createElementVNode(\"div\", _hoisted_2, [\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(props.items, function (item) {\n                        return _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n                            key: item.id,\n                            class: \"question-item\"\n                        }, [\n                            _createElementVNode(\"input\", {\n                                class: \"item-check\",\n                                type: \"checkbox\",\n                                id: 'q-' + props.qid + '-' + item.id,\n                                name: item.id,\n                                value: item.value,\n                                onChange: responseChanged\n                            }, null, 40, _hoisted_3),\n                            _createElementVNode(\"label\", {\n                                for: 'q-' + props.qid + '-' + item.id,\n                                class: \"item-label prevent-select\"\n                            }, [\n                                _cache[0] || (_cache[0] = _createElementVNode(\"span\", { class: \"span-check-icon\" }, \"\", -1)),\n                                _createElementVNode(\"span\", {\n                                    innerHTML: item.label\n                                }, null, 8, _hoisted_5)\n                            ], 8, _hoisted_4)\n                        ])), [\n                            [_vShow, !props.hideObjectDict[item.id]]\n                        ]);\n                    }), 128)),\n                    _createElementVNode(\"p\", {\n                        id: 'required-hint-' + props.qid,\n                        class: \"required-hint mb-0 hidden\"\n                    }, _toDisplayString(_unref(t)('required-but-missing-hint')), 9, _hoisted_6)\n                ])\n            ]));\n        };\n    }\n});\n","import script from \"./QuestionMultiChoice.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./QuestionMultiChoice.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./QuestionMultiChoice.vue?vue&type=style&index=0&id=9e4bbce8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-9e4bbce8\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, unref as _unref, toDisplayString as _toDisplayString, Fragment as _Fragment, resolveDirective as _resolveDirective, withDirectives as _withDirectives, renderList as _renderList, vShow as _vShow } from \"vue\";\nvar _hoisted_1 = [\"innerHTML\"];\nvar _hoisted_2 = [\"id\"];\nvar _hoisted_3 = [\"name\", \"maxlength\"];\nvar _hoisted_4 = [\"name\", \"maxlength\"];\nvar _hoisted_5 = [\"id\"];\nvar _hoisted_6 = [\"name\", \"maxlength\"];\nvar _hoisted_7 = { class: \"input-hint\" };\nvar _hoisted_8 = [\"id\"];\nvar _hoisted_9 = [\"name\", \"maxlength\"];\nvar _hoisted_10 = { class: \"input-hint hint-invalid-input pb-0 mb-0\" };\nvar _hoisted_11 = { class: \"input-hint\" };\nvar _hoisted_12 = [\"id\"];\nvar _hoisted_13 = [\"id\"];\nvar _hoisted_14 = [\"id\"];\nvar _hoisted_15 = [\"innerHTML\"];\nvar _hoisted_16 = [\"name\", \"maxlength\"];\nvar _hoisted_17 = [\"name\", \"maxlength\"];\nvar _hoisted_18 = [\"name\", \"maxlength\"];\nvar _hoisted_19 = { class: \"input-hint\" };\nvar _hoisted_20 = [\"name\", \"maxlength\"];\nvar _hoisted_21 = { class: \"input-hint hint-invalid-input pb-0 mb-0\" };\nvar _hoisted_22 = { class: \"input-hint\" };\nimport { computed } from 'vue';\nimport { useI18n } from 'vue-i18n';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'QuestionOpen',\n    props: {\n        qid: {},\n        text: {},\n        options: {},\n        items: {},\n        hideObjectDict: {}\n    },\n    emits: [\"responseChanged\"],\n    setup: function (__props, _a) {\n        var __emit = _a.emit;\n        var props = __props;\n        var emit = __emit;\n        var t = useI18n().t;\n        var getMaxLength = computed(function () {\n            return props.options.max_input_length !== null ? props.options.max_input_length : undefined;\n        });\n        function responseChanged(event) {\n            var target = event.target;\n            emit('responseChanged', {\n                id: target.name,\n                response: target.value,\n            });\n        }\n        return function (_ctx, _cache) {\n            var _directive_only_digits = _resolveDirective(\"only-digits\");\n            var _directive_valid_email = _resolveDirective(\"valid-email\");\n            return (_openBlock(), _createElementBlock(\"div\", null, [\n                _createElementVNode(\"div\", {\n                    class: \"question-text\",\n                    innerHTML: props.text\n                }, null, 8, _hoisted_1),\n                (!props.options.multi_item_response)\n                    ? (_openBlock(), _createElementBlock(\"div\", {\n                        key: 0,\n                        id: 'answer-' + props.qid,\n                        class: \"response-body\"\n                    }, [\n                        (props.options.input_type === 'text')\n                            ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                                (props.options.display === 'small')\n                                    ? (_openBlock(), _createElementBlock(\"input\", {\n                                        key: 0,\n                                        class: \"oq-input\",\n                                        type: \"text\",\n                                        name: props.qid,\n                                        maxlength: getMaxLength.value,\n                                        onChange: responseChanged\n                                    }, null, 40, _hoisted_3))\n                                    : _createCommentVNode(\"\", true),\n                                (props.options.display === 'large')\n                                    ? (_openBlock(), _createElementBlock(\"textarea\", {\n                                        key: 1,\n                                        class: \"open-question-textarea\",\n                                        name: props.qid,\n                                        maxlength: getMaxLength.value,\n                                        onChange: responseChanged\n                                    }, null, 40, _hoisted_4))\n                                    : _createCommentVNode(\"\", true),\n                                _createElementVNode(\"p\", {\n                                    id: 'required-hint-' + props.qid,\n                                    class: \"required-hint mb-0 hidden\"\n                                }, _toDisplayString(_unref(t)('required-but-missing-hint')), 9, _hoisted_5)\n                            ], 64))\n                            : (props.options.input_type === 'numbers')\n                                ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                                    _withDirectives(_createElementVNode(\"input\", {\n                                        type: \"text\",\n                                        class: \"oq-input\",\n                                        name: props.qid,\n                                        maxlength: getMaxLength.value,\n                                        onChange: responseChanged\n                                    }, null, 40, _hoisted_6), [\n                                        [_directive_only_digits]\n                                    ]),\n                                    _createElementVNode(\"p\", _hoisted_7, _toDisplayString(_unref(t)('hint-number-input')), 1),\n                                    _createElementVNode(\"p\", {\n                                        id: 'required-hint-' + props.qid,\n                                        class: \"required-hint mb-0 hidden\"\n                                    }, _toDisplayString(_unref(t)('required-but-missing-hint')), 9, _hoisted_8)\n                                ], 64))\n                                : (props.options.input_type === 'email')\n                                    ? (_openBlock(), _createElementBlock(_Fragment, { key: 2 }, [\n                                        _withDirectives(_createElementVNode(\"input\", {\n                                            type: \"email\",\n                                            class: \"oq-input\",\n                                            name: props.qid,\n                                            maxlength: getMaxLength.value,\n                                            onChange: responseChanged\n                                        }, null, 40, _hoisted_9), [\n                                            [_directive_valid_email]\n                                        ]),\n                                        _createElementVNode(\"p\", _hoisted_10, _toDisplayString(_unref(t)('hint-invalid-email')), 1),\n                                        _createElementVNode(\"p\", _hoisted_11, _toDisplayString(_unref(t)('hint-email-input')), 1),\n                                        _createElementVNode(\"p\", {\n                                            id: 'required-hint-' + props.qid,\n                                            class: \"required-hint mb-0 hidden\"\n                                        }, _toDisplayString(_unref(t)('required-but-missing-hint')), 9, _hoisted_12)\n                                    ], 64))\n                                    : _createCommentVNode(\"\", true)\n                    ], 8, _hoisted_2))\n                    : _createCommentVNode(\"\", true),\n                (props.options.multi_item_response)\n                    ? (_openBlock(), _createElementBlock(\"div\", {\n                        key: 1,\n                        id: 'answer-' + props.qid,\n                        class: \"response-body\"\n                    }, [\n                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(props.items, function (item) {\n                            return _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n                                key: item.id,\n                                id: 'answer-' + item.id,\n                                class: \"input-row\"\n                            }, [\n                                _createElementVNode(\"div\", {\n                                    innerHTML: item.label\n                                }, null, 8, _hoisted_15),\n                                _createElementVNode(\"div\", null, [\n                                    (props.options.input_type === 'text')\n                                        ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                                            (props.options.display === 'small')\n                                                ? (_openBlock(), _createElementBlock(\"input\", {\n                                                    key: 0,\n                                                    class: \"oq-input\",\n                                                    type: \"text\",\n                                                    name: item.id,\n                                                    maxlength: getMaxLength.value,\n                                                    onChange: responseChanged\n                                                }, null, 40, _hoisted_16))\n                                                : _createCommentVNode(\"\", true),\n                                            (props.options.display === 'large')\n                                                ? (_openBlock(), _createElementBlock(\"textarea\", {\n                                                    key: 1,\n                                                    class: \"open-question-textarea\",\n                                                    name: item.id,\n                                                    maxlength: getMaxLength.value,\n                                                    onChange: responseChanged\n                                                }, null, 40, _hoisted_17))\n                                                : _createCommentVNode(\"\", true)\n                                        ], 64))\n                                        : (props.options.input_type === 'numbers')\n                                            ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                                                _withDirectives(_createElementVNode(\"input\", {\n                                                    type: \"text\",\n                                                    class: \"oq-input\",\n                                                    name: item.id,\n                                                    maxlength: getMaxLength.value,\n                                                    onChange: responseChanged\n                                                }, null, 40, _hoisted_18), [\n                                                    [_directive_only_digits]\n                                                ]),\n                                                _createElementVNode(\"p\", _hoisted_19, _toDisplayString(_unref(t)('hint-number-input')), 1)\n                                            ], 64))\n                                            : (props.options.input_type === 'email')\n                                                ? (_openBlock(), _createElementBlock(_Fragment, { key: 2 }, [\n                                                    _withDirectives(_createElementVNode(\"input\", {\n                                                        type: \"email\",\n                                                        class: \"oq-input\",\n                                                        name: item.id,\n                                                        maxlength: getMaxLength.value,\n                                                        onChange: responseChanged\n                                                    }, null, 40, _hoisted_20), [\n                                                        [_directive_valid_email]\n                                                    ]),\n                                                    _createElementVNode(\"p\", _hoisted_21, _toDisplayString(_unref(t)('hint-invalid-email')), 1),\n                                                    _createElementVNode(\"p\", _hoisted_22, _toDisplayString(_unref(t)('hint-email-input')), 1)\n                                                ], 64))\n                                                : _createCommentVNode(\"\", true)\n                                ])\n                            ], 8, _hoisted_14)), [\n                                [_vShow, !props.hideObjectDict[item.id]]\n                            ]);\n                        }), 128))\n                    ], 8, _hoisted_13))\n                    : _createCommentVNode(\"\", true)\n            ]));\n        };\n    }\n});\n","import script from \"./QuestionOpen.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./QuestionOpen.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./QuestionOpen.vue?vue&type=style&index=0&id=5277ad65&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5277ad65\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, createCommentVNode as _createCommentVNode, unref as _unref, toDisplayString as _toDisplayString, vShow as _vShow, withDirectives as _withDirectives } from \"vue\";\nvar _hoisted_1 = [\"innerHTML\"];\nvar _hoisted_2 = { class: \"response-body ps-0 pe-0\" };\nvar _hoisted_3 = [\"id\"];\nvar _hoisted_4 = [\"innerHTML\"];\nvar _hoisted_5 = { class: \"mq-item-container\" };\nvar _hoisted_6 = {\n    key: 0,\n    class: \"heading-container\"\n};\nvar _hoisted_7 = [\"innerHTML\"];\nvar _hoisted_8 = { class: \"scale-container scale-heading-container\" };\nvar _hoisted_9 = { class: \"scale-label scale-label-mockup\" };\nvar _hoisted_10 = [\"innerHTML\"];\nvar _hoisted_11 = [\"innerHTML\"];\nvar _hoisted_12 = { class: \"scale-container scale-input-container\" };\nvar _hoisted_13 = [\"id\", \"name\", \"value\"];\nvar _hoisted_14 = [\"for\"];\nvar _hoisted_15 = [\"innerHTML\"];\nvar _hoisted_16 = [\"id\"];\nimport { onMounted } from 'vue';\nimport { updateMainScaleClasses, scrollToNext } from '@questionnaire/utils/scrollFunctions';\nimport { useI18n } from \"vue-i18n\";\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'QuestionMatrix',\n    props: {\n        qid: {},\n        text: {},\n        items: {},\n        scale: {},\n        options: {},\n        hideObjectDict: {}\n    },\n    emits: [\"responseChanged\"],\n    setup: function (__props, _a) {\n        var __emit = _a.emit;\n        var t = useI18n().t;\n        var props = __props;\n        var emit = __emit;\n        onMounted(function () {\n            updateMainScaleClasses('.scale-container');\n        });\n        function responseChanged(event) {\n            var target = event.target;\n            emit('responseChanged', {\n                id: target.name,\n                response: target.value,\n            });\n        }\n        return function (_ctx, _cache) {\n            return (_openBlock(), _createElementBlock(\"div\", null, [\n                _createElementVNode(\"div\", {\n                    class: \"question-text\",\n                    innerHTML: props.text\n                }, null, 8, _hoisted_1),\n                _createElementVNode(\"div\", _hoisted_2, [\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(props.items, function (item) {\n                        return _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n                            key: item.id,\n                            class: \"response-row\",\n                            id: 'answer-' + item.id\n                        }, [\n                            _createElementVNode(\"div\", {\n                                class: _normalizeClass([\"item-separate-line\", { show: props.scale.length > 7 }]),\n                                innerHTML: item.label\n                            }, null, 10, _hoisted_4),\n                            _createElementVNode(\"div\", _hoisted_5, [\n                                (props.options.show_scale_headings)\n                                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [\n                                        _createElementVNode(\"div\", {\n                                            class: _normalizeClass([\"item-label-container item-label-placeholder\", { hidden: props.scale.length > 7 }]),\n                                            innerHTML: item.label\n                                        }, null, 10, _hoisted_7),\n                                        _createElementVNode(\"div\", _hoisted_8, [\n                                            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(props.scale, function (point, id) {\n                                                return (_openBlock(), _createElementBlock(\"div\", {\n                                                    key: id,\n                                                    class: _normalizeClass(['scale-label-container', { 'main-scale': !point.secondary_point, 'secondary-scale': point.secondary_point }])\n                                                }, [\n                                                    _createElementVNode(\"div\", _hoisted_9, [\n                                                        _createElementVNode(\"span\", {\n                                                            class: \"scale-label-span\",\n                                                            innerHTML: point.heading_label\n                                                        }, null, 8, _hoisted_10)\n                                                    ])\n                                                ], 2));\n                                            }), 128))\n                                        ])\n                                    ]))\n                                    : _createCommentVNode(\"\", true),\n                                _createElementVNode(\"div\", {\n                                    class: _normalizeClass([\"response-container\", { 'border-bottom-light': props.scale.length < 7 }])\n                                }, [\n                                    _createElementVNode(\"div\", {\n                                        class: _normalizeClass([\"item-label-container\", { hidden: props.scale.length > 7 }]),\n                                        innerHTML: item.label\n                                    }, null, 10, _hoisted_11),\n                                    _createElementVNode(\"div\", _hoisted_12, [\n                                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(props.scale, function (point, id) {\n                                            return (_openBlock(), _createElementBlock(\"div\", {\n                                                key: id,\n                                                class: _normalizeClass(['scale-label-container', { 'main-scale': !point.secondary_point, 'secondary-scale': point.secondary_point }])\n                                            }, [\n                                                _createElementVNode(\"input\", {\n                                                    type: \"radio\",\n                                                    id: props.qid + '-' + item.id + '-' + point.value,\n                                                    name: item.id,\n                                                    value: point.value,\n                                                    onChange: responseChanged,\n                                                    onClick: _cache[0] || (_cache[0] =\n                                                        //@ts-ignore\n                                                        function () {\n                                                            var args = [];\n                                                            for (var _i = 0; _i < arguments.length; _i++) {\n                                                                args[_i] = arguments[_i];\n                                                            }\n                                                            return (_unref(scrollToNext) && _unref(scrollToNext).apply(void 0, args));\n                                                        })\n                                                }, null, 40, _hoisted_13),\n                                                _createElementVNode(\"label\", {\n                                                    for: props.qid + '-' + item.id + '-' + point.value,\n                                                    class: _normalizeClass([\"scale-label prevent-select\", { 'main-label': !point.secondary_point }])\n                                                }, [\n                                                    _createElementVNode(\"span\", {\n                                                        class: \"scale-label-span\",\n                                                        innerHTML: point.input_label\n                                                    }, null, 8, _hoisted_15)\n                                                ], 10, _hoisted_14)\n                                            ], 2));\n                                        }), 128))\n                                    ])\n                                ], 2)\n                            ]),\n                            _createElementVNode(\"p\", {\n                                id: 'required-hint-' + item.id,\n                                class: \"required-hint mb-0 hidden\"\n                            }, _toDisplayString(_unref(t)('required-but-missing-hint')), 9, _hoisted_16)\n                        ], 8, _hoisted_3)), [\n                            [_vShow, !props.hideObjectDict[item.id]]\n                        ]);\n                    }), 128))\n                ])\n            ]));\n        };\n    }\n});\n","import script from \"./QuestionMatrix.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./QuestionMatrix.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./QuestionMatrix.vue?vue&type=style&index=0&id=205edfee&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-205edfee\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, unref as _unref, normalizeClass as _normalizeClass, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, vShow as _vShow, withDirectives as _withDirectives } from \"vue\";\nvar _hoisted_1 = [\"innerHTML\"];\nvar _hoisted_2 = { class: \"response-body ps-0 pe-0\" };\nvar _hoisted_3 = [\"id\"];\nvar _hoisted_4 = { class: \"item-container\" };\nvar _hoisted_5 = [\"innerHTML\"];\nvar _hoisted_6 = { class: \"scale-container\" };\nvar _hoisted_7 = {\n    key: 0,\n    class: \"scale-label-container main-scale\"\n};\nvar _hoisted_8 = [\"id\", \"name\", \"value\"];\nvar _hoisted_9 = [\"for\"];\nvar _hoisted_10 = [\"innerHTML\"];\nvar _hoisted_11 = [\"innerHTML\"];\nvar _hoisted_12 = { class: \"scale-container scale-container-secondary\" };\nvar _hoisted_13 = {\n    key: 0,\n    class: \"scale-label-container secondary-scale\"\n};\nvar _hoisted_14 = [\"id\", \"name\", \"value\"];\nvar _hoisted_15 = [\"for\"];\nvar _hoisted_16 = [\"innerHTML\"];\nvar _hoisted_17 = [\"id\"];\nimport { onMounted } from 'vue';\nimport { updateMainScaleClasses, scrollToNext } from '@questionnaire/utils/scrollFunctions';\nimport { useI18n } from \"vue-i18n\";\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'QuestionSemanticDifferential',\n    props: {\n        qid: {},\n        text: {},\n        items: {},\n        scale: {},\n        hideObjectDict: {}\n    },\n    emits: [\"responseChanged\"],\n    setup: function (__props, _a) {\n        var __emit = _a.emit;\n        var t = useI18n().t;\n        var props = __props;\n        var emit = __emit;\n        onMounted(function () {\n            updateMainScaleClasses('.item-container');\n        });\n        function responseChanged(event) {\n            var target = event.target;\n            emit('responseChanged', {\n                id: target.name,\n                response: target.value,\n            });\n        }\n        return function (_ctx, _cache) {\n            return (_openBlock(), _createElementBlock(\"div\", null, [\n                _createElementVNode(\"div\", {\n                    class: \"question-text\",\n                    innerHTML: props.text\n                }, null, 8, _hoisted_1),\n                _createElementVNode(\"div\", _hoisted_2, [\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(props.items, function (item) {\n                        return _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n                            key: item.id,\n                            id: 'answer-' + item.id,\n                            class: \"response-row\"\n                        }, [\n                            _createElementVNode(\"div\", _hoisted_4, [\n                                _createElementVNode(\"div\", {\n                                    class: \"item-label-container item-label-start\",\n                                    innerHTML: item.label\n                                }, null, 8, _hoisted_5),\n                                _createElementVNode(\"div\", _hoisted_6, [\n                                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(props.scale, function (point, idx) {\n                                        return (_openBlock(), _createElementBlock(_Fragment, { key: idx }, [\n                                            (!point.secondary_point)\n                                                ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [\n                                                    _createElementVNode(\"input\", {\n                                                        type: \"radio\",\n                                                        id: props.qid + '-' + item.id + '-' + point.value,\n                                                        name: item.id,\n                                                        value: point.value,\n                                                        onChange: responseChanged,\n                                                        onClick: _cache[0] || (_cache[0] =\n                                                            //@ts-ignore\n                                                            function () {\n                                                                var args = [];\n                                                                for (var _i = 0; _i < arguments.length; _i++) {\n                                                                    args[_i] = arguments[_i];\n                                                                }\n                                                                return (_unref(scrollToNext) && _unref(scrollToNext).apply(void 0, args));\n                                                            })\n                                                    }, null, 40, _hoisted_8),\n                                                    _createElementVNode(\"label\", {\n                                                        for: props.qid + '-' + item.id + '-' + point.value,\n                                                        class: _normalizeClass([\"scale-label prevent-select\", { 'main-label': !point.secondary_point }])\n                                                    }, [\n                                                        _createElementVNode(\"span\", {\n                                                            class: \"scale-label-span prevent-select\",\n                                                            innerHTML: point.input_label\n                                                        }, null, 8, _hoisted_10)\n                                                    ], 10, _hoisted_9)\n                                                ]))\n                                                : _createCommentVNode(\"\", true)\n                                        ], 64));\n                                    }), 128))\n                                ]),\n                                _createElementVNode(\"div\", {\n                                    class: \"item-label-container\",\n                                    innerHTML: item.label_alt\n                                }, null, 8, _hoisted_11),\n                                _createElementVNode(\"div\", _hoisted_12, [\n                                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(props.scale, function (point, idx) {\n                                        return (_openBlock(), _createElementBlock(_Fragment, {\n                                            key: 'sec-' + idx\n                                        }, [\n                                            (point.secondary_point)\n                                                ? (_openBlock(), _createElementBlock(\"div\", _hoisted_13, [\n                                                    _createElementVNode(\"input\", {\n                                                        type: \"radio\",\n                                                        id: props.qid + '-' + item.id + '-' + point.value,\n                                                        name: item.id,\n                                                        value: point.value,\n                                                        onChange: responseChanged\n                                                    }, null, 40, _hoisted_14),\n                                                    _createElementVNode(\"label\", {\n                                                        for: props.qid + '-' + item.id + '-' + point.value,\n                                                        class: _normalizeClass([\"scale-label prevent-select\", { 'main-label': !point.secondary_point }])\n                                                    }, [\n                                                        _createElementVNode(\"span\", {\n                                                            class: \"scale-label-span prevent-select\",\n                                                            innerHTML: point.input_label\n                                                        }, null, 8, _hoisted_16)\n                                                    ], 10, _hoisted_15)\n                                                ]))\n                                                : _createCommentVNode(\"\", true)\n                                        ], 64));\n                                    }), 128))\n                                ])\n                            ]),\n                            _createElementVNode(\"p\", {\n                                id: 'required-hint-' + item.id,\n                                class: \"required-hint mb-0 ps-10px hidden\"\n                            }, _toDisplayString(_unref(t)('required-but-missing-hint')), 9, _hoisted_17)\n                        ], 8, _hoisted_3)), [\n                            [_vShow, !props.hideObjectDict[item.id]]\n                        ]);\n                    }), 128))\n                ])\n            ]));\n        };\n    }\n});\n","import script from \"./QuestionSemanticDifferential.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./QuestionSemanticDifferential.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./QuestionSemanticDifferential.vue?vue&type=style&index=0&id=ab72f71a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-ab72f71a\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nvar _hoisted_1 = { class: \"question-text\" };\nvar _hoisted_2 = [\"innerHTML\"];\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'QuestionTransition',\n    props: {\n        qid: {},\n        text: {}\n    },\n    setup: function (__props) {\n        var props = __props;\n        return function (_ctx, _cache) {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _createElementVNode(\"div\", {\n                    innerHTML: props.text\n                }, null, 8, _hoisted_2)\n            ]));\n        };\n    }\n});\n","import script from \"./QuestionTransition.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./QuestionTransition.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, unref as _unref, resolveDynamicComponent as _resolveDynamicComponent, createBlock as _createBlock, createElementVNode as _createElementVNode, vShow as _vShow, withDirectives as _withDirectives, toDisplayString as _toDisplayString } from \"vue\";\nvar _hoisted_1 = [\"data-page-index\", \"data-question-id\"];\nvar _hoisted_2 = { class: \"question-container\" };\nvar _hoisted_3 = { class: \"row flow-navigation\" };\nvar _hoisted_4 = { class: \"col\" };\nimport { useI18n } from 'vue-i18n';\nimport { ref, watch } from 'vue';\nimport { useFilterEngine } from '@questionnaire/composables/useFilterEngine';\nimport { usePageNavigation } from '@questionnaire/composables/usePageNavigation';\nimport { useScrollHandler } from '@questionnaire/composables/useScrollHandler';\nimport SingleChoiceQuestion from '@questionnaire/components/questions/QuestionSingleChoice.vue';\nimport MultiChoiceQuestion from '@questionnaire/components/questions/QuestionMultiChoice.vue';\nimport OpenQuestion from '@questionnaire/components/questions/QuestionOpen.vue';\nimport MatrixQuestion from '@questionnaire/components/questions/QuestionMatrix.vue';\nimport SemanticDifferential from '@questionnaire/components/questions/QuestionSemanticDifferential.vue';\nimport TransitionQuestion from '@questionnaire/components/questions/QuestionTransition.vue';\nvar missingValue = '-99';\nvar missingFilteredValue = '-77';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'QuestionnaireApp',\n    props: {\n        questionnaireConfigAsString: {},\n        filterConfigAsString: {},\n        staticVariables: {},\n        actionUrl: {},\n        language: {}\n    },\n    setup: function (__props) {\n        /**\n         * Component: DDM Questionnaire\n         *\n         * The main dynamic questionnaire component of the DDM.\n         *\n         * - Renders various question types dynamically based on passed backend config.\n         * - Tracks user responses and performs conditional filtering.\n         * - Supports required-field validation and per-item hiding.\n         * - Handles page navigation, scroll logic, and form submission.\n         *\n         * Props:\n         * - `questionnaireConfig` (String): JSON string of questionnaire configuration.\n         * - `filterConfig` (String): JSON string of filter condition configuration.\n         * - `actionUrl` (String): Backend endpoint to POST responses to.\n         * - `language` (String): Locale code to initialize i18n.\n         */\n        var _a = useI18n(), t = _a.t, locale = _a.locale;\n        var props = __props;\n        // Initialize core configuration and data structures.\n        var questionnaireConfig = ref(JSON.parse(props.questionnaireConfigAsString));\n        var questionItemMap = initializeQuestionItemMap(questionnaireConfig.value);\n        var responses = ref(initializeResponses(questionnaireConfig.value));\n        var staticVariables = JSON.parse(props.staticVariables);\n        // Initialize filtering functionality.\n        var filterConfig = ref(JSON.parse(props.filterConfigAsString));\n        var hideObjectDict = ref({});\n        var _b = useFilterEngine(filterConfig, responses, staticVariables, hideObjectDict, questionItemMap), evaluateFilters = _b.evaluateFilters, checkIfAllItemsHidden = _b.checkIfAllItemsHidden;\n        // Page navigation.\n        var questionnaireRoot = ref(null);\n        var _c = usePageNavigation(questionnaireConfig, hideObjectDict, responses, questionItemMap, missingValue, questionnaireRoot), currentPage = _c.currentPage, lastPageSubmitted = _c.lastPageSubmitted, next = _c.next;\n        var scrollToTop = useScrollHandler(questionnaireRoot).scrollToTop;\n        watch(lastPageSubmitted, function (submitted) {\n            if (submitted)\n                submitData();\n        });\n        // Component accessibility in template.\n        var questionTypeMap = {\n            single_choice: SingleChoiceQuestion,\n            multi_choice: MultiChoiceQuestion,\n            open: OpenQuestion,\n            matrix: MatrixQuestion,\n            semantic_diff: SemanticDifferential,\n            transition: TransitionQuestion,\n        };\n        watch(function () { return props.language; }, function (val) {\n            // @ts-ignore\n            if (typeof val === 'string' && val.length > 0) {\n                // @ts-ignore\n                locale.value = val;\n            }\n        });\n        /**\n         * Builds a mapping from each question ID to its associated item IDs.\n         *\n         * Iterates over the questionnaire configuration and creates a dictionary where\n         * each key is a `question_id`, and the value is an array of `item_id`s belonging to that question.\n         * If a question has no items, the value will be an empty array.\n         *\n         * @param questionnaireConfig - The full questionnaire structure containing questions and optional items.\n         * @returns A map of question IDs to arrays of their corresponding item IDs.\n         */\n        function initializeQuestionItemMap(questionnaireConfig) {\n            var questionItemMap = {};\n            questionnaireConfig.forEach(function (q) {\n                questionItemMap[q.question] = [];\n                q.items.forEach(function (i) {\n                    questionItemMap[q.question].push(i.id);\n                });\n            });\n            return questionItemMap;\n        }\n        /**\n         * Initializes the response object based on the received questionnaire configuration.\n         *\n         * Returns a flat map of response placeholders, with keys for both question IDs\n         * and item IDs (if present). All values are initialized to the sentinel string '-99',\n         * representing unanswered or uninitialized state.\n         *\n         * @param questionnaireConfig - The full questionnaire structure containing questions and items.\n         * @returns A Record mapping each question and item ID to '-99'.\n         */\n        function initializeResponses(questionnaireConfig) {\n            var responses = {};\n            questionnaireConfig.forEach(function (q) {\n                if (q.type === 'single_choice') {\n                    responses[q.question] = missingValue;\n                }\n                else if (q.type === 'transition') {\n                    // skip.\n                }\n                else if (q.type === 'open') {\n                    if (q.options.multi_item_response === true) {\n                        q.items.forEach(function (i) { return responses[i.id] = missingValue; });\n                    }\n                    else {\n                        responses[q.question] = missingValue;\n                    }\n                }\n                else if (q.type === 'multi_choice') {\n                    q.items.forEach(function (i) { return responses[i.id] = 0; });\n                }\n                else {\n                    q.items.forEach(function (i) { return responses[i.id] = missingValue; });\n                }\n            });\n            return responses;\n        }\n        /**\n         * Updates the stored response for a given question or item and triggers dependent logic.\n         *\n         * - Stores the latest response data into `responses` using the event ID as key.\n         * - If the response is not null, updates filter-related state:\n         *   - Evaluates filters to update visibility.\n         *   - Checks if all items in a question are hidden.\n         */\n        function updateResponses(e) {\n            responses.value[e.id] = e.response;\n            if (e.response !== null) {\n                evaluateFilters();\n                checkIfAllItemsHidden();\n            }\n        }\n        /**\n         * Updates the response array to mark questions and items that have been filtered out with\n         * the default missingFilteredOut value ('-77').\n         */\n        function cleanResponses() {\n            var hiddenKeys = Object.keys(hideObjectDict.value).filter(function (key) { return hideObjectDict.value[key]; });\n            hiddenKeys.forEach(function (key) {\n                // Directly mark the response as filtered out.\n                if (key in responses.value) {\n                    responses.value[key] = missingFilteredValue;\n                }\n                // If it's a question, mark its items as filtered too.\n                if (key.startsWith('question-')) {\n                    var items = questionItemMap[key] || [];\n                    items.forEach(function (itemId) {\n                        if (itemId in responses.value) {\n                            responses.value[itemId] = missingFilteredValue;\n                        }\n                    });\n                }\n            });\n        }\n        /**\n         * Submits the response data to the backend via a POST request using FormData.\n         *\n         * - Serializes `responses` and `questionnaireConfig` as JSON and sends it in \"post_data\".\n         * - Includes CSRF token from the DOM for security.\n         * - If the response triggers a redirect, it navigates to the new URL.\n         */\n        function submitData() {\n            var form = new FormData();\n            cleanResponses();\n            form.append('post_data', JSON.stringify({\n                responses: responses.value,\n                questionnaire_config: questionnaireConfig.value\n            }));\n            var csrf = document.querySelector(\"input[name='csrfmiddlewaretoken']\");\n            if (csrf)\n                form.append(\"csrfmiddlewaretoken\", csrf.value);\n            fetch(props.actionUrl, {\n                method: \"POST\",\n                body: form\n            })\n                .then(function (res) {\n                if (res.redirected) {\n                    window.location.href = res.url;\n                }\n            })\n                .catch(function (err) { return console.error(\"Submit error:\", err); });\n        }\n        function clickOnNextPage() {\n            evaluateFilters();\n            checkIfAllItemsHidden(); // To make sure filters are evaluated and questions hidden, even when all items are skipped.\n            next();\n            scrollToTop();\n        }\n        // Expose elements for testing.\n        if (process.env.NODE_ENV === 'test') {\n            // @ts-ignore\n            window.__expose__ = {\n                hideObjectDict: hideObjectDict,\n                responses: responses,\n                currentPage: currentPage\n            };\n        }\n        return function (_ctx, _cache) {\n            return (_openBlock(), _createElementBlock(\"div\", {\n                ref_key: \"questionnaireRoot\",\n                ref: questionnaireRoot\n            }, [\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(questionnaireConfig.value, function (question) {\n                    return _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n                        key: question.question,\n                        \"data-page-index\": question.page,\n                        \"data-question-id\": question.question,\n                        ref_for: true,\n                        ref: \"questionDivs\",\n                        class: \"question-app-container\"\n                    }, [\n                        _createElementVNode(\"div\", _hoisted_2, [\n                            (_openBlock(), _createBlock(_resolveDynamicComponent(questionTypeMap[question.type]), {\n                                qid: question.question,\n                                text: question.text,\n                                items: question.items,\n                                scale: question.scale,\n                                options: question.options,\n                                required: question.required,\n                                hideObjectDict: hideObjectDict.value,\n                                onResponseChanged: updateResponses,\n                                class: \"question-body\"\n                            }, null, 40, [\"qid\", \"text\", \"items\", \"scale\", \"options\", \"required\", \"hideObjectDict\"]))\n                        ])\n                    ], 8, _hoisted_1)), [\n                        [_vShow, _unref(currentPage) === question.page && !hideObjectDict.value[question.question]]\n                    ]);\n                }), 128)),\n                _createElementVNode(\"div\", _hoisted_3, [\n                    _createElementVNode(\"div\", _hoisted_4, [\n                        _createElementVNode(\"button\", {\n                            id: \"next-page-btn\",\n                            class: \"flow-btn\",\n                            type: \"button\",\n                            onClick: _cache[0] || (_cache[0] = function () { clickOnNextPage(); })\n                        }, _toDisplayString(_unref(t)('next-btn-label')) + \"  \", 1)\n                    ])\n                ])\n            ], 512));\n        };\n    }\n});\n","import script from \"./QuestionnaireApp.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./QuestionnaireApp.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./QuestionnaireApp.vue?vue&type=style&index=0&id=d3bf0ca2&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","export var onlyDigits = {\n    mounted: function (el) {\n        el.addEventListener('input', function () {\n            el.value = el.value.replace(/\\D/g, '');\n        });\n    }\n};\nexport var validEmail = {\n    mounted: function (el) {\n        var emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\\\.[a-zA-Z]{2,}$/;\n        el.addEventListener('blur', function () {\n            var hint = el.nextElementSibling;\n            var isValid = emailRegex.test(el.value);\n            if (hint instanceof HTMLElement) {\n                el.classList.toggle('invalid-email', !isValid);\n                if (hint === null || hint === void 0 ? void 0 : hint.classList.contains('hint-invalid-input')) {\n                    hint.style.display = isValid ? 'none' : 'block';\n                }\n            }\n        });\n        el.addEventListener('focus', function () {\n            var hint = el.nextElementSibling;\n            if (hint instanceof HTMLElement) {\n                if (hint === null || hint === void 0 ? void 0 : hint.classList.contains('hint-invalid-input')) {\n                    hint.style.display = 'none';\n                }\n            }\n        });\n    }\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { createApp } from 'vue';\nimport QApp from './components/QuestionnaireApp.vue';\nimport { onlyDigits, validEmail } from './directives/formDirectives';\nimport { createI18n } from 'vue-i18n';\nimport en from './locales/en.json';\nimport de from './locales/de.json';\nimport it from './locales/it.json';\nimport fr from './locales/fr.json';\nvar APP_CONFIG = {\n    selector: '#qapp',\n    defaultLocale: 'en',\n    fallbackLocale: 'en',\n};\nvar i18n = createI18n({\n    legacy: false,\n    locale: APP_CONFIG.defaultLocale,\n    fallbackLocale: APP_CONFIG.fallbackLocale,\n    messages: {\n        en: en,\n        de: de,\n        it: it,\n        fr: fr\n    }\n});\nvar selector = APP_CONFIG.selector;\nvar mountEl = document.querySelector(selector);\nvar app = createApp(QApp, __assign({}, mountEl.dataset));\n// Set i18n locale based on the data attribute.\nvar userLanguage = mountEl.dataset.language || APP_CONFIG.defaultLocale;\nvar availableLocales = i18n.global.availableLocales;\nif (availableLocales.includes(userLanguage)) {\n    i18n.global.locale.value = userLanguage;\n}\nelse {\n    i18n.global.locale.value = APP_CONFIG.fallbackLocale;\n}\napp.directive('only-digits', onlyDigits);\napp.directive('valid-email', validEmail);\napp.use(i18n);\napp.mount(selector);\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t377: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkddm_questionnaire_frontend\"] = self[\"webpackChunkddm_questionnaire_frontend\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(927); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["evaluateFilter","valueLeft","valueRight","operator","String","includes","Error","concat","evaluateFilterChain","arr","intermediate","i","length","prev","pop","next","push","reduce","acc","curr","useFilterEngine","filterConfig","responses","staticVariables","hideObjectDict","questionItemMap","evaluateFilters","Object","entries","value","forEach","_a","key","filters","filterChain","isFirst","filter","comparisonValue","source","evaluation","condition_value","condition_operator","combinator","checkIfAllItemsHidden","question","items","allHidden","every","item","usePageNavigation","questionnaireConfig","missingValue","rootElement","currentPage","minPage","maxPage","lastPageSubmitted","displayedRequiredHint","setPageInitials","pages","map","q","page","Math","min","apply","max","getActiveQuestions","canProceedToNextPage","nextValid","foundNextValidPage","checkRequired","currentPageIsValid","MISSING","missingResponses","missingQuestions","Set","root","querySelectorAll","el","classList","remove","required","missing","visible","add","r","querySelector","elements","Array","from","some","questionId","getAttribute","getNextQuestionBody","element","questionBody","closest","nextQuestionBody","nextElementSibling","isVisible","window","getComputedStyle","display","getHeightOfLastQuestionTextBefore","questionText","offsetHeight","scrollToNext","event","currentRow","target","nextRow","stickyHeight","nextRowTop","getBoundingClientRect","top","scrollY","adjustedPosition","scrollTo","behavior","nextQuestionTop","document","body","scrollHeight","updateMainScaleClasses","containerSelector","containers","container","mainScales","useScrollHandler","highlightUntilWidth","shouldHighlightOnScroll","innerWidth","registerScrollEvents","addEventListener","updateShouldHighlightOnScroll","updateMostVisibleRow","removeScrollEvents","removeEventListener","responseRows","mostVisibleRow","minDistance","Infinity","row","rect","questionHeight","distance","abs","bottom","innerHeight","style","opacity","scrollToTop","setTimeout","documentElement","scrollTop","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","__name","props","qid","text","emits","setup","__props","__emit","emit","t","responseChanged","id","name","response","_ctx","_cache","class","innerHTML","type","onChange","for","label","__exports__","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","options","getMaxLength","max_input_length","undefined","_directive_only_digits","_directive_valid_email","multi_item_response","input_type","maxlength","scale","show","hidden","point","secondary_point","heading_label","onClick","args","_i","arguments","input_label","idx","label_alt","missingFilteredValue","questionnaireConfigAsString","filterConfigAsString","actionUrl","language","locale","JSON","parse","initializeQuestionItemMap","initializeResponses","_b","questionnaireRoot","_c","submitted","submitData","questionTypeMap","single_choice","multi_choice","open","matrix","semantic_diff","transition","updateResponses","e","cleanResponses","hiddenKeys","keys","startsWith","itemId","form","FormData","append","stringify","questionnaire_config","csrf","fetch","method","then","res","redirected","location","href","url","catch","err","console","error","clickOnNextPage","val","ref_key","ref","ref_for","onResponseChanged","onlyDigits","mounted","replace","validEmail","emailRegex","hint","isValid","test","HTMLElement","toggle","contains","__assign","assign","s","n","p","prototype","hasOwnProperty","call","this","APP_CONFIG","selector","defaultLocale","fallbackLocale","i18n","legacy","messages","en","de","it","fr","mountEl","app","dataset","userLanguage","availableLocales","global","directive","use","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","fulfilled","j","splice","d","definition","o","defineProperty","enumerable","get","g","globalThis","Function","obj","prop","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}