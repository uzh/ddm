(function(){"use strict";var e={130:function(e,t,n){var a=n(726),o=n(992);const i={key:0,class:"fs-5 fw-bold pb-3"},r={key:1,class:"fw-bold pb-3"},s={class:"btn-group",role:"group","aria-label":"Consent options"},l=["id","name","aria-checked"],c=["for"],u=["id","name","aria-checked"],d=["for"];var p=(0,a.pM)({__name:"ConsentQuestion",props:{combinedConsent:{type:Boolean},blueprintId:{}},emits:["consentUpdated"],setup(e,{emit:t}){const{t:n,te:p,locale:f}=(0,o.s9)(),g=e,v=(0,a.KR)(null),m=t;function b(e){m("consentUpdated",e,g.blueprintId),v.value=e}return(e,t)=>((0,a.uX)(),(0,a.CE)(a.FK,null,[e.combinedConsent?((0,a.uX)(),(0,a.CE)("div",i,(0,a.v_)((0,a.R1)(n)("feedback.donation-question")),1)):((0,a.uX)(),(0,a.CE)("div",r,(0,a.v_)((0,a.R1)(n)("feedback.donation-question")),1)),(0,a.Lk)("div",s,[(0,a.Lk)("input",{type:"radio",class:"btn-check",id:"donate-agree-"+e.blueprintId,name:"agreement-"+e.blueprintId,value:!0,"aria-checked":!0===v.value,autocomplete:"off",onChange:t[0]||(t[0]=e=>b(!0)),required:""},null,40,l),(0,a.Lk)("label",{class:(0,a.C4)([{"selected-donate-agree":!0===v.value},"btn btn-light donation-btn shadow-none"]),for:"donate-agree-"+e.blueprintId},(0,a.v_)((0,a.R1)(n)("feedback.donation-agree")),11,c),(0,a.Lk)("input",{type:"radio",class:"btn-check",id:"donate-disagree-"+e.blueprintId,name:"agreement-"+e.blueprintId,value:!1,"aria-checked":!1===v.value,autocomplete:"off",onChange:t[1]||(t[1]=e=>b(!1))},null,40,u),(0,a.Lk)("label",{class:(0,a.C4)([{"selected-donate-disagree":!1===v.value},"btn btn-light donation-btn shadow-none"]),for:"donate-disagree-"+e.blueprintId},(0,a.v_)((0,a.R1)(n)("feedback.donation-disagree")),11,d)])],64))}}),f=n(262);const g=(0,f.A)(p,[["__scopeId","data-v-520690d8"]]);var v=g;const m={SUCCESS:"success",PARTIAL:"partial",FAILED:"failed",PENDING:"pending",NO_DATA:"no data extracted"};function b(e,t){let n;return function(...a){n&&clearTimeout(n);const o=this;n=setTimeout((()=>{e.apply(o,a)}),t)}}const h={class:"pb-2"},x={class:"table table-sm"},E={key:1},y={class:"fs-875 mb-2"},k={for:"data-search",class:"visually-hidden"},I=["placeholder"],C={key:0,class:"fs-875 pb-2"},R={key:1},w=["disabled"],L=["disabled"],_={key:0},S={key:1},N=20;var D=(0,a.pM)({__name:"ExtractionTable",props:{blueprintOutcome:{}},setup(e){const{t:t,te:n,locale:i}=(0,o.s9)(),r=e,s=(0,a.KR)(1),l=(0,a.KR)(!1),c=(0,a.KR)(""),u=(0,a.KR)(""),d=b((e=>{u.value=e.toLowerCase()}),300);(0,a.wB)(c,(e=>{d(e)}));const p=(0,a.EW)((()=>{const e=u.value.toLowerCase();return r.blueprintOutcome.extractedData.filter((t=>{for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const a=t[n];if(String(a).toLowerCase().includes(e))return!0}return!1}))})),f=(0,a.EW)((()=>Math.max(s.value*N-N,0))),g=(0,a.EW)((()=>Math.min(p.value.length,f.value+N))),v=(0,a.EW)((()=>Math.ceil(p.value.length/N)));(0,a.wB)((()=>[v.value]),(()=>{s.value>v.value&&(s.value=v.value),s.value<1&&(s.value=1)}),{immediate:!0,deep:!0});const m=()=>{s.value<v.value&&(s.value+=1)},D=()=>{s.value>1&&(s.value-=1)},O=()=>{l.value=!l.value};return(e,n)=>((0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",h,(0,a.v_)((0,a.R1)(t)("extraction-table.donation-info")),1),(0,a.Lk)("div",{class:(0,a.C4)(["table-wrapper fs-875 pb-3",{"table-condensed":!l.value,"table-expanded":l.value}])},[(0,a.Lk)("table",x,[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.blueprintOutcome.extractedFieldsMap.values(),(e=>((0,a.uX)(),(0,a.CE)("th",{key:e},(0,a.v_)(e),1)))),128))])]),(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(p.value.slice(f.value,g.value),(t=>((0,a.uX)(),(0,a.CE)("tr",{key:t},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.blueprintOutcome.extractedFieldsMap.keys(),(e=>((0,a.uX)(),(0,a.CE)(a.FK,{key:e},[e in t?((0,a.uX)(),(0,a.CE)("td",{key:t},(0,a.v_)(t[e]),1)):((0,a.uX)(),(0,a.CE)("td",E,"–"))],64)))),128))])))),128))])]),(0,a.Lk)("div",y,[(0,a.Lk)("label",k,(0,a.v_)((0,a.R1)(t)("extraction-table.search-entries")),1),(0,a.bo)((0,a.Lk)("input",{id:"data-search",type:"text","onUpdate:modelValue":n[0]||(n[0]=e=>c.value=e),placeholder:(0,a.R1)(t)("extraction-table.search-entries"),"aria-label":"Search data entries"},null,8,I),[[a.Jo,c.value]])]),p.value.length>0?((0,a.uX)(),(0,a.CE)("div",C,(0,a.v_)((0,a.R1)(t)("extraction-table.page-info",{currentPage:s.value,maxPage:v.value}))+" | "+(0,a.v_)((0,a.R1)(t)("extraction-table.entry-info",{lower:f.value+1,upper:Math.min(g.value+1,p.value.length),total:p.value.length})),1)):((0,a.uX)(),(0,a.CE)("div",R,(0,a.v_)((0,a.R1)(t)("extraction-table.all-filtered")),1)),(0,a.Lk)("div",null,[(0,a.Lk)("button",{onClick:D,class:"btn btn-pagination btn-sm me-2",disabled:s.value<=1,"aria-label":"Previous page"},(0,a.v_)((0,a.R1)(t)("extraction-table.previous-page")),9,w),(0,a.Lk)("button",{onClick:m,class:"btn btn-pagination btn-sm me-2",disabled:s.value>=v.value,"aria-label":"Next page"},(0,a.v_)((0,a.R1)(t)("extraction-table.next-page")),9,L)])],2),(0,a.Lk)("div",{class:(0,a.C4)(["show-data-control text-center fs-875 mb-3",{"control-expanded":l.value,"control-condensed":!l.value}])},[(0,a.Lk)("a",{class:(0,a.C4)(["expansion-control-btn",{"expansion-control-btn-expanded":l.value,"expansion-control-btn-condensed":!l.value}]),onClick:O},[l.value?l.value?((0,a.uX)(),(0,a.CE)("span",S,(0,a.v_)((0,a.R1)(t)("extraction-table.hide-data")),1)):(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("span",_,(0,a.v_)((0,a.R1)(t)("extraction-table.show-data")),1))],2)],2)],64))}});const O=(0,f.A)(D,[["__scopeId","data-v-8ec0181e"]]);var A=O;const T={class:"d-flex flex-column align-items-start pt-3 pb-3 blueprint-row"},F={class:"d-flex flex-row align-items-start pb-1"},P={class:"status-icon"},U={class:"fw-bold"},M={class:"d-flex flex-row align-items-start w-100 overflow-hidden"},z={class:"status-icon opacity-0"},X={class:"d-flex flex-column w-100"},K={key:0},G={class:"pb-3"},W={key:0,class:"pt-3 pb-1"},j={class:"pb-2"},V={key:0},B={role:"button","aria-expanded":"false",id:"error-details-summary"},Z={role:"region","aria-labelledby":"error-details-summary"},$={key:0};var H=(0,a.pM)({__name:"ExtractionItem",props:{blueprint:{},extractionState:{},extractionMessage:{},extractionErrorText:{},extractionOutcome:{},hasDetailErrors:{type:Boolean},errors:{},combinedConsent:{type:Boolean}},emits:["consentUpdated"],setup(e,{emit:t}){const{t:n,te:i,locale:r}=(0,o.s9)(),s=e,l=t,c={[m.SUCCESS]:"bi bi-file-earmark-check-fill text-success",[m.FAILED]:"bi bi-file-earmark-x-fill text-danger",[m.NO_DATA]:"bi bi-file-earmark-x-fill text-grey",[m.PENDING]:"bi bi-file-earmark-fill text-grey",[m.PARTIAL]:""},u=(0,a.EW)((()=>s.extractionState?c[s.extractionState]:c[m.PENDING])),d=(0,a.EW)((()=>s.extractionState==m.PENDING)),p=(0,a.EW)((()=>s.extractionState==m.SUCCESS)),f=(0,a.EW)((()=>s.extractionState==m.NO_DATA)),g=(0,a.EW)((()=>s.extractionState==m.FAILED)),b=(e,t)=>{l("consentUpdated",e,t)};return(e,t)=>((0,a.uX)(),(0,a.CE)("div",T,[(0,a.Lk)("div",F,[(0,a.Lk)("div",P,[(0,a.Lk)("i",{class:(0,a.C4)(u.value)},null,2)]),(0,a.Lk)("div",U,(0,a.v_)(e.blueprint.name),1)]),(0,a.Lk)("div",M,[(0,a.Lk)("div",z,[(0,a.Lk)("i",{class:(0,a.C4)(u.value)},null,2)]),(0,a.Lk)("div",X,[d.value?((0,a.uX)(),(0,a.CE)("div",K,(0,a.v_)(e.blueprint.description),1)):p.value?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.Lk)("div",G,(0,a.v_)(e.blueprint.description),1),(0,a.Lk)("div",null,[(0,a.bF)(A,{"blueprint-outcome":e.extractionOutcome},null,8,["blueprint-outcome"])]),!1===e.combinedConsent?((0,a.uX)(),(0,a.CE)("div",W,[(0,a.bF)(v,{"combined-consent":e.combinedConsent,"blueprint-id":e.blueprint.id,onConsentUpdated:b},null,8,["combined-consent","blueprint-id"])])):(0,a.Q3)("",!0)],64)):f.value?((0,a.uX)(),(0,a.CE)(a.FK,{key:2},[(0,a.Lk)("div",j,(0,a.v_)(e.blueprint.description),1),(0,a.Lk)("div",null,(0,a.v_)((0,a.R1)(n)(`${e.extractionMessage}`)),1)],64)):g.value?((0,a.uX)(),(0,a.CE)(a.FK,{key:3},[(0,a.Lk)("div",null,(0,a.v_)((0,a.R1)(n)(`${e.extractionMessage}`))+" "+(0,a.v_)(e.extractionErrorText),1),e.hasDetailErrors?((0,a.uX)(),(0,a.CE)("div",V,[(0,a.Lk)("details",null,[(0,a.Lk)("summary",B,(0,a.v_)((0,a.R1)(n)("feedback.show-error-details")),1),(0,a.Lk)("div",Z,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.errors,((e,t)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:t},[(0,a.R1)(i)(`${e.i18nDetail}-detail`)?((0,a.uX)(),(0,a.CE)("p",$,(0,a.v_)((0,a.R1)(n)(`${e.i18nDetail}-detail`,e.context)),1)):(0,a.Q3)("",!0)],64)))),128))])])])):(0,a.Q3)("",!0)],64)):(0,a.Q3)("",!0)])])]))}});const q=(0,f.A)(H,[["__scopeId","data-v-5837fb97"]]);var Q=q;const J={class:"pb-3 d-flex align-items-center"},Y={class:"section-heading"};var ee=(0,a.pM)({__name:"ExtractionOverview",props:{uploaderState:{},extractionState:{},blueprints:{},blueprintExtractionStates:{},blueprintOutcomeMap:{},combinedConsent:{type:Boolean}},emits:["consentUpdated"],setup(e,{emit:t}){const{t:n,te:i,locale:r}=(0,o.s9)(),s=e,l=t,c=(0,a.Kh)(u());function u(){return Object.fromEntries(s.blueprints.map((e=>{const t=s.blueprintExtractionStates[e.id]?.state,n=s.blueprintExtractionStates[e.id]?.i18nState,a=s.blueprintOutcomeMap[e.id]?.processingErrors??[],o=a.some((e=>i(`${e.i18nDetail}-detail`))),r=p(a);return[e.id,{state:t,msg:n,errors:a,anyDetails:o,errorText:r}]})))}function d(){const e=u();Object.keys(c).forEach((e=>delete c[e])),Object.assign(c,e)}function p(e){let t="";if(0===e.length)return"";if(1===e.length)return n(`${e[0].i18nDetail}`,e[0].context);for(let a=0;a<e.length;a++)t+=n(`${e[a].i18nDetail}`,e[a].context).toLowerCase(),a<e.length-2?t+=", ":a===e.length-2&&(t+=", and ");return t}(0,a.sV)((()=>{d()})),(0,a.wB)((()=>s.uploaderState),(()=>{s.extractionState!=m.PENDING&&d()}),{immediate:!0,deep:!0});const f=(e,t)=>{l("consentUpdated",e,t)},g=(0,a.EW)((()=>s.extractionState===m.PENDING?n("feedback.intro-extraction-pending"):n("feedback.intro-extraction-complete")));return(e,t)=>((0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",J,[t[0]||(t[0]=(0,a.Lk)("span",{class:"section-icon"},[(0,a.Lk)("i",{class:"bi bi-file-earmark-text"})],-1)),(0,a.Lk)("span",Y,(0,a.v_)(g.value),1)]),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.blueprints,(t=>((0,a.uX)(),(0,a.Wv)(Q,{key:t.id,blueprint:t,"extraction-state":c[t.id]?.state,"extraction-message":c[t.id]?.msg,"extraction-error-text":c[t.id]?.errorText,"extraction-outcome":e.blueprintOutcomeMap[t.id],"has-detail-errors":c[t.id].anyDetails,errors:c[t.id]?.errors||[],"combined-consent":e.combinedConsent,onConsentUpdated:f},null,8,["blueprint","extraction-state","extraction-message","extraction-error-text","extraction-outcome","has-detail-errors","errors","combined-consent"])))),128))],64))}});const te=ee;var ne=te;const ae={IDLE:"idle",PROCESSING:"processing",DONE:"done"},oe={class:"d-lg-flex flex-row align-items-center justify-content-between"},ie={class:"pe-5 pb-0 d-flex align-items-center"},re={class:"section-icon"},se={key:0,class:"bi bi-check-square fs-2 pe-3 text-success"},le={key:1,class:"bi bi-upload fs-2 pe-3"},ce={class:"section-heading"},ue={class:"flex-grow-1"},de={class:"mb-0"},pe={key:0,class:"ps-2 fw-bold fs-6"},fe={key:1,class:"ps-2 fw-bold fs-6"},ge=["accept"],ve={key:1,class:"d-flex align-items-center justify-content-center p-4"},me={class:"mb-0"},be={key:2,class:"p-4"},he={key:0},xe={class:"fs-5 fw-bold text-success"},Ee={key:1},ye={class:"fs-5 fw-bold color-red"},ke={key:0},Ie={class:"pt-2"},Ce={key:2},Re={class:"fs-5 fw-bold"},we={key:0,class:"pt-2 w-100 text-center"};var Le=(0,a.pM)({__name:"FileDrop",props:{expectsZip:{type:Boolean},uploaderState:{},extractionState:{},generalErrors:{}},emits:["fileDropped"],setup(e,{emit:t}){const{t:n,locale:i}=(0,o.s9)(),r=e,s=t,l=(0,a.KR)(!1),c=(0,a.KR)(!1),u=(0,a.KR)(""),d=(0,a.lW)(r,"extractionState"),p=(0,a.KR)("bg-lightgrey");(0,a.sV)((()=>{g()}));const f={[m.SUCCESS]:"border-success",[m.PARTIAL]:"border-success",[m.FAILED]:"border-failed",[m.NO_DATA]:"border-no-data",[m.PENDING]:"bg-lightgrey"};function g(){r.expectsZip?u.value=".zip,application/zip,application/x-zip-compressed,multipart/x-zip":u.value="application/json,text/csv,.csv,.json"}function v(e){e.preventDefault(),l.value=!1;const t=e.dataTransfer?.files;t?.[0]&&(c.value=!1,s("fileDropped",t[0]))}function b(e){const t=e.target,n=t.files;if(!n||0===n.length)return;const a=n[0];c.value=!1,s("fileDropped",a)}function h(){c.value=!0,p.value="bg-lightgrey"}(0,a.wB)(d,(e=>{p.value=f[e]}));const x=(0,a.EW)((()=>r.uploaderState===ae.IDLE||c.value)),E=(0,a.EW)((()=>r.uploaderState===ae.PROCESSING)),y=(0,a.EW)((()=>r.uploaderState===ae.DONE)),k=(0,a.EW)((()=>r.uploaderState===ae.DONE&&r.extractionState!==m.FAILED&&!c.value)),I=(0,a.EW)((()=>r.extractionState===m.SUCCESS||r.extractionState===m.PARTIAL)),C=(0,a.EW)((()=>r.extractionState===m.FAILED)),R=(0,a.EW)((()=>r.extractionState===m.NO_DATA));return(e,t)=>((0,a.uX)(),(0,a.CE)("div",oe,[(0,a.Lk)("div",ie,[(0,a.Lk)("span",re,[["success","partial"].includes(r.extractionState)?((0,a.uX)(),(0,a.CE)("i",se)):((0,a.uX)(),(0,a.CE)("i",le))]),(0,a.Lk)("span",ce,(0,a.v_)((0,a.R1)(n)("file-drop.heading")),1)]),(0,a.Lk)("div",ue,[(0,a.Lk)("div",{class:(0,a.C4)(["border rounded text-center position-relative bg-lightgrey",p.value])},[x.value?((0,a.uX)(),(0,a.CE)("div",{key:0,class:(0,a.C4)(["p-4",{"dropzone-hover":l.value}]),onDragover:t[0]||(t[0]=(0,a.D$)((e=>l.value=!0),["prevent"])),onDragleave:t[1]||(t[1]=(0,a.D$)((e=>l.value=!1),["prevent"])),onDrop:v,onClick:t[2]||(t[2]=t=>e.$refs.fileInput.click()),style:{cursor:"pointer"}},[(0,a.Lk)("p",de,[t[3]||(t[3]=(0,a.Lk)("i",{id:"ul-modal-info-icon",class:"bi bi-upload fs-5 pe-3"},null,-1)),l.value?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("span",pe,(0,a.v_)((0,a.R1)(n)("file-drop.selection-prompt")),1)),l.value?((0,a.uX)(),(0,a.CE)("span",fe,(0,a.v_)((0,a.R1)(n)("file-drop.release-to-select")),1)):(0,a.Q3)("",!0)]),(0,a.Lk)("input",{ref:"fileInput",type:"file",class:"d-none",accept:u.value,onChange:b},null,40,ge)],34)):E.value?((0,a.uX)(),(0,a.CE)("div",ve,[t[4]||(t[4]=(0,a.Lk)("span",{class:"spinner-border float-right me-3",role:"status"},[(0,a.Lk)("span",{class:"sr-only"})],-1)),(0,a.Lk)("p",me,(0,a.v_)((0,a.R1)(n)("file-drop.file-is-being-processed")),1)])):y.value?((0,a.uX)(),(0,a.CE)("div",be,[I.value?((0,a.uX)(),(0,a.CE)("div",he,[(0,a.Lk)("p",xe,[t[5]||(t[5]=(0,a.Lk)("i",{class:"bi bi-check-circle pe-3"},null,-1)),(0,a.eW)((0,a.v_)((0,a.R1)(n)("file-drop.processing-success")),1)]),(0,a.eW)(" "+(0,a.v_)((0,a.R1)(n)("extraction-state.file.success")),1)])):C.value?((0,a.uX)(),(0,a.CE)("div",Ee,[(0,a.Lk)("p",ye,(0,a.v_)((0,a.R1)(n)("file-drop.processing-failed")),1),r.generalErrors.length?((0,a.uX)(),(0,a.CE)("div",ke,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.generalErrors,((e,t)=>((0,a.uX)(),(0,a.CE)("p",{key:t,class:"pt-3 color-darkred"},(0,a.v_)((0,a.R1)(n)(e.i18nDetail,e.context)),1)))),128))])):(0,a.Q3)("",!0),(0,a.Lk)("p",Ie,[(0,a.eW)((0,a.v_)((0,a.R1)(n)("file-drop.retry-hint"))+" ",1),(0,a.Lk)("a",{class:"btn re-try-btn fs-6",onClick:h},(0,a.v_)((0,a.R1)(n)("file-drop.choose-different-file")),1)])])):R.value?((0,a.uX)(),(0,a.CE)("div",Ce,[(0,a.Lk)("p",Re,(0,a.v_)((0,a.R1)(n)("file-drop.processing-complete")),1),(0,a.eW)(" "+(0,a.v_)((0,a.R1)(n)("extraction-state.file.no-data-extracted")),1)])):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0)],2),k.value?((0,a.uX)(),(0,a.CE)("div",we,[(0,a.Lk)("a",{class:"btn re-try-btn fs-6",onClick:h},(0,a.v_)((0,a.R1)(n)("file-drop.choose-different-file")),1)])):(0,a.Q3)("",!0)])]))}});const _e=(0,f.A)(Le,[["__scopeId","data-v-6b88704e"]]);var Se=_e;const Ne={class:"d-flex align-items-center"},De={class:"section-heading"},Oe={class:"d-flex flex-row align-items-center carousel"},Ae={class:"control-container"},Te={class:"carousel-inner"},Fe={class:"control-container"},Pe={class:"text-center"},Ue=["aria-label","onClick"];var Me=(0,a.pM)({__name:"Instructions",props:{instructions:{},componentId:{}},setup(e){const{t:t,locale:n}=(0,o.s9)(),i=e,r=(0,a.KR)(0);function s(){r.value>0&&r.value--}function l(){r.value<i.instructions.length-1&&r.value++}function c(e){r.value=e}const u=(0,a.EW)((()=>r.value>0)),d=(0,a.EW)((()=>r.value<i.instructions.length-1)),p=(0,a.EW)((()=>i.instructions[r.value].text));return(e,n)=>((0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",Ne,[n[0]||(n[0]=(0,a.Lk)("span",{class:"section-icon"},[(0,a.Lk)("i",{class:"bi bi-list-ol"})],-1)),(0,a.Lk)("span",De,(0,a.v_)((0,a.R1)(t)("instructions.heading")),1)]),(0,a.Lk)("div",Oe,[(0,a.Lk)("div",Ae,[u.value?((0,a.uX)(),(0,a.CE)("a",{key:0,onClick:s,class:(0,a.C4)(["control-btn control-prev",{"btn-disabled":0===r.value}])},n[1]||(n[1]=[(0,a.Lk)("i",{class:"bi bi-caret-left-fill"},null,-1),(0,a.Lk)("span",{class:"visually-hidden"},"Previous",-1)]),2)):(0,a.Q3)("",!0)]),(0,a.Lk)("div",Te,[(0,a.bF)(a.eB,{name:"fade",mode:"out-in"},{default:(0,a.k6)((()=>[((0,a.uX)(),(0,a.Wv)((0,a.$y)("div"),{key:r.value,class:"carousel-item active",innerHTML:p.value},null,8,["innerHTML"]))])),_:1})]),(0,a.Lk)("div",Fe,[d.value?((0,a.uX)(),(0,a.CE)("a",{key:0,onClick:l,class:(0,a.C4)(["control-btn control-next",{"btn-disabled":r.value===i.instructions.length-1}])},n[2]||(n[2]=[(0,a.Lk)("i",{class:"bi bi-caret-right-fill"},null,-1),(0,a.Lk)("span",{class:"visually-hidden"},"Next",-1)]),2)):(0,a.Q3)("",!0)])]),(0,a.Lk)("div",Pe,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(i.instructions,((e,t)=>((0,a.uX)(),(0,a.CE)("button",{key:t,type:"button",class:(0,a.C4)(["step-indicator",{"active step-indicator-active":t===r.value}]),"aria-label":`Slide ${t+1}`,onClick:e=>c(t)},null,10,Ue)))),128))])],64))}});const ze=(0,f.A)(Me,[["__scopeId","data-v-5a0b4e47"]]);var Xe=ze;function Ke(e,t){const n=(0,a.KR)(o());function o(){const t={};for(const n of e)t[n.id]=null;return t}const i=(e,a)=>{if(t)for(const t of Object.keys(n.value))n.value[t]=e;else{if(null===a)return void console.warn("Attempted to update consent for null blueprintId in individual consent mode");if(!(a in n.value))return void console.warn(`Attempted to update consent for unknown blueprint ID: ${a}`);n.value[a]=e}};return{blueprintConsentMap:n,updateConsent:i}}const Ge={INFO:"info",WARN:"warn",CRITICAL:"critical"},We={FILE:"file",BLUEPRINT:"blueprint"},je={ZIP_HANDLING:"ZIP handling error",FILE_PROCESSING:"File processing error",BLUEPRINT_SPECIFICATION:"Blueprint specification error",EXTRACTION:"Extraction error"};function Ve(e,t){const n=(0,a.KR)(m.PENDING),o=(0,a.KR)([]),i=(0,a.KR)({});function r(){for(const e of Object.keys(t))i.value[e]={state:m.PENDING,i18nState:null,errorsToDisplay:[]}}function s(){n.value=m.PENDING,o.value=[],i.value={}}function l(){s(),c(),u(),d()}function c(){for(const t of e)t.level===Ge.CRITICAL&&o.value.push(t)}function u(){for(const[e,n]of Object.entries(t))i.value[e]=f(n)}function d(){if(o.value.length>0)return void(n.value=m.FAILED);const e=Object.keys(i.value).length,t=g(m.SUCCESS),a=g(m.NO_DATA),r=g(m.FAILED);n.value=p(e,t,a,r)}function p(e,t,n,a){return t===e?m.SUCCESS:n===e?m.NO_DATA:a===e?m.FAILED:m.PARTIAL}function f(e){let t=m.PENDING,n=null;const a=e.processingErrors.filter((e=>e.level===Ge.CRITICAL));a.length>0&&(t=m.FAILED,n="extraction-state.blueprint.failed");const o=e.extractedData.length,i=e.extractionStats,r=i.nRowsTotal>0?i.nRowsMissingField/i.nRowsTotal:0,s=i.nRowsTotal>0?i.nRowsFilteredOut/i.nRowsTotal:0;return 0===o&&0===a.length?(t=m.NO_DATA,n=1===r?"extraction-state.blueprint.all-missing-fields":1===s?"extraction-state.blueprint.all-filtered-out":"extraction-state.blueprint.no-data-extracted"):0===a.length&&(t=m.SUCCESS,n="extraction-state.blueprint.success"),{state:t,i18nState:n,errorsToDisplay:a}}function g(e){return Object.values(i.value).filter((t=>t.state===e)).length}return r(),{extractionState:n,generalErrorsToDisplay:o,blueprintExtractionStates:i,getExtractionState:l}}class Be{constructor(e){this.blueprintId=e.id,this.extractedData=[],this.extractedFieldsMap=new Map,this.extractionStats={nRowsMissingField:0,nRowsFilteredOut:0,nRowsTotal:0,noKeyMatches:{}},this.extractionRuleLog=this.initializeExtractionRuleLog(e.extraction_rules),this.processingErrors=[]}initializeExtractionRuleLog(e){return Object.fromEntries(e.map((e=>[e.id,0])))}incrementExtractionRuleCount(e){this.extractionStats.nRowsFilteredOut+=1,this.extractionRuleLog[e.id]+=1}registerNoKeyMatch(e,t){this.extractionStats.noKeyMatches[e]||(this.extractionStats.noKeyMatches[e]={});const n=JSON.stringify([...t].sort());this.extractionStats.noKeyMatches[e][n]||(this.extractionStats.noKeyMatches[e][n]=0),this.extractionStats.noKeyMatches[e][n]+=1}registerError(e,t){this.processingErrors.push({type:e.type,category:e.category,scope:e.scope,i18nDetail:e.i18nDetail,level:e.level,context:{...e.context,...t,blueprintId:this.blueprintId}})}mapExtractedField(e,t){this.extractedFieldsMap.has(e)||this.extractedFieldsMap.set(e,t)}}var Ze=n(710),$e=n.n(Ze);const He={INVALID_ZIP:{type:"INVALID_ZIP",category:je.ZIP_HANDLING,scope:We.FILE,i18nDetail:"errors.invalid-zip",level:Ge.CRITICAL,context:{fileType:"[invalid file type]"}},ZIP_READ_FAIL:{type:"ZIP_READ_FAIL",category:je.ZIP_HANDLING,scope:We.FILE,i18nDetail:"errors.zip-read-fail",level:Ge.CRITICAL,context:{}},INVALID_REGEX:{type:"INVALID_REGEX",category:je.BLUEPRINT_SPECIFICATION,scope:We.BLUEPRINT,i18nDetail:"errors.invalid-regex",level:Ge.CRITICAL,context:{blueprintId:"[blueprint ID]"}},INVALID_RULE_REGEX:{type:"INVALID_RULE_REGEX",category:je.EXTRACTION,scope:We.BLUEPRINT,i18nDetail:"errors.invalid-rule-regex",level:Ge.WARN,context:{blueprintId:"[blueprint ID]",ruleId:"[rule ID]",ruleRegex:"[rule regex]"}},NO_FILE_MATCH:{type:"NO_FILE_MATCH",category:je.EXTRACTION,scope:We.BLUEPRINT,i18nDetail:"errors.no-file-match",level:Ge.CRITICAL,context:{blueprintId:"[blueprint ID]",regexPath:"[provided regex path]",availableFiles:"[list of files in zip]"}},FILE_PROCESSING_FAIL_GENERAL:{type:"FILE_PROCESSING_FAIL_GENERAL",category:je.FILE_PROCESSING,scope:We.BLUEPRINT,i18nDetail:"errors.file-processing-fail-general",level:Ge.CRITICAL,context:{blueprintId:"[blueprint ID]",error:"[the error that occurred]"}},STRING_CONVERSION_ERROR:{type:"STRING_CONVERSION_ERROR",category:je.FILE_PROCESSING,scope:We.FILE,i18nDetail:"errors.string-conversion-error",level:Ge.CRITICAL,context:{}},NO_EXTRACTION_RULES:{type:"NO_EXTRACTION_RULES",category:je.BLUEPRINT_SPECIFICATION,scope:We.BLUEPRINT,i18nDetail:"errors.no-extraction-rules",level:Ge.CRITICAL,context:{blueprintId:"[blueprint ID]"}},PARSING_ERROR:{type:"PARSING_ERROR",category:je.FILE_PROCESSING,scope:We.BLUEPRINT,i18nDetail:"errors.parsing-error",level:Ge.CRITICAL,context:{blueprintId:"[blueprint ID]",contentType:"[the type of content it tried to parse]"}},UNSUPPORTED_BP_FORMAT:{type:"UNSUPPORTED_BP_FORMAT",category:je.BLUEPRINT_SPECIFICATION,scope:We.BLUEPRINT,i18nDetail:"errors.unsupported-bp-format",level:Ge.CRITICAL,context:{blueprintId:"[blueprint ID]",format:"[name of unsupported format]"}},MORE_THAN_ONE_KEY_MATCH:{type:"MORE_THAN_ONE_KEY_MATCH",category:je.EXTRACTION,scope:We.BLUEPRINT,i18nDetail:"errors.more-than-one-key-match",level:Ge.INFO,context:{blueprintId:"[blueprint ID]",field:"[the field for which multiple matches were found]",keys:"[the keys that were matched]",defaultKey:"[the fallback key used]"}}};function qe(e,t,n={}){const a={type:t.type,category:t.category,scope:t.scope,i18nDetail:t.i18nDetail,level:t.level,context:{...t.context,...n}};e.push(a)}var Qe=n(809),Je=n.n(Qe),Ye=n(641);function et(e){return"string"!==typeof e?JSON.stringify(e):e}function tt(e){return"number"===typeof e||"string"==typeof e&&(!isNaN(parseFloat(e))&&isFinite(Number(e)))}function nt(e,t){try{return!(!Ye.c9.fromISO(e).isValid||!Ye.c9.fromISO(t).isValid)||(!(!Ye.c9.fromRFC2822(e).isValid||!Ye.c9.fromRFC2822(t).isValid)||!(!Ye.c9.fromHTTP(e).isValid||!Ye.c9.fromHTTP(t).isValid))}catch(n){return console.warn("[bothDates] Error checking date formats:",n),!1}}function at(e,t){try{if(Ye.c9.fromISO(e).isValid&&Ye.c9.fromISO(t).isValid)return[Ye.c9.fromISO(e),Ye.c9.fromISO(t)];if(Ye.c9.fromRFC2822(e).isValid&&Ye.c9.fromRFC2822(t).isValid)return[Ye.c9.fromRFC2822(e),Ye.c9.fromRFC2822(t)];if(Ye.c9.fromHTTP(e).isValid&&Ye.c9.fromHTTP(t).isValid)return[Ye.c9.fromHTTP(e),Ye.c9.fromHTTP(t)]}catch(n){console.warn(`[getDates] Error parsing dates: ${n}`)}return[null,null]}function ot(e,t){if(nt(e,t)){const[n,a]=at(e,t);return[n,a]}return tt(e)&&tt(t)?[parseFloat(e),parseFloat(t)]:(e=et(e),t=et(t),[e,t])}function it(e,t){try{return e=et(e),t=et(t),e===t}catch(n){return console.warn("Error comparing values for equality:",n),!1}}function rt(e,t){try{return e=et(e),t=et(t),e!==t}catch(n){return console.warn("Error comparing values for inequality:",n),!1}}function st(e,t,n){try{if(nt(e,t)||tt(e)&&tt(t)){const[a,o]=ot(e,t);return null!==a&&null!==o&&n(a,o)}}catch(a){console.warn("Error comparing values:",a)}return!1}function lt(e,t){return st(e,t,((e,t)=>e<=t))}function ct(e,t){return st(e,t,((e,t)=>e>=t))}function ut(e,t){return st(e,t,((e,t)=>e<t))}function dt(e,t){return st(e,t,((e,t)=>e>t))}function pt(e,t){const n=et(e),a=RegExp(t,"g");return n.replaceAll(a,"")}function ft(e,t,n){const a=et(e),o=RegExp(t,"g");return a.replaceAll(o,n)}function gt(e,t){const n=et(e),a=RegExp(t,"g");return a.test(n)}function vt(e,t,n){let a=[];for(const o of t){const t=n?Object.keys(e).some((e=>new RegExp(o).test(e))):Object.prototype.hasOwnProperty.call(e,o);t||a.push(o)}return a}function mt(e,t,n,a){const o=new Map;for(const i of t){const t=Object.keys(e).filter((e=>{if(i.regex_field)try{return new RegExp(i.field).test(e)}catch(t){return a[n].registerError(He.INVALID_REGEX,{blueprintId:n,ruleId:i.id,ruleRegex:i.field}),!1}return i.field===e}));if(t.length>1){const e={field:i.field,keys:t,defaultKey:t[0]};a[n].registerError(He.MORE_THAN_ONE_KEY_MATCH,e),o.set(i.field,t[0]),a[n].mapExtractedField(i.field,t[0])}else 0===t.length?a[n].registerNoKeyMatch(i.field,Object.keys(e)):(o.set(i.field,t[0]),a[n].mapExtractedField(i.field,t[0]))}return o}function bt(e,t,n,a,o){const i={};for(const r of t){const t=n.get(r.field);if(void 0!==t)switch(r.comparison_operator){case null:i[r.field]=e[t];break;case"==":if(it(e[t],r.comparison_value))return ht(r,a,o);break;case"!=":if(rt(e[t],r.comparison_value))return ht(r,a,o);break;case"<=":if(lt(e[t],r.comparison_value))return ht(r,a,o);break;case">=":if(ct(e[t],r.comparison_value))return ht(r,a,o);break;case"<":if(ut(e[t],r.comparison_value))return ht(r,a,o);break;case">":if(dt(e[t],r.comparison_value))return ht(r,a,o);break;case"regex-delete-match":if(t in i)try{let n=pt(e[t],r.comparison_value);i[r.field]=n,e[t]=n,o[a].extractionRuleLog[r.id]+=1}catch{i[r.field]=e[t]}break;case"regex-replace-match":if(t in i)try{let n=ft(e[t],r.comparison_value,r.replacement_value);i[r.field]=n,e[t]=n,o[a].extractionRuleLog[r.id]+=1}catch{i[r.field]=e[t]}break;case"regex-delete-row":if(t in e){let n=!1;try{n=gt(e[t],r.comparison_value)}catch{break}if(n)return ht(r,a,o)}break;default:break}}Object.keys(i).length>0&&o[a].extractedData.push(i)}function ht(e,t,n){n[t].incrementExtractionRuleCount(e)}function xt(e,t,n){if(0===t.extraction_rules.length)return void n[t.id].registerError(He.NO_EXTRACTION_RULES,{});const a=Et(e,t,n);if(a){n[t.id].extractionStats.nRowsTotal=a.length;for(const e of a){if(null==e)continue;const a=vt(e,t.expected_fields,t.exp_fields_regex_matching);if(a.length>0){n[t.id].extractionStats.nRowsMissingField+=1;continue}const o=mt(e,t.extraction_rules,t.id,n);bt(e,t.extraction_rules,o,t.id,n)}}else n[t.id].registerError(He.PARSING_ERROR,{contentType:""})}function Et(e,t,n){let a=null;if("json"===t.format)try{a=yt(e,t.json_extraction_root)}catch(o){n[t.id].registerError(He.PARSING_ERROR,{contentType:"JSON",error:o})}else{if("csv"!==t.format)return n[t.id].registerError(He.UNSUPPORTED_BP_FORMAT,{format:t.format}),null;try{a=kt(e,t.csv_delimiter)}catch(o){n[t.id].registerError(He.PARSING_ERROR,{contentType:"CSV",error:o})}}return a||(n[t.id].registerError(He.PARSING_ERROR,{contentType:t.format}),null)}function yt(e,t){let n;try{n=JSON.parse(e)}catch(a){throw new Error(`Failed to parse JSON content: ${a}`)}if(t&&""!==t)try{n=It(n,t)}catch(a){throw new Error(`Failed to get nested JSON content: ${a}`)}return Symbol.iterator in Object(n)||(n=new Array(n)),n}function kt(e,t){try{const n=Je().parse(e,{header:!0,delimiter:t,skipEmptyLines:!0,dynamicTyping:!1});if(n.errors.length>0)throw new Error(`CSV parsing errors: ${n.errors}`);return n.data}catch(n){throw new Error(`An error occurred during csv parsing: ${n}`)}}function It(e,t){if("object"!==typeof e||null==e)return;const n=t.replace(/\[(\w+)]/g,".$1").replace(/^\./,"").split(".");let a=e;for(const o of n){if(null==a||!(o in a))return;a=a[o]}return a}async function Ct(e,t,n,a){if(!wt(e)){const t=e.name.slice(e.name.lastIndexOf(".")+1);return void qe(a,He.INVALID_ZIP,{fileType:t})}let o;try{o=await $e().loadAsync(e)}catch(i){return void qe(a,He.ZIP_READ_FAIL,{error:i})}for(const r of t){let e;try{e=new RegExp(r.regex_path)}catch(i){n[r.id].registerError(He.INVALID_REGEX,{error:i});continue}const t=o.file(e);if(0!==t.length)for(const a of t)try{const e=await a.async("string");xt(e,r,n)}catch(i){n[r.id].registerError(He.FILE_PROCESSING_FAIL_GENERAL,{error:i})}else{const e=Object.keys(o.files),t={regexPath:r.regex_path,availableFiles:e};n[r.id].registerError(He.NO_FILE_MATCH,t)}}}function Rt(e,t,n,a){return new Promise(((o,i)=>{const r=new FileReader;r.onload=function(e){const r=e.target.result;if("string"!==typeof r)return qe(a,He.STRING_CONVERSION_ERROR,{}),i("invalid content");t.forEach((e=>{try{xt(r,e,n)}catch(t){n[e.id].registerError(He.FILE_PROCESSING_FAIL_GENERAL,{error:t})}})),o()},r.onerror=function(e){const t=e.target?.error||new Error("Unknown file reading error");qe(a,He.FILE_PROCESSING_FAIL_GENERAL,{error:t}),i(t)},r.readAsText(e)}))}function wt(e){const t=e.name.toLowerCase().endsWith(".zip"),n=["application/zip","application/x-zip-compressed","multipart/x-zip"].includes(e.type);return t&&n}function Lt(e,t){const n=(0,a.Kh)([]),o=(0,a.Kh)({});function i(){n.length=0,Object.keys(o).forEach((e=>{delete o[e]}));for(const e of t)o[e.id]=new Be(e)}function r(){i()}async function s(a){i();try{await new Promise((e=>setTimeout(e,1e3))),e?await Ct(a,t,o,n):await Rt(a,t,o,n)}catch(r){console.error("Unexpected error during file processing:",r)}}return r(),{generalErrors:n,blueprintOutcomeMap:o,handleSelectedFile:s}}function _t(e,t){const{t:n}=(0,o.s9)({locale:"en"});let i=(0,a.KR)(Date.now());async function r(e,t){i.value=Date.now();for(const a of e)await s(null,a.type,n(a.i18nDetail,a.context));for(const a of Object.values(t)){for(const t of a.processingErrors)"NO_FILE_MATCH"===t.type?await s(a.blueprintId,t.type,n(`${t.i18nDetail}-detail`,t.context)):await s(a.blueprintId,t.type,n(t.i18nDetail,t.context));const e={EXTRACTION_STATS:a.extractionStats,EXTRACTION_LOG:a.extractionRuleLog,EXTRACTED_FIELDS_MAP:a.extractedFieldsMap};for(const[t,n]of Object.entries(e))await s(a.blueprintId,t,JSON.stringify(n))}}async function s(n,a,o){const r={status_code:a,message:o,raised_by:"client",uploader:e,blueprint:n,date:new Date(i.value).toISOString()};try{const e=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});return!!e.ok||(console.error(`Error posting log: ${e.status} ${e.statusText}`),!1)}catch(s){return console.error("Could not post error message:",s),!1}}return{postLogs:r}}const St={class:"uploader-name"},Nt={class:"uploader-container"},Dt={class:"uploader-section"},Ot={class:"uploader-section"},At={class:"uploader-section"},Tt={key:0,class:"uploader-section"};var Ft=(0,a.pM)({__name:"UploaderWrapper",props:{blueprintConfigs:{},combinedConsent:{type:Boolean},componentId:{},exceptionUrl:{},expectsZip:{type:Boolean},instructionConfig:{},name:{}},emits:["statusChanged"],setup(e,{emit:t}){const{t:n,locale:i}=(0,o.s9)(),r=e,s=t;let l=(0,a.KR)(ae.IDLE);const{generalErrors:c,blueprintOutcomeMap:u,handleSelectedFile:d}=Lt(r.expectsZip,r.blueprintConfigs),{postLogs:p}=_t(r.componentId,r.exceptionUrl);async function f(e){l.value=ae.PROCESSING,await d(e),x(),k(),p(c,u).catch((e=>{console.error("Logs could not be posted to backend:",e)})),l.value=ae.DONE}const{extractionState:g,generalErrorsToDisplay:b,blueprintExtractionStates:h,getExtractionState:x}=Ve(c,u),{blueprintConsentMap:E,updateConsent:y}=Ke(r.blueprintConfigs,r.combinedConsent);function k(){s("statusChanged",r.componentId,E.value,g.value,h.value,u)}(0,a.wB)(E,(()=>{k()}),{deep:!0}),(0,a.sV)((()=>{k()}));const I=(0,a.EW)((()=>g.value===m.SUCCESS||g.value===m.PARTIAL)),C=(0,a.EW)((()=>!0===r.combinedConsent&&I.value));return(e,t)=>((0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",St,(0,a.v_)(e.name),1),(0,a.Lk)("div",Nt,[(0,a.Lk)("div",Dt,[(0,a.bF)(Xe,{instructions:e.instructionConfig,"component-id":e.componentId},null,8,["instructions","component-id"])]),(0,a.Lk)("div",Ot,[(0,a.bF)(Se,{"expects-zip":r.expectsZip,"uploader-state":(0,a.R1)(l),"extraction-state":(0,a.R1)(g),"general-errors":(0,a.R1)(b),onFileDropped:f},null,8,["expects-zip","uploader-state","extraction-state","general-errors"])]),(0,a.Lk)("div",At,[(0,a.bF)(ne,{"uploader-state":(0,a.R1)(l),"extraction-state":(0,a.R1)(g),blueprints:r.blueprintConfigs,"blueprint-extraction-states":(0,a.R1)(h),"blueprint-outcome-map":(0,a.R1)(u),"combined-consent":e.combinedConsent,onConsentUpdated:(0,a.R1)(y)},null,8,["uploader-state","extraction-state","blueprints","blueprint-extraction-states","blueprint-outcome-map","combined-consent","onConsentUpdated"])]),C.value?((0,a.uX)(),(0,a.CE)("div",Tt,[(0,a.bF)(v,{"combined-consent":e.combinedConsent,"blueprint-id":null,onConsentUpdated:(0,a.R1)(y)},null,8,["combined-consent","onConsentUpdated"])])):(0,a.Q3)("",!0)])],64))}});const Pt=(0,f.A)(Ft,[["__scopeId","data-v-2ca6fab1"]]);var Ut=Pt;const Mt={class:"issue-modal",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",tabindex:"-1"},zt={class:"modal-body d-flex flex-row align-items-center pt-5"},Xt={id:"modal-title",class:"visually-hidden"},Kt={key:0},Gt={key:1},Wt={key:2},jt={class:"modal-footer"};var Vt=(0,a.pM)({__name:"IssueModal",props:{unattendedUploaderShare:{},unattendedUploaderNames:{},blueprintsWithoutConsentCount:{},blueprintsWithoutConsentNames:{},allUploadersValid:{type:[Boolean,null]},showModal:{type:Boolean}},emits:["continueAnyway","modalClosed"],setup(e,{emit:t}){const{t:n,locale:i}=(0,o.s9)(),r=e,s=t,l=(0,a.KR)(!1),c=(0,a.EW)((()=>0===r.blueprintsWithoutConsentCount));(0,a.wB)((()=>r.showModal),(()=>{l.value=r.showModal}),{immediate:!0});const u=()=>{l.value=!1,s("modalClosed")},d=e=>{const t=e.length;if(0===t)return"";let n=" (";for(let a=0;a<t;a++)n+='"'+e[a]+'"',(a<t-2||a===t-2)&&(n+=", ");return n+=")",n};function p(e){"Escape"===e.key&&u()}return(0,a.sV)((()=>{window.addEventListener("keydown",p)})),(0,a.hi)((()=>{window.removeEventListener("keydown",p)})),(e,t)=>l.value?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.Lk)("div",{class:"modal-backdrop",onClick:u}),(0,a.Lk)("div",Mt,[(0,a.Lk)("div",zt,[(0,a.Lk)("h2",Xt,(0,a.v_)((0,a.R1)(n)("issue-modal.title")),1),t[1]||(t[1]=(0,a.Lk)("div",{class:"ps-2 pe-3 color-blue"},[(0,a.Lk)("i",{class:"bi bi-info-circle-fill fs-1"})],-1)),(0,a.Lk)("div",null,[1===e.unattendedUploaderShare?((0,a.uX)(),(0,a.CE)("div",Kt,(0,a.v_)((0,a.R1)(n)("issue-modal.none-attempted")),1)):e.unattendedUploaderShare>0?((0,a.uX)(),(0,a.CE)("div",Gt,(0,a.v_)((0,a.R1)(n)("issue-modal.not-all-attempted",{"skipped-uploads":d(r.unattendedUploaderNames)})),1)):(0,a.Q3)("",!0),e.blueprintsWithoutConsentCount>0&&e.unattendedUploaderShare<1?((0,a.uX)(),(0,a.CE)("div",Wt,(0,a.v_)((0,a.R1)(n)("issue-modal.not-all-consented",{"blueprints-wo-consent":d(r.blueprintsWithoutConsentNames)})),1)):(0,a.Q3)("",!0)])]),(0,a.Lk)("div",jt,[(0,a.Lk)("button",{type:"button",class:"btn btn-black",onClick:u},(0,a.v_)((0,a.R1)(n)("issue-modal.back")),1),c.value?((0,a.uX)(),(0,a.CE)("button",{key:0,type:"button",class:"btn btn-light",onClick:t[0]||(t[0]=e=>{u(),s("continueAnyway")})},(0,a.v_)((0,a.R1)(n)("issue-modal.continue-anyway")),1)):(0,a.Q3)("",!0)])])],64)):(0,a.Q3)("",!0)}});const Bt=(0,f.A)(Vt,[["__scopeId","data-v-242f8aa4"]]);var Zt=Bt;function $t(e){const t=(0,a.KR)([]),n=(0,a.KR)([]),o=(0,a.KR)(0),i=(0,a.KR)(null),r=(0,a.EW)((()=>{const n=Object.keys(e.value).length;if(0===n)return 0;const a=t.value.length;return a/n}));function s(){return l()&&c()?(i.value=!0,!0):(i.value=!1,!1)}const l=()=>{t.value=[];for(const n of Object.values(e.value))n.uploaderState===m.PENDING&&t.value.push(n.uploaderName);return 0===t.value.length},c=()=>{n.value=[],o.value=0;for(const t of Object.values(e.value))if(t.consentMap)for(const e of Object.keys(t.consentMap))null===t.consentMap[e]&&t.blueprintStates[e].state===m.SUCCESS&&(n.value.push(t.blueprintNames[e]),o.value+=1);else console.log(`Uploader ${t.uploaderName} is missing consentMap.`);return 0===n.value.length};return{validateUploaders:s,unattendedUploaderShare:r,unattendedUploaderNames:t,blueprintsWithoutConsentCount:o,blueprintsWithoutConsentNames:n,allUploadersValid:i}}function Ht(e,t){const n=(0,a.KR)(!1);function o(){const t={};for(const n of Object.values(e.value))if(n.extractionOutcome)for(const e of Object.values(n.extractionOutcome)){let a=[];!0===n.consentMap[e.blueprintId]&&(a=e.extractedData),t[e.blueprintId]={consent:n.consentMap[e.blueprintId],extractedData:a,status:n.blueprintStates[e.blueprintId].state}}return t}async function i(e,t){const n=new($e());return n.file(t,JSON.stringify(e)),await n.generateAsync({type:"blob",compression:"DEFLATE",compressionOptions:{level:5}})}async function r(){n.value=!0;const e=o();if(0===Object.keys(e).length)return console.warn("No data to submit"),!1;const a=await i(e,"data_donation.json"),r=document.getElementById("uploader-form");if(!r)return console.error("Form element not found"),!1;const s=new FormData(r);s.append("post_data",a);try{const e=await fetch(t,{method:"POST",body:s});return e.redirected&&(window.location.href=e.url),!0}catch(l){console.error("Error during data submission to server:",l)}finally{n.value=!1}}return{submitting:n,submitDonation:r}}const qt={class:"custom-modal",id:"processingModal",role:"dialog","aria-modal":"true","aria-labelledby":"loading-message","aria-live":"assertive"},Qt={class:"modal-dialog modal-dialog-centered custom-modal-container m-0"},Jt={class:"modal-content fs-1 text-center custom-modal-content"},Yt={id:"loading-message",class:"p-3 modal-message"};var en=(0,a.pM)({__name:"SubmittingOverlay",setup(e){const{t:t,locale:n}=(0,o.s9)();return(e,n)=>((0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",qt,[(0,a.Lk)("div",Qt,[(0,a.Lk)("div",Jt,[(0,a.Lk)("div",Yt,(0,a.v_)((0,a.R1)(t)("submitting-modal.submit-wait")),1),n[0]||(n[0]=(0,a.Lk)("div",{class:"dot-floating","aria-hidden":"true"},null,-1))])])]),n[1]||(n[1]=(0,a.Lk)("div",{class:"modal-backdrop"},null,-1))],64))}});const tn=(0,f.A)(en,[["__scopeId","data-v-2fab3ad3"]]);var nn=tn;const an={class:"ddm-uploader"},on={class:"row"},rn={class:"col"},sn={id:"uploader-form",method:"POST",enctype:"multipart/form-data"},ln=["value"];var cn=(0,a.pM)({__name:"UploaderApp",props:{uploaderConfigs:{},actionUrl:{},exceptionUrl:{},language:{},csrfToken:{}},setup(e){const{t:t,locale:n}=(0,o.s9)(),i=e,r=(0,a.KR)(E()),{validateUploaders:s,unattendedUploaderShare:l,unattendedUploaderNames:c,blueprintsWithoutConsentCount:u,blueprintsWithoutConsentNames:d,allUploadersValid:p}=$t(r),{submitting:f,submitDonation:g}=Ht(r,i.actionUrl);function v(e,t,n,a,o){const i=r.value[e];i&&Object.assign(i,{consentMap:t,uploaderState:n,blueprintStates:a,extractionOutcome:o})}let m=(0,a.KR)(!1);function b(){m.value=!1}function h(){s(),p.value?g():m.value=!0}function x(e){const t={};for(const n of e.blueprints)t[n.id]=n.name;return t}function E(){const e={};for(const t of i.uploaderConfigs)e[t.uploader_id]={uploaderName:t.name,blueprintNames:x(t),consentMap:null,uploaderState:null,blueprintStates:null,extractionOutcome:null};return e}return(e,n)=>((0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",an,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.uploaderConfigs,(e=>((0,a.uX)(),(0,a.Wv)(Ut,{"blueprint-configs":e.blueprints,"combined-consent":e.combined_consent,componentId:e.uploader_id,"exception-url":i.exceptionUrl,"expects-zip":"zip file"===e.upload_type,"instruction-config":e.instructions,name:e.name,onStatusChanged:v},null,8,["blueprint-configs","combined-consent","componentId","exception-url","expects-zip","instruction-config","name"])))),256))]),(0,a.bF)(Zt,{"unattended-uploader-share":(0,a.R1)(l),"unattended-uploader-names":(0,a.R1)(c),"blueprints-without-consent-count":(0,a.R1)(u),"blueprints-without-consent-names":(0,a.R1)(d),"all-uploaders-valid":(0,a.R1)(p),"show-modal":(0,a.R1)(m),onContinueAnyway:(0,a.R1)(g),onModalClosed:b},null,8,["unattended-uploader-share","unattended-uploader-names","blueprints-without-consent-count","blueprints-without-consent-names","all-uploaders-valid","show-modal","onContinueAnyway"]),(0,a.R1)(f)?((0,a.uX)(),(0,a.Wv)(nn,{key:0})):(0,a.Q3)("",!0),(0,a.Lk)("div",on,[(0,a.Lk)("div",rn,[(0,a.Lk)("button",{class:"flow-btn",type:"button",onClick:h},(0,a.v_)((0,a.R1)(t)("uploader-app.next-btn"))+"  ›",1)])]),(0,a.bo)((0,a.Lk)("form",sn,[(0,a.Lk)("input",{type:"hidden",name:"csrfmiddlewaretoken",value:e.csrfToken},null,8,ln)],512),[[a.aG,!1]])],64))}});const un=cn;var dn=un,pn=JSON.parse('{"instructions":{"heading":"How it works"},"errors":{"invalid-zip":"A ZIP-file was expected but a {fileType}-file was uploaded.","zip-read-fail":"Failed to read ZIP archive","invalid-regex":"Invalid regex","invalid-rule-regex":"The field name \'{ruleRegex}\' of extraction rule {ruleId} could not be parsed as regex.","no-file-match":"The selected ZIP-container did not contain the correct file. Files in container: {availableFiles}","no-file-match-detail":"We tried to identify the file using the following pattern: \'{regexPath}\'. \\nAvailable files in the container: {availableFiles}","file-processing-fail-general":"An error occurred during processing the file content.","file-processing-fail-general-detail":"The following error occurred: {error}","string-conversion-error":"File content cannot be converted to string","no-extraction-rules":"No extraction rules defined.","parsing-error":"Failed to parse {contentType} content for this file.","unsupported-bp-format":"Unsupported content format: {format}","more-than-one-key-match":"More than one key match for field \'{field}\': {keys}. Defaulted to {defaultKey}","no-key-match":"No key match for field \'{field}\': {keys}","undefined-key":"Undefined key for field \'{field}\'"},"file-drop":{"heading":"Select file","selection-prompt":"Click to select a file from your device","release-to-select":"Drop the file to continue","file-is-being-processed":"Processing your file...","processing-complete":"Processing complete","processing-success":"File successfully processed","processing-failed":"The file could not be successfully processed","choose-different-file":"select a different file","retry-hint":"The file may not contain the right information. See below for more details or try again by selecting a different file:"},"extraction-state":{"file":{"success":"Below you can see which data were extracted.","no-data-extracted":"No information could be extracted from the file."},"blueprint":{"success":"Your data has been successfully extracted","no-data-extracted":"No relevant data found in the file.","all-missing-fields":"Required information was missing from all entries in the file.","all-filtered-out":"All entries in the file were excluded based on the filtering criteria.","failed":"Data could not be extracted due to the following issue(s):"}},"feedback":{"intro-extraction-pending":"Data to be extracted","intro-extraction-complete":"Extracted data","show-error-details":"Show details","donation-question":"Do you agree to donate and submit the data listed above?","donation-agree":"Yes","donation-disagree":"No"},"extraction-table":{"previous-page":"previous page","next-page":"next page","page-info":"Page {currentPage} of {maxPage}","entry-info":"Displaying entries {lower}-{upper} of {total}.","donation-info":"If you consent to the donation, the following data will be submitted:","search-entries":"Search entries...","all-filtered":"No entries found","show-data":"Show all data","hide-data":"Show less"},"uploader-app":{"next-btn":"Next"},"issue-modal":{"title":"Data donation not complete","none-attempted":"You have not uploaded any files. Continue without a donation?","not-all-attempted":"Some uploads were skipped{skipped-uploads}. Continue with the files processed so far?","not-all-consented":"For some data, it was not indicated whether these may be transmitted{ blueprints-wo-consent }. Please go back to review.","continue-anyway":"Yes, continue anyway","back":"Go back"},"submitting-modal":{"submit-wait":"Processing your data donation..."}}'),fn=JSON.parse('{"instructions":{"heading":"So funktioniert es"},"errors":{"invalid-zip":"Eine ZIP-Datei wurde erwartet, aber eine {fileType}-Datei wurde hochgeladen.","zip-read-fail":"ZIP-Archiv konnte nicht gelesen werden","invalid-regex":"Ungültiger regulärer Ausdruck (regex)","invalid-rule-regex":"Der Feldname \'{ruleRegex}\' der Extraction Rule {ruleId} konnte nicht korrekt in eine RegEx umgewandelt werden.","no-file-match":"Diese Datei konnte im ausgewählten ZIP-Container nicht gefunden werden.","no-file-match-detail":"Keine Datei konnte mit dem folgenden Muster identifiziert werden: \'{regexPath}\'. \\nVerfügbare Dateien im ZIP-Container: {availableFiles}","file-processing-fail-general":"Beim Verarbeiten des Datei-Inhalts ist ein Fehler aufgetreten","file-processing-fail-general-detail":"Der folgende Fehler trat auf: {error}","string-conversion-error":"Dateiinhalt kann nicht in einen Text (String) umgewandelt werden","no-extraction-rules":"Es wurden keine Extraktionsregeln definiert","parsing-error":"Es trat ein Fehler beim Parsen von {contentType}-Inhalt für diese Datei auf","unsupported-bp-format":"Nicht unterstütztes Dateiformat: {format}","more-than-one-key-match":"Mehr als eine Übereinstimmung für Feld \'{field}\': {keys}. Es wurde standardmäßig \'{defaultKey}\' verwendet","no-key-match":"Keine Übereinstimmung für Feld \'{field}\': {keys}","undefined-key":"Undefinierter Name für Feld \'{field}\'"},"file-drop":{"heading":"Datei auswählen","selection-prompt":"Hier klicken um eine Datei auszuwählen","release-to-select":"Loslassen, um Datei auszuwählen","file-is-being-processed":"Datei wird verarbeitet…","processing-complete":"Verarbeitung abgeschlossen","processing-success":"Datei erfolgreich verarbeitet","processing-failed":"Datei konnte nicht verarbeitet werden","choose-different-file":"eine andere Datei auswählen","retry-hint":"Die ausgewählte Datei enthält möglicherweise nicht die benötigten Informationen (siehe unten für weitere Details). Eine andere Datei auswählen, um es erneut zu versuchen:"},"extraction-state":{"file":{"success":"Unten werden die ausgelesenen Daten angezeigt.","no-data-extracted":"Es konnten keine Informationen aus der Datei ausgelesen werden."},"blueprint":{"success":"Daten erfolgreich ausgelesen.","no-data-extracted":"Keine relevanten Daten in der Datei gefunden.","all-missing-fields":"Alle Einträge in der Datei sind unvollständig und können nicht ausgelesen werden.","all-filtered-out":"Alle Einträge wurden aufgrund der gewählten Filter-Kriterien ausgeschlossen.","failed":"Es konnten keine Daten ausgelesen werden, aufgrund von folgenden Fehlern:"}},"feedback":{"intro-extraction-pending":"Die folgenden Daten werden ausgelesen","intro-extraction-complete":"Ausgelesene Daten","show-error-details":"Details anzeigen","donation-question":"Sind Sie damit einverstanden, diese Daten zu spenden und zu übermitteln?","donation-agree":"Ja","donation-disagree":"Nein"},"extraction-table":{"previous-page":"vorherige Seite","next-page":"nächste Seite","page-info":"Seite {currentPage} von {maxPage}","entry-info":"Einträge {lower} bis {upper} von insgesamt {total} werden angezeigt.","donation-info":"Wenn Sie der Datenspende zustimmen, werden die folgenden Daten übermittelt:","search-entries":"Einträge durchsuchen...","all-filtered":"Keine Einträge gefunden","show-data":"alle Daten anzeigen","hide-data":"weniger anzeigen"},"uploader-app":{"next-btn":"Weiter"},"issue-modal":{"title":"Datenspende wurde nicht abgeschlossen","none-attempted":"Es wurden keine Dateien hochgeladen. Ohne Datenspende fortfahren?","not-all-attempted":"Einige Uploads wurden übersprungen {skipped-uploads}. Mit den bisher verarbeiteten Dateien fortfahren?","not-all-consented":"Für einige Daten wurde nicht angegeben, ob diese übermittelt werden dürfen {blueprints-wo-consent}. Bitte überprüfen.","continue-anyway":"Trotzdem fortfahren","back":"Zurück"},"submitting-modal":{"submit-wait":"Die Datenspende wird verarbeitet..."}}'),gn=JSON.parse('{"instructions":{"heading":"Come funziona"},"errors":{"invalid-zip":"Era atteso un file ZIP, ma è stato caricato un file {fileType}.","zip-read-fail":"Impossibile leggere l\'archivio ZIP","invalid-regex":"Espressione regolare (regex) non valida","invalid-rule-regex":"Il nome del campo \'{ruleRegex}\' della regola di estrazione {ruleId} non ha potuto essere convertito correttamente in regex.","no-file-match":"Questo file non è stato trovato nel contenitore ZIP selezionato.","no-file-match-detail":"Nessun file è stato identificato con il seguente modello: \'{regexPath}\'. \\nFile disponibili nel contenitore ZIP: {availableFiles}","file-processing-fail-general":"Si è verificato un errore durante l\'elaborazione del contenuto del file","file-processing-fail-general-detail":"Si è verificato il seguente errore: {error}","string-conversion-error":"Il contenuto del file non può essere convertito in testo (string)","no-extraction-rules":"Non sono state definite regole di estrazione","parsing-error":"Si è verificato un errore durante l\'analisi del contenuto {contentType} per questo file","unsupported-bp-format":"Formato file non supportato: {format}","more-than-one-key-match":"Più di una corrispondenza per il campo \'{field}\': {keys}. È stato utilizzato \'{defaultKey}\' per impostazione predefinita","no-key-match":"Nessuna corrispondenza per il campo \'{field}\': {keys}","undefined-key":"Nome non definito per il campo \'{field}\'"},"file-drop":{"heading":"Seleziona file","selection-prompt":"Clicca qui per selezionare un file","release-to-select":"Rilascia per selezionare il file","file-is-being-processed":"Elaborazione del file in corso…","processing-complete":"Elaborazione completata","processing-success":"File elaborato con successo","processing-failed":"Il file non ha potuto essere elaborato","choose-different-file":"seleziona un file diverso","retry-hint":"Il file selezionato potrebbe non contenere le informazioni necessarie (vedi sotto per ulteriori dettagli). Seleziona un file diverso per riprovare:"},"extraction-state":{"file":{"success":"Di seguito vengono visualizzati i dati estratti.","no-data-extracted":"Non è stato possibile estrarre informazioni dal file."},"blueprint":{"success":"Dati estratti con successo.","no-data-extracted":"Nessun dato rilevante trovato nel file.","all-missing-fields":"Tutte le voci nel file sono incomplete e non possono essere estratte.","all-filtered-out":"Tutte le voci sono state escluse in base ai criteri di filtro selezionati.","failed":"Non è stato possibile estrarre i dati a causa dei seguenti errori:"}},"feedback":{"intro-extraction-pending":"I seguenti dati verranno estratti","intro-extraction-complete":"Dati estratti","show-error-details":"Mostra dettagli","donation-question":"Acconsente a donare e trasmettere questi dati?","donation-agree":"Sì","donation-disagree":"No"},"extraction-table":{"previous-page":"pagina precedente","next-page":"pagina successiva","page-info":"Pagina {currentPage} di {maxPage}","entry-info":"Visualizzazione delle voci da {lower} a {upper} su un totale di {total}.","donation-info":"Se acconsente alla donazione dei dati, verranno trasmessi i seguenti dati:","search-entries":"Cerca voci...","all-filtered":"Nessuna voce trovata","show-data":"mostra tutti i dati","hide-data":"mostra meno"},"uploader-app":{"next-btn":"Continua"},"issue-modal":{"title":"Donazione dei dati non completata","none-attempted":"Non è stato caricato alcun file. Continuare senza donazione dei dati?","not-all-attempted":"Alcuni caricamenti sono stati saltati {skipped-uploads}. Continuare con i file elaborati finora?","not-all-consented":"Per alcuni dati non è stato indicato se possono essere trasmessi {blueprints-wo-consent}. La preghiamo di verificare.","continue-anyway":"Continua comunque","back":"Indietro"},"submitting-modal":{"submit-wait":"Elaborazione della donazione dei dati in corso..."}}'),vn=JSON.parse('{"instructions":{"heading":"Comment ça fonctionne"},"errors":{"invalid-zip":"Un fichier ZIP était attendu, mais un fichier {fileType} a été téléchargé.","zip-read-fail":"Impossible de lire l\'archive ZIP","invalid-regex":"Expression régulière (regex) non valide","invalid-rule-regex":"Le nom de champ \'{ruleRegex}\' de la règle d\'extraction {ruleId} n\'a pas pu être correctement converti en regex.","no-file-match":"Ce fichier n\'a pas pu être trouvé dans le conteneur ZIP sélectionné.","no-file-match-detail":"Aucun fichier n\'a pu être identifié avec le modèle suivant : \'{regexPath}\'. \\nFichiers disponibles dans le conteneur ZIP : {availableFiles}","file-processing-fail-general":"Une erreur s\'est produite lors du traitement du contenu du fichier","file-processing-fail-general-detail":"L\'erreur suivante s\'est produite : {error}","string-conversion-error":"Le contenu du fichier ne peut pas être converti en texte (string)","no-extraction-rules":"Aucune règle d\'extraction n\'a été définie","parsing-error":"Une erreur s\'est produite lors de l\'analyse du contenu {contentType} pour ce fichier","unsupported-bp-format":"Format de fichier non pris en charge : {format}","more-than-one-key-match":"Plus d\'une correspondance pour le champ \'{field}\' : {keys}. \'{defaultKey}\' a été utilisé par défaut","no-key-match":"Aucune correspondance pour le champ \'{field}\' : {keys}","undefined-key":"Nom non défini pour le champ \'{field}\'"},"file-drop":{"heading":"Sélectionner un fichier","selection-prompt":"Cliquez ici pour sélectionner un fichier","release-to-select":"Relâchez pour sélectionner le fichier","file-is-being-processed":"Traitement du fichier en cours…","processing-complete":"Traitement terminé","processing-success":"Fichier traité avec succès","processing-failed":"Le fichier n\'a pas pu être traité","choose-different-file":"sélectionner un autre fichier","retry-hint":"Le fichier sélectionné ne contient peut-être pas les informations nécessaires (voir ci-dessous pour plus de détails). Sélectionnez un autre fichier pour réessayer :"},"extraction-state":{"file":{"success":"Les données extraites sont affichées ci-dessous.","no-data-extracted":"Aucune information n\'a pu être extraite du fichier."},"blueprint":{"success":"Données extraites avec succès.","no-data-extracted":"Aucune donnée pertinente trouvée dans le fichier.","all-missing-fields":"Toutes les entrées du fichier sont incomplètes et ne peuvent pas être extraites.","all-filtered-out":"Toutes les entrées ont été exclues en raison des critères de filtrage sélectionnés.","failed":"Les données n\'ont pas pu être extraites en raison des erreurs suivantes :"}},"feedback":{"intro-extraction-pending":"Les données suivantes seront extraites","intro-extraction-complete":"Données extraites","show-error-details":"Afficher les détails","donation-question":"Acceptez-vous de faire don de ces données et de les transmettre ?","donation-agree":"Oui","donation-disagree":"Non"},"extraction-table":{"previous-page":"page précédente","next-page":"page suivante","page-info":"Page {currentPage} sur {maxPage}","entry-info":"Affichage des entrées {lower} à {upper} sur un total de {total}.","donation-info":"Si vous consentez au don de données, les données suivantes seront transmises :","search-entries":"Rechercher des entrées...","all-filtered":"Aucune entrée trouvée","show-data":"afficher toutes les données","hide-data":"afficher moins"},"uploader-app":{"next-btn":"Continuer"},"issue-modal":{"title":"Don de données non terminé","none-attempted":"Aucun fichier n\'a été téléchargé. Continuer sans don de données ?","not-all-attempted":"Certains téléchargements ont été ignorés {skipped-uploads}. Continuer avec les fichiers traités jusqu\'à présent ?","not-all-consented":"Pour certaines données, il n\'a pas été indiqué si elles peuvent être transmises {blueprints-wo-consent}. Veuillez vérifier.","continue-anyway":"Continuer quand même","back":"Retour"},"submitting-modal":{"submit-wait":"Traitement du don de données en cours..."}}');function mn(e,t){const n={...e};for(const a in t)t[a]&&"object"===typeof t[a]&&!Array.isArray(t[a])?n[a]=mn(n[a]||{},t[a]):n[a]=t[a];return n}function bn(){const e={selector:"#uapp",defaultLocale:"en",fallbackLocale:"en"},t=document.querySelector(e.selector);if(!t)throw console.error(`Mount element not found using selector: "${e.selector}"`),new Error(`Failed to initialize uploader: Mount element "${e.selector}" not found`);const n=["actionUrl","csrfToken","uploaderConfigsAsString","exceptionUrl"];for(const a of n){const e=a.charAt(0).toLowerCase()+a.slice(1);if(!t.dataset[e])throw new Error(`Required attribute data-${a.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))} is missing`)}const i=t.dataset.uploaderConfigsAsString;let r=[];try{r=JSON.parse(i??"[]")}catch(p){console.error("Failed to parse uploadConfig:",p)}const s=(0,a.Ef)(dn,{actionUrl:t.dataset.actionUrl,exceptionUrl:t.dataset.exceptionUrl,language:t.dataset.language,uploaderConfigs:r,csrfToken:t.dataset.csrfToken});let l={en:pn,de:fn,it:gn,fr:vn};if(t.dataset.customTranslations){const e=JSON.parse(t.dataset.customTranslations||"{}");null!=e&&""!=e&&(l={en:mn(pn,e.en||{}),de:mn(fn,e.de||{}),it:mn(gn,e.it||{}),fr:mn(vn,e.fr||{})})}const c=(0,o.hU)({legacy:!1,locale:e.defaultLocale,fallbackLocale:e.fallbackLocale,messages:l}),u=t.dataset.language||e.defaultLocale,d=c.global.availableLocales;d.includes(u)?c.global.locale.value=u:c.global.locale.value=e.fallbackLocale,s.use(c),s.mount(e.selector)}bn()}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var i=t[a]={exports:{}};return e[a].call(i.exports,i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(t,a,o,i){if(!a){var r=1/0;for(u=0;u<e.length;u++){a=e[u][0],o=e[u][1],i=e[u][2];for(var s=!0,l=0;l<a.length;l++)(!1&i||r>=i)&&Object.keys(n.O).every((function(e){return n.O[e](a[l])}))?a.splice(l--,1):(s=!1,i<r&&(r=i));if(s){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[a,o,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={256:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,i,r=a[0],s=a[1],l=a[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(l)var u=l(n)}for(t&&t(a);c<r.length;c++)i=r[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(u)},a=self["webpackChunkddm_uploader_frontend"]=self["webpackChunkddm_uploader_frontend"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[504],(function(){return n(130)}));a=n.O(a)})();
//# sourceMappingURL=ddm_uploader_frontend.js.map