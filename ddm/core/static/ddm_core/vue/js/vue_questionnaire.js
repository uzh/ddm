(function(){"use strict";var e={214:function(e,t,n){var i=n(3864);const s=["data-page-index"],o={key:0,class:"question-container"},a=["id"],l={key:1,class:"question-container"},r=["id"],d={key:2,class:"question-container"},u=["id"],c={key:3,class:"question-container"},p=["id"],h={key:4,class:"question-container"},m=["id"],g={key:5,class:"question-container"},v=["id"],q={class:"row flow-navigation"},f={class:"col"};function b(e,t,n,b,C,y){const L=(0,i.g2)("SingleChoiceQuestion"),x=(0,i.g2)("MultiChoiceQuestion"),k=(0,i.g2)("OpenQuestion"),E=(0,i.g2)("MatrixQuestion"),w=(0,i.g2)("SemanticDifferential"),_=(0,i.g2)("TransitionQuestion");return(0,i.uX)(),(0,i.CE)(i.FK,null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(C.parsedQuestConfig,(t=>(0,i.bo)(((0,i.uX)(),(0,i.CE)("div",{key:t.question,"data-page-index":t.page,class:"question-app-container"},["single_choice"===t.type?((0,i.uX)(),(0,i.CE)("div",o,[(0,i.bF)(L,{qid:t.question,text:t.text,items:t.items,onResponseChanged:y.updateResponses,class:"question-body"},null,8,["qid","text","items","onResponseChanged"]),(0,i.Lk)("div",{id:"required-hint-"+t.question,class:"required-hint hidden"},(0,i.v_)(e.$t("required-but-missing-hint")),9,a)])):(0,i.Q3)("",!0),"multi_choice"===t.type?((0,i.uX)(),(0,i.CE)("div",l,[(0,i.bF)(x,{qid:t.question,text:t.text,items:t.items,required:t.required,onResponseChanged:y.updateResponses,class:"question-body"},null,8,["qid","text","items","required","onResponseChanged"]),(0,i.Lk)("div",{id:"required-hint-"+t.question,class:"required-hint hidden"},(0,i.v_)(e.$t("required-but-missing-hint")),9,r)])):(0,i.Q3)("",!0),"open"===t.type?((0,i.uX)(),(0,i.CE)("div",d,[(0,i.bF)(k,{qid:t.question,text:t.text,options:t.options,items:t.items,onResponseChanged:y.updateResponses,class:"question-body"},null,8,["qid","text","options","items","onResponseChanged"]),(0,i.Lk)("div",{id:"required-hint-"+t.question,class:"required-hint hidden"},(0,i.v_)(e.$t("required-but-missing-hint")),9,u)])):(0,i.Q3)("",!0),"matrix"===t.type?((0,i.uX)(),(0,i.CE)("div",c,[(0,i.bF)(E,{qid:t.question,text:t.text,items:t.items,scale:t.scale,options:t.options,onResponseChanged:y.updateResponses,class:"question-body"},null,8,["qid","text","items","scale","options","onResponseChanged"]),(0,i.Lk)("div",{id:"required-hint-"+t.question,class:"required-hint hidden"},(0,i.v_)(e.$t("required-but-missing-hint")),9,p)])):(0,i.Q3)("",!0),"semantic_diff"===t.type?((0,i.uX)(),(0,i.CE)("div",h,[(0,i.bF)(w,{qid:t.question,text:t.text,items:t.items,scale:t.scale,onResponseChanged:y.updateResponses,class:"question-body"},null,8,["qid","text","items","scale","onResponseChanged"]),(0,i.Lk)("div",{id:"required-hint-"+t.question,class:"required-hint hidden"},(0,i.v_)(e.$t("required-but-missing-hint")),9,m)])):(0,i.Q3)("",!0),"transition"===t.type?((0,i.uX)(),(0,i.CE)("div",g,[(0,i.bF)(_,{qid:t.question,text:t.text,onResponseChanged:y.updateResponses,class:"question-body"},null,8,["qid","text","onResponseChanged"]),(0,i.Lk)("div",{id:"required-hint-"+t.question,class:"required-hint hidden"},(0,i.v_)(e.$t("required-but-missing-hint")),9,v)])):(0,i.Q3)("",!0)],8,s)),[[i.aG,C.currentPage===t.page]]))),128)),(0,i.Lk)("div",q,[(0,i.Lk)("div",f,[(0,i.Lk)("button",{class:"flow-btn",type:"button",onClick:t[0]||(t[0]=e=>(y.next(),y.scrollToTop()))},(0,i.v_)(e.$t("next-btn-label"))+"  ›",1)])])],64)}n(4114),n(7642),n(8004),n(3853),n(5876),n(2475),n(5024),n(1698),n(8992),n(3949);const C=["innerHTML"],y=["id"],L=["id","dataid","name","value"],x=["for"],k=["innerHTML"];function E(e,t,n,s,o,a){return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.Lk)("div",{class:"question-text",innerHTML:n.text},null,8,C),(0,i.Lk)("div",{id:"answer-"+n.qid,class:"response-body question-response-body item-container"},[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.items,((e,s)=>((0,i.uX)(),(0,i.CE)("div",{key:s,class:"question-item"},[(0,i.Lk)("input",{class:"form-check-input",type:"radio",id:"q-"+this.qid+"-"+e.id,dataid:n.qid,name:"q-"+n.qid,value:e.value,onChange:t[0]||(t[0]=e=>a.responseChanged(e))},null,40,L),(0,i.Lk)("label",{for:"q-"+this.qid+"-"+e.id,class:"item-label"},[(0,i.Lk)("span",{innerHTML:e.label},null,8,k)],8,x)])))),128))],8,y)])}var w={name:"SingleChoiceQuestion",props:["qid","text","items"],emits:["responseChanged"],data:function(){return{response:""}},created(){this.response=-99,this.$emit("responseChanged",{id:this.qid,response:this.response,question:this.text,items:this.items})},methods:{responseChanged(e){this.response=e.target.value,this.$emit("responseChanged",{id:this.qid,response:this.response,question:this.text,items:this.items})}}},_=n(6262);const M=(0,_.A)(w,[["render",E],["__scopeId","data-v-0be29ee0"]]);var T=M;const S=e=>((0,i.Qi)("data-v-11467aa6"),e=e(),(0,i.jt)(),e),X=["innerHTML"],H={class:"response-body question-response-body item-container"},Q=["id","name","value"],R=["for"],F=S((()=>(0,i.Lk)("span",{class:"span-check-icon"},"✓",-1))),$=["innerHTML"];function O(e,t,n,s,o,a){return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.Lk)("div",{class:"question-text",innerHTML:n.text},null,8,X),(0,i.Lk)("div",H,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.items,((e,n)=>((0,i.uX)(),(0,i.CE)("div",{key:n,class:"question-item"},[(0,i.Lk)("input",{class:"item-check",type:"checkbox",id:"q-"+this.qid+"-"+e.id,name:e.id,value:e.value,onChange:t[0]||(t[0]=e=>a.responseChanged(e))},null,40,Q),(0,i.Lk)("label",{for:"q-"+this.qid+"-"+e.id,class:"item-label"},[F,(0,i.Lk)("span",{innerHTML:e.label},null,8,$)],8,R)])))),128))])])}var A={name:"MultiChoiceQuestion",props:["qid","text","items"],emits:["responseChanged"],data:function(){return{response:{}}},created(){this.items.forEach((e=>{this.response[e.id]=!1})),this.$emit("responseChanged",{id:this.qid,response:this.response,question:this.text,items:this.items})},methods:{responseChanged(e){this.response[e.target.name]=e.target.checked,this.$emit("responseChanged",{id:this.qid,response:this.response,question:this.text,items:this.items})}}};const P=(0,_.A)(A,[["render",O],["__scopeId","data-v-11467aa6"]]);var z=P;const K=["innerHTML"],I=["id"],B=["name","maxlength"],j=["name","maxlength"],D=["name","maxlength"],V={class:"input-hint"},N=["name","maxlength"],W={class:"input-hint hint-invalid-input pb-0 mb-0"},Y={class:"input-hint"},Z=["id"],U=["id"],J=["innerHTML"],G=["name","maxlength"],ee=["name","maxlength"],te=["name","maxlength"],ne={class:"input-hint"},ie=["name","maxlength"],se={class:"input-hint hint-invalid-input pb-0 mb-0"},oe={class:"input-hint"};function ae(e,t,n,s,o,a){const l=(0,i.gN)("only-digits"),r=(0,i.gN)("valid-email");return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.Lk)("div",{class:"question-text",innerHTML:n.text},null,8,K),this.options.multi_item_response?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",{key:0,id:"answer-"+n.qid,class:"response-body"},["text"===n.options.input_type?((0,i.uX)(),(0,i.CE)(i.FK,{key:0},["small"===n.options.display?((0,i.uX)(),(0,i.CE)("input",{key:0,class:"oq-input",type:"text",name:n.qid,maxlength:a.getMaxLength,onChange:t[0]||(t[0]=e=>a.responseChanged(e))},null,40,B)):(0,i.Q3)("",!0),"large"===n.options.display?((0,i.uX)(),(0,i.CE)("textarea",{key:1,class:"open-question-textarea",type:"text",name:n.qid,maxlength:a.getMaxLength,onChange:t[1]||(t[1]=e=>a.responseChanged(e))},null,40,j)):(0,i.Q3)("",!0)],64)):"numbers"===n.options.input_type?((0,i.uX)(),(0,i.CE)(i.FK,{key:1},[(0,i.bo)((0,i.Lk)("input",{type:"text",class:"oq-input",name:n.qid,maxlength:a.getMaxLength,onChange:t[2]||(t[2]=e=>a.responseChanged(e))},null,40,D),[[l]]),(0,i.Lk)("p",V,(0,i.v_)(e.$t("hint-number-input")),1)],64)):"email"===n.options.input_type?((0,i.uX)(),(0,i.CE)(i.FK,{key:2},[(0,i.bo)((0,i.Lk)("input",{type:"email",class:"oq-input",name:n.qid,maxlength:a.getMaxLength,onChange:t[3]||(t[3]=e=>a.responseChanged(e))},null,40,N),[[r]]),(0,i.Lk)("p",W,(0,i.v_)(e.$t("hint-invalid-email")),1),(0,i.Lk)("p",Y,(0,i.v_)(e.$t("hint-email-input")),1)],64)):(0,i.Q3)("",!0)],8,I)),this.options.multi_item_response?((0,i.uX)(),(0,i.CE)("div",{key:1,id:"answer-"+n.qid,class:"response-body"},[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.items,((s,o)=>((0,i.uX)(),(0,i.CE)("div",{id:"answer-item-"+s.id,class:"input-row"},[(0,i.Lk)("div",{innerHTML:s.label},null,8,J),(0,i.Lk)("div",null,["text"===n.options.input_type?((0,i.uX)(),(0,i.CE)(i.FK,{key:0},["small"===n.options.display?((0,i.uX)(),(0,i.CE)("input",{key:0,class:"oq-input",type:"text",name:s.id,maxlength:a.getMaxLength,onChange:t[4]||(t[4]=e=>a.responseChanged(e))},null,40,G)):(0,i.Q3)("",!0),"large"===n.options.display?((0,i.uX)(),(0,i.CE)("textarea",{key:1,class:"open-question-textarea",type:"text",name:s.id,maxlength:a.getMaxLength,onChange:t[5]||(t[5]=e=>a.responseChanged(e))},null,40,ee)):(0,i.Q3)("",!0)],64)):"numbers"===n.options.input_type?((0,i.uX)(),(0,i.CE)(i.FK,{key:1},[(0,i.bo)((0,i.Lk)("input",{type:"text",class:"oq-input",name:s.id,maxlength:a.getMaxLength,onChange:t[6]||(t[6]=e=>a.responseChanged(e))},null,40,te),[[l]]),(0,i.Lk)("p",ne,(0,i.v_)(e.$t("hint-number-input")),1)],64)):"email"===n.options.input_type?((0,i.uX)(),(0,i.CE)(i.FK,{key:2},[(0,i.bo)((0,i.Lk)("input",{type:"email",class:"oq-input",name:s.id,maxlength:a.getMaxLength,onChange:t[7]||(t[7]=e=>a.responseChanged(e))},null,40,ie),[[r]]),(0,i.Lk)("p",se,(0,i.v_)(e.$t("hint-invalid-email")),1),(0,i.Lk)("p",oe,(0,i.v_)(e.$t("hint-email-input")),1)],64)):(0,i.Q3)("",!0)])],8,U)))),256))],8,Z)):(0,i.Q3)("",!0)])}var le={name:"OpenQuestion",props:["qid","text","options","items"],emits:["responseChanged"],data:function(){return{response:this.options.max_input_length?{}:"-99"}},computed:{getMaxLength(){return null!==this.options.max_input_length?this.options.max_input_length:void 0}},created(){this.options.multi_item_response&&this.items.forEach((e=>{this.response[e.id]="-99"})),this.$emit("responseChanged",{id:this.qid,response:this.response,question:this.text,items:null})},methods:{getValue(e){return""===e.target.value||null===e.target.value?"-99":e.target.value},responseChanged(e){this.options.multi_item_response?this.response[e.target.name]=this.getValue(e):this.response=this.getValue(e),this.$emit("responseChanged",{id:this.qid,response:this.response,question:this.text,items:null})}},directives:{onlyDigits:{mounted(e){e.addEventListener("input",(function(){e.value=e.value.replace(/\D/g,"")}))}},validEmail:{mounted(e){e.addEventListener("blur",(function(){const t=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,n=e.nextElementSibling;t.test(e.value)?(e.classList.remove("invalid-email"),n&&n.classList.contains("hint-invalid-input")&&(n.style.display="none")):(e.classList.add("invalid-email"),n&&n.classList.contains("hint-invalid-input")&&(n.style.display="block"))})),e.addEventListener("focus",(function(){const t=e.nextElementSibling;t&&t.classList.contains("hint-invalid-input")&&(t.style.display="none")}))}}}};const re=(0,_.A)(le,[["render",ae],["__scopeId","data-v-7f139e6f"]]);var de=re;const ue=["innerHTML"],ce={class:"response-body ps-0 pe-0"},pe=["id"],he=["innerHTML"],me={class:"mq-item-container"},ge={key:0,class:"heading-container"},ve=["innerHTML"],qe={class:"scale-container scale-heading-container"},fe={class:"scale-label scale-label-mockup"},be=["innerHTML"],Ce=["innerHTML"],ye={class:"scale-container scale-input-container"},Le=["id","name","value"],xe=["for"],ke=["innerHTML"];function Ee(e,t,n,s,o,a){return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.Lk)("div",{class:"question-text",innerHTML:n.text},null,8,ue),(0,i.Lk)("div",ce,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.items,((e,s)=>((0,i.uX)(),(0,i.CE)("div",{key:s,class:"response-row",id:"answer-item-"+e.id},[(0,i.Lk)("div",{class:(0,i.C4)(["item-separate-line",{show:n.scale.length>7}]),innerHTML:e.label},null,10,he),(0,i.Lk)("div",me,[n.options.show_scale_headings?((0,i.uX)(),(0,i.CE)("div",ge,[(0,i.Lk)("div",{class:(0,i.C4)(["item-label-container item-label-placeholder",{hidden:n.scale.length>7}]),innerHTML:e.label},null,10,ve),(0,i.Lk)("div",qe,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.scale,((e,t)=>((0,i.uX)(),(0,i.CE)("div",{key:t,class:(0,i.C4)(["scale-label-container",{"main-scale":!e.secondary_point,"secondary-scale":e.secondary_point}])},[(0,i.Lk)("div",fe,[(0,i.Lk)("span",{class:"scale-label-span",innerHTML:e.heading_label},null,8,be)])],2)))),128))])])):(0,i.Q3)("",!0),(0,i.Lk)("div",{class:(0,i.C4)(["response-container",{"border-bottom-light":n.scale.length<7}])},[(0,i.Lk)("div",{class:(0,i.C4)(["item-label-container",{hidden:n.scale.length>7}]),innerHTML:e.label},null,10,Ce),(0,i.Lk)("div",ye,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.scale,((n,s)=>((0,i.uX)(),(0,i.CE)("div",{key:s,class:(0,i.C4)(["scale-label-container",{"main-scale":!n.secondary_point,"secondary-scale":n.secondary_point}])},[(0,i.Lk)("input",{type:"radio",id:this.qid+"-"+e.id+"-"+n.value,name:e.id,value:n.value,onChange:t[0]||(t[0]=e=>a.responseChanged(e)),onClick:t[1]||(t[1]=e=>a.scrollToNext(e))},null,40,Le),(0,i.Lk)("label",{for:this.qid+"-"+e.id+"-"+n.value,class:(0,i.C4)(["scale-label",{"main-label":!n.secondary_point}])},[(0,i.Lk)("span",{class:"scale-label-span",innerHTML:n.input_label},null,8,ke)],10,xe)],2)))),128))])],2)])],8,pe)))),128))])])}var we={name:"MatrixQuestion",props:["qid","text","items","scale","options"],emits:["responseChanged"],data:function(){return{response:{},shouldScroll:window.innerWidth<=768}},created(){this.items.forEach((e=>{this.response[e.id]=-99})),this.$emit("responseChanged",{id:this.qid,response:this.response,question:this.text,items:this.items})},mounted(){window.addEventListener("resize",this.updateScrollSetting),window.addEventListener("scroll",this.updateMostVisibleRow),window.addEventListener("load",this.updateMostVisibleRow),window.addEventListener("resize",this.updateMostVisibleRow),this.addClasses()},beforeDestroy(){window.removeEventListener("resize",this.updateScrollSetting),window.removeEventListener("scroll",this.updateMostVisibleRow),window.removeEventListener("load",this.updateMostVisibleRow),window.removeEventListener("resize",this.updateMostVisibleRow)},methods:{updateScrollSetting(){this.shouldScroll=window.innerWidth<=768},updateMostVisibleRow(){let e=Array.from(document.querySelectorAll(".response-row")),t=null,n=1/0;this.shouldScroll?(e.forEach((e=>{let i=e.getBoundingClientRect(),s=this.getHeightOfLastQuestionTextBefore(e),o=Math.abs(i.top);i.bottom>0&&i.top<window.innerHeight&&i.top>=.25*s&&o<n&&(n=o,t=e)})),e.forEach((e=>e.style.opacity="0.3")),t&&(t.style.opacity="1")):e.forEach((e=>e.style.opacity="1"))},getHeightOfLastQuestionTextBefore(e){let t=e.closest(".question-body");if(!t)return null;const n=t.querySelector(".question-text");return n?n.offsetHeight:0},responseChanged(e){this.response[e.target.name]=e.target.value,this.$emit("responseChanged",{id:this.qid,response:this.response,question:this.text,items:this.items})},scrollToNext(e){const t=e.target.closest("div.response-row");if(t){const e=t.nextElementSibling;if(e){const n=this.getHeightOfLastQuestionTextBefore(t),i=e.getBoundingClientRect().top+window.scrollY,s=i-n;window.scrollTo({top:s,behavior:"smooth"})}else if(null===e){let e=t.closest(".question-app-container"),n=e.nextElementSibling;if(n){const e=n.getBoundingClientRect().top+window.scrollY;window.scrollTo({top:e,behavior:"smooth"})}}}},addClasses(){const e=document.querySelectorAll(".scale-container");e.forEach((e=>{const t=e.querySelectorAll(".main-scale");t.length>0&&(t.forEach((e=>{e.classList.remove("main-scale-first","main-scale-last")})),t[0].classList.add("main-scale-first"),t.length>1&&t[t.length-1].classList.add("main-scale-last"))}))}}};const _e=(0,_.A)(we,[["render",Ee],["__scopeId","data-v-ded59aa6"]]);var Me=_e;const Te=["innerHTML"],Se={class:"response-body"},Xe=["id"],He=["innerHTML"],Qe={class:"scale-container"},Re=["id","name","value"],Fe=["for"],$e=["innerHTML"],Oe=["innerHTML"],Ae={class:"scale-container scale-container-secondary"},Pe=["id","name","value"],ze=["for"],Ke=["innerHTML"];function Ie(e,t,n,s,o,a){return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.Lk)("div",{class:"question-text",innerHTML:n.text},null,8,Te),(0,i.Lk)("div",Se,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.items,((e,s)=>((0,i.uX)(),(0,i.CE)("div",{key:s,id:"answer-item-"+e.id,class:"item-container response-row"},[(0,i.Lk)("div",{class:"item-label-container item-label-start",innerHTML:e.label},null,8,He),(0,i.Lk)("div",Qe,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.scale,((n,s)=>((0,i.uX)(),(0,i.CE)(i.FK,null,[n.secondary_point?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",{key:s,class:"scale-label-container main-scale"},[(0,i.Lk)("input",{type:"radio",id:this.qid+"-"+e.id+"-"+n.value,name:e.id,value:n.value,onChange:t[0]||(t[0]=e=>a.responseChanged(e)),onClick:t[1]||(t[1]=e=>a.scrollToNext(e))},null,40,Re),(0,i.Lk)("label",{for:this.qid+"-"+e.id+"-"+n.value,class:(0,i.C4)(["scale-label",{"main-label":!n.secondary_point}])},[(0,i.Lk)("span",{class:"scale-label-span",innerHTML:n.input_label},null,8,$e)],10,Fe)]))],64)))),256))]),(0,i.Lk)("div",{class:"item-label-container",innerHTML:e.label_alt},null,8,Oe),(0,i.Lk)("div",Ae,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.scale,((n,s)=>((0,i.uX)(),(0,i.CE)(i.FK,null,[n.secondary_point?((0,i.uX)(),(0,i.CE)("div",{key:s,class:"scale-label-container secondary-scale"},[(0,i.Lk)("input",{type:"radio",id:this.qid+"-"+e.id+"-"+n.value,name:e.id,value:n.value,onChange:t[2]||(t[2]=e=>a.responseChanged(e))},null,40,Pe),(0,i.Lk)("label",{for:this.qid+"-"+e.id+"-"+n.value,class:(0,i.C4)(["scale-label",{"main-label":!n.secondary_point}])},[(0,i.Lk)("span",{class:"scale-label-span",innerHTML:n.input_label},null,8,Ke)],10,ze)])):(0,i.Q3)("",!0)],64)))),256))])],8,Xe)))),128))])])}var Be={name:"SemanticDifferential",props:["qid","text","items","scale"],emits:["responseChanged"],data:function(){return{response:{},shouldScroll:window.innerWidth<=768}},created(){this.items.forEach((e=>{this.response[e.id]=-99})),this.$emit("responseChanged",{id:this.qid,response:this.response,question:this.text,items:this.items})},mounted(){window.addEventListener("resize",this.updateScrollSetting),this.addClasses()},beforeDestroy(){window.removeEventListener("resize",this.updateScrollSetting)},methods:{updateScrollSetting(){this.shouldScroll=window.innerWidth<=768},responseChanged(e){this.response[e.target.name]=e.target.value,this.$emit("responseChanged",{id:this.qid,response:this.response,question:this.text,items:this.items})},getHeightOfLastQuestionTextBefore(e){let t=e.closest(".question-body");if(!t)return null;const n=t.querySelector(".question-text");return n?n.offsetHeight:0},scrollToNext(e){const t=event.target.closest("div.response-row");if(t){const e=t.nextElementSibling;if(e){const n=this.getHeightOfLastQuestionTextBefore(t),i=e.getBoundingClientRect().top+window.scrollY,s=i-n;window.scrollTo({top:s,behavior:"smooth"})}else if(null===e){let e=t.closest(".question-app-container"),n=e.nextElementSibling;if(n){const e=n.getBoundingClientRect().top+window.scrollY;window.scrollTo({top:e,behavior:"smooth"})}}}},addClasses(){const e=document.querySelectorAll(".item-container");e.forEach((e=>{const t=e.querySelectorAll(".main-scale");t.length>0&&(t.forEach((e=>{e.classList.remove("main-scale-first","main-scale-last")})),t[0].classList.add("main-scale-first"),t.length>1&&t[t.length-1].classList.add("main-scale-last"))}))}}};const je=(0,_.A)(Be,[["render",Ie],["__scopeId","data-v-1048fa27"]]);var De=je;const Ve={class:"question-text"},Ne=["innerHTML"];function We(e,t,n,s,o,a){return(0,i.uX)(),(0,i.CE)("div",Ve,[(0,i.Lk)("div",{innerHTML:n.text},null,8,Ne)])}var Ye={name:"TransitionQuestion",props:["qid","text"],emits:["responseChanged"],created(){this.$emit("responseChanged",{id:this.qid,response:null,question:this.text,items:null})}};const Ze=(0,_.A)(Ye,[["render",We]]);var Ue=Ze,Je={name:"QApp",components:{SingleChoiceQuestion:T,MultiChoiceQuestion:z,OpenQuestion:de,MatrixQuestion:Me,SemanticDifferential:De,TransitionQuestion:Ue},props:{questionnaireConfig:String,actionUrl:String,language:String},data(){return this.$i18n.locale=this.language,{parsedQuestConfig:JSON.parse(this.questionnaireConfig),responses:{},currentPage:1,minPage:1,maxPage:1,locale:this.language,displayedRequiredHint:!1}},created(){this.setMaxPage(),this.currentPage=this.minPage},watch:{locale(e){this.$i18n.locale=e}},methods:{scrollToTop(){this.$nextTick((()=>{setTimeout((()=>{document.documentElement.scrollTo({top:0,behavior:"smooth"}),document.documentElement.scrollTop=0,document.body.scrollTop=0}),100)}))},updateResponses(e){this.responses[e.id]={response:e.response,question:e.question,items:e.items}},setMaxPage(){let e=[];this.parsedQuestConfig.forEach((t=>e.push(t.page))),this.minPage=Math.min(...e),this.maxPage=Math.max(...e)},next(){(this.displayedRequiredHint||this.checkRequired())&&(this.currentPage===this.maxPage?this.submitData():(this.currentPage+=1,null===document.querySelector("[data-page-index='"+this.currentPage+"']")&&this.next()))},getActiveQuestions(){let e=[];return this.parsedQuestConfig.forEach((t=>{this.currentPage===t.page&&e.push(t)})),e},checkRequired(){let e=[],t=new Set;return this.getActiveQuestions().forEach((n=>{if(document.querySelectorAll("div[id*=answer-], tr[id*=answer-]").forEach((e=>e.classList.remove("required-but-missing"))),document.querySelectorAll("div[class*=required-hint]").forEach((e=>e.classList.remove("show"))),n.required){let i=this.responses[n.question].response;if(i instanceof Object)for(let s in i)-99!==i[s]&&"-99"!==i[s]||(e.push("item-"+s),t.add(n.question));else-99!==i&&"-99"!==i||(e.push(n.question),t.add(n.question))}})),0===e.length||(e.forEach((e=>{let t="answer-"+e;document.getElementById(t).classList.add("required-but-missing")})),t.forEach((e=>{document.getElementById("required-hint-"+e).classList.add("show")})),this.displayedRequiredHint=!0,!1)},submitData(){let e=new FormData;e.append("post_data",JSON.stringify(this.responses));let t=document.querySelector("input[name='csrfmiddlewaretoken']");e.append("csrfmiddlewaretoken",t.value),fetch(this.actionUrl,{method:"POST",body:e}).then((e=>{e.redirected&&(window.location.href=e.url)})).catch((e=>{console.info(e)}))}}};function Ge(e){e.__i18n=e.__i18n||[],e.__i18n.push({locale:"",resource:{en:{"next-btn-label":e=>{const{normalize:t}=e;return t(["Next"])},"required-but-missing-hint":e=>{const{normalize:t}=e;return t(["Please answer this question."])},"hint-number-input":e=>{const{normalize:t}=e;return t(["Only numbers are allowed."])},"hint-email-input":e=>{const{normalize:t}=e;return t(["Enter email address in the format name","@","domain.com."])},"hint-invalid-email":e=>{const{normalize:t}=e;return t(["This is not a valid email pattern."])}},de:{"next-btn-label":e=>{const{normalize:t}=e;return t(["Weiter"])},"required-but-missing-hint":e=>{const{normalize:t}=e;return t(["Bitte beantworten Sie diese Frage."])},"hint-number-input":e=>{const{normalize:t}=e;return t(["Es sind nur Zahlen erlaubt."])},"hint-email-input":e=>{const{normalize:t}=e;return t(["E-Mail-Adresse im Format name","@","domain.de eingeben."])},"hint-invalid-email":e=>{const{normalize:t}=e;return t(["Das scheint keine gültige E-Mail-Adresse zu sein."])}}}})}"function"===typeof Ge&&Ge(Je);const et=(0,_.A)(Je,[["render",b]]);var tt=et,nt=n(6992);const it=new nt.hU({fallbackLocale:"en"}),st="#qapp",ot=document.querySelector(st),at=(0,i.Ef)(tt,{...ot.dataset});at.use(it),at.mount(st)}},t={};function n(i){var s=t[i];if(void 0!==s)return s.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,i,s,o){if(!i){var a=1/0;for(u=0;u<e.length;u++){i=e[u][0],s=e[u][1],o=e[u][2];for(var l=!0,r=0;r<i.length;r++)(!1&o||a>=o)&&Object.keys(n.O).every((function(e){return n.O[e](i[r])}))?i.splice(r--,1):(l=!1,o<a&&(a=o));if(l){e.splice(u--,1);var d=s();void 0!==d&&(t=d)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[i,s,o]}}(),function(){n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.j=307}(),function(){var e={307:0};n.O.j=function(t){return 0===e[t]};var t=function(t,i){var s,o,a=i[0],l=i[1],r=i[2],d=0;if(a.some((function(t){return 0!==e[t]}))){for(s in l)n.o(l,s)&&(n.m[s]=l[s]);if(r)var u=r(n)}for(t&&t(i);d<a.length;d++)o=a[d],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(u)},i=self["webpackChunkddm_vue_frontend"]=self["webpackChunkddm_vue_frontend"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=n.O(void 0,[504],(function(){return n(214)}));i=n.O(i)})();
//# sourceMappingURL=vue_questionnaire.js.map