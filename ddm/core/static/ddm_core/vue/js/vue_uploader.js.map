{"version":3,"file":"js/vue_uploader.js","mappings":"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","sources":["webpack://ddm_vue_frontend/./UploaderApp/src/UploaderApp.vue","webpack://ddm_vue_frontend/./UploaderApp/src/components/FileUploader.vue","webpack://ddm_vue_frontend/./UploaderApp/src/components/DonationInstructions.vue","webpack://ddm_vue_frontend/./UploaderApp/src/translations/donation_instructions.json","webpack://ddm_vue_frontend/./UploaderApp/src/components/DonationInstructions.vue?2b42","webpack://ddm_vue_frontend/./UploaderApp/src/utils/FileUploaderExtractionFunctions.js","webpack://ddm_vue_frontend/./UploaderApp/src/translations/file_uploader.json","webpack://ddm_vue_frontend/./UploaderApp/src/components/FileUploader.vue?ca80","webpack://ddm_vue_frontend/./UploaderApp/src/translations/uploader_app.json","webpack://ddm_vue_frontend/./UploaderApp/src/UploaderApp.vue?167a","webpack://ddm_vue_frontend/./UploaderApp/src/uploader.js","webpack://ddm_vue_frontend/webpack/bootstrap","webpack://ddm_vue_frontend/webpack/runtime/chunk loaded","webpack://ddm_vue_frontend/webpack/runtime/compat get default export","webpack://ddm_vue_frontend/webpack/runtime/define property getters","webpack://ddm_vue_frontend/webpack/runtime/global","webpack://ddm_vue_frontend/webpack/runtime/hasOwnProperty shorthand","webpack://ddm_vue_frontend/webpack/runtime/make namespace object","webpack://ddm_vue_frontend/webpack/runtime/runtimeId","webpack://ddm_vue_frontend/webpack/runtime/jsonp chunk loading","webpack://ddm_vue_frontend/webpack/startup"],"sourcesContent":["<i18n src=\"./translations/uploader_app.json\"></i18n>\r\n\r\n<template>\r\n\r\n  <FileUploader\r\n      v-for=\"(uploadConfig, id) in parsedUploadConfig\"\r\n      :key=\"id\"\r\n      :component-id=\"id\"\r\n      :expects-zip=\"uploadConfig.upload_type === 'zip file'\"\r\n      :name=\"uploadConfig.name\"\r\n      :blueprints=\"uploadConfig.blueprints\"\r\n      :instructions=\"uploadConfig.instructions\"\r\n      :exception-url=\"this.exceptionUrl\"\r\n      :combined-consent=\"uploadConfig.combined_consent\"\r\n      @changedData=\"updatePostData\"\r\n  ></FileUploader>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <button\r\n          class=\"flow-btn\"\r\n          type=\"button\"\r\n          @click=\"processData(false)\"\r\n      >{{ $t('next-btn-label') }}&nbsp;&nbsp;&#8250;</button>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"modal custom-modal\" id=\"processingModal\" ref=\"processingModal\" style=\"display: none\">\r\n    <div class=\"modal-dialog modal-dialog-centered custom-modal-container\">\r\n      <div class=\"modal-content fs-1 text-center custom-modal-content\">\r\n        <div class=\"p-3 modal-message\">{{ $t('data-submit-wait') }}</div>\r\n        <div class=\"dot-floating\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"default-modal\" id=\"infoModal\" ref=\"infoModal\" style=\"display: none\">\r\n    <div class=\"modal-body d-flex flex-row align-items-center pt-5\">\r\n      <div class=\"ps-2 pe-3 color-blue\"><i class=\"bi bi-info-circle-fill fs-1\"></i></div>\r\n      <div>{{ this.infoModalMsg }}</div>\r\n    </div>\r\n    <div class=\"modal-footer\">\r\n      <button class=\"ddm-btn\" type=\"button\" id=\"closeInfoModal\" @click=\"closeInfoModal\">OK</button>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"default-modal\" id=\"statusModal\" ref=\"statusModal\" style=\"display: none\">\r\n    <div class=\"modal-body d-flex flex-row align-items-center pt-5\">\r\n      <div class=\"ps-2 pe-3 color-blue\"><i class=\"bi bi-info-circle-fill fs-1\"></i></div>\r\n      <div id=\"statusModalMsg\" ref=\"statusModalMsg\"></div>\r\n    </div>\r\n    <div class=\"modal-footer\">\r\n      <button class=\"ddm-btn\" type=\"button\" id=\"cancelStatusModal\" @click=\"closeStatusModal\">{{ $t('cancel-label') }}</button>\r\n      <button class=\"ddm-btn\" type=\"button\" id=\"closeStatusModal\" @click=\"processData(true)\">{{ $t('continue-anyway-label') }}</button>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"modal-backdrop\" ref=\"modalBackdrop\" style=\"display: none\"></div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport FileUploader from './components/FileUploader.vue'\r\nimport JSZip from 'jszip'\r\n\r\nexport default {\r\n  name: 'UApp',\r\n  components: {\r\n    FileUploader\r\n  },\r\n  props: {\r\n    uploadConfig: String,\r\n    actionUrl: String,\r\n    exceptionUrl: String,\r\n    language: String\r\n  },\r\n  data() {\r\n    this.$i18n.locale = this.language;\r\n    return {\r\n      parsedUploadConfig: JSON.parse(this.uploadConfig),\r\n      postData: {},\r\n      locale: this.language,\r\n      donationStatus: 0,\r\n      infoModalMsg: 'undefined'\r\n    }\r\n  },\r\n  watch: {\r\n    locale (val){\r\n      this.$i18n.locale = val\r\n    }\r\n  },\r\n  methods: {\r\n    updatePostData(data) {\r\n      Object.keys(data).forEach(key => {\r\n        this.postData[key] = data[key]\r\n      })\r\n    },\r\n\r\n    /**\r\n     * Evaluates the donation status\r\n     */\r\n    getStatus() {\r\n      // loop through postData\r\n      let success = [];\r\n      let failed = [];\r\n      let pending = [];\r\n      Object.keys(this.postData).forEach(entry => {\r\n        switch (this.postData[entry].status) {\r\n          case 'success':\r\n            success.push(this.postData[entry]);\r\n            break;\r\n          case 'failed':\r\n            failed.push(this.postData[entry]);\r\n            break;\r\n          case 'nothing extracted':\r\n            failed.push(this.postData[entry]);\r\n            break;\r\n          case 'pending':\r\n            pending.push(this.postData[entry]);\r\n        }\r\n      });\r\n\r\n      // Case 1: No upload attempted\r\n      if (!success.length && !failed.length && pending.length) {\r\n        this.donationStatus = 1;\r\n      }\r\n      // Case 2: No upload, not all attempted\r\n      else if(!success.length && pending.length && failed.length) {\r\n        this.donationStatus =  2;\r\n      }\r\n      // Case 3: No upload, all attempted\r\n      else if (!success.length && !pending.length) {\r\n        this.donationStatus =  3;\r\n      }\r\n      // Case 4: Partial Upload, not all attempted\r\n      else if (success.length && pending.length) {\r\n        this.donationStatus =  4;\r\n      }\r\n      // Case 5: Partial upload, all attempted\r\n      else if (success.length && !pending.length && failed.length) {\r\n        this.donationStatus =  5;\r\n      }\r\n      // Case 6: All uploaded\r\n      else if (success.length && !pending.length && !failed.length) {\r\n        this.donationStatus =  6;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Checks if consent question has been answered for all blueprints.\r\n     */\r\n    consentValid() {\r\n      let consents = [];\r\n      Object.keys(this.postData).forEach(entry => {\r\n        if (this.postData[entry].status !== 'pending') {\r\n          consents.push(this.postData[entry].consent);\r\n        }\r\n      });\r\n\r\n      if (consents.includes(null) === true) {\r\n        this.$refs.processingModal.style.display = 'none';\r\n        this.infoModalMsg = this.$t('consent-error-msg');\r\n        this.$refs.infoModal.style.display = 'block';\r\n        return false;\r\n      }\r\n      return true;\r\n    },\r\n\r\n    /**\r\n     * Sets consent to false in postData where consent is null.\r\n     * This is necessary because the server will only accept Boolean values for\r\n     * consent.\r\n     */\r\n    cleanConsent() {\r\n      Object.keys(this.postData).forEach(entry => {\r\n        if (this.postData[entry].consent == null) {\r\n          this.postData[entry].consent = false;\r\n        }\r\n      })\r\n    },\r\n\r\n    /**\r\n     * Processes the uploaded data.\r\n     */\r\n    processData(skipStatus=false) {\r\n      // Show processing overlay.\r\n      this.$refs.statusModal.style.display = 'none'\r\n      this.$refs.processingModal.style.display = 'block';\r\n      this.$refs.modalBackdrop.style.display = 'block';\r\n\r\n      // Check consent data.\r\n      if (!this.consentValid()) return;\r\n\r\n      if (!skipStatus) {\r\n        // Determine donation status across all donation blueprints.\r\n        this.getStatus();\r\n        if (this.donationStatus === 1) {  // means no upload attempted.\r\n          this.$refs.processingModal.style.display = 'none';\r\n          this.$refs.statusModalMsg.innerHTML = this.$t('status-info-msg-none-attempted');\r\n          this.$refs.statusModal.style.display = 'block';\r\n          return;\r\n        }\r\n\r\n        if (this.donationStatus === 2 || this.donationStatus === 4) {  // means not all uploads attempted.\r\n          this.$refs.processingModal.style.display = 'none';\r\n          this.$refs.statusModalMsg.innerHTML = this.$t('status-info-msg-not-all-attempted');\r\n          this.$refs.statusModal.style.display = 'block';\r\n          return;\r\n        }\r\n      }\r\n\r\n      // Zip and send data to server.\r\n      this.zipData();\r\n    },\r\n\r\n    /**\r\n     * Zips the data and sends them to the server.\r\n     */\r\n    zipData() {\r\n      // Clean consent data.\r\n      this.cleanConsent();\r\n\r\n      // Disable file inputs.\r\n      let fileInputs = document.querySelectorAll(\"input[type=file]\")\r\n      fileInputs.forEach(fi => {\r\n        fi.disabled = true;\r\n      })\r\n\r\n      // Zip uploaded and processed data and attach it to form.\r\n      let form = new FormData(document.getElementById(\"uploader-form\"));\r\n      let zip = new JSZip();\r\n\r\n      zip.file(\"ul_data.json\", JSON.stringify(this.postData))\r\n          .generateAsync({\r\n            type: \"blob\",\r\n            compression: \"DEFLATE\",\r\n            compressionOptions: {\r\n              level: 5\r\n            }\r\n          })\r\n          .then(blob => {\r\n            form.append(\"post_data\", blob);\r\n\r\n            fetch(this.actionUrl, {method: \"POST\", body: form})\r\n                .then(response => {\r\n                  if (response.redirected) {\r\n                    window.location.href = response.url;\r\n                  }\r\n                })\r\n                .catch(err => {\r\n                  console.info(err);\r\n                });\r\n          })\r\n    },\r\n\r\n    closeInfoModal() {\r\n      this.$refs.infoModal.style.display = 'none';\r\n      this.$refs.modalBackdrop.style.display = 'none';\r\n    },\r\n\r\n    closeStatusModal() {\r\n      this.$refs.statusModal.style.display = 'none';\r\n      this.$refs.modalBackdrop.style.display = 'none';\r\n    }\r\n  },\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n#uapp {\r\n  font-family: 'Nunito Sans', Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  color: #2c3e50;\r\n}\r\n.default-modal {\r\n  background: white;\r\n  z-index: 2000;\r\n  position: fixed;\r\n  top: 35%;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  left: 0;\r\n  right: 0;\r\n  width: 30%;\r\n  border-radius: 5px;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .default-modal {\r\n    width: 85%;\r\n    top: 5%;\r\n    max-height: 90%;\r\n    overflow-y: scroll;\r\n  }\r\n}\r\n\r\n@media (min-width: 769px) {\r\n  .default-modal {\r\n    width: 50%;\r\n  }\r\n}\r\n\r\n.modal-backdrop {\r\n  position: fixed;\r\n  height: 100%;\r\n  width: 100%;\r\n  background: #959595;\r\n  opacity: .75;\r\n  z-index: 1000;\r\n}\r\n.custom-modal-container {\r\n  width: 100%;\r\n  max-width: none;\r\n  animation: fade-in-right ease 0.6s forwards;\r\n}\r\n.custom-modal-content {\r\n  background: #212529 !important;\r\n  color: white !important;\r\n  border: none;\r\n  border-radius: 0px;\r\n  font-size: 2.5rem !important;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  position: relative;\r\n  overflow: hidden;\r\n  padding-bottom: 30px;\r\n  box-shadow: 0px 3px #ffffff17;\r\n}\r\n@keyframes fade-in-right {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateX(-15px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateX(0);\r\n  }\r\n}\r\n\r\n.dot-floating {\r\n  position: relative;\r\n  width: 12px;\r\n  height: 12px;\r\n  border-radius: 6px;\r\n  background-color: #009c94;\r\n  color: #009c94;\r\n  animation: dotFloating 3s infinite cubic-bezier(0.15, 0.6, 0.9, 0.1);\r\n}\r\n\r\n.dot-floating::before, .dot-floating::after {\r\n  content: '';\r\n  display: inline-block;\r\n  position: absolute;\r\n  top: 0;\r\n}\r\n\r\n.dot-floating::before {\r\n  left: -14px;\r\n  width: 12px;\r\n  height: 12px;\r\n  border-radius: 6px;\r\n  background-color: #009c94;\r\n  color: #009c94;\r\n  animation: dotFloatingBefore 3s infinite ease-in-out;\r\n}\r\n\r\n.dot-floating::after {\r\n  left: -26px;\r\n  width: 12px;\r\n  height: 12px;\r\n  border-radius: 6px;\r\n  background-color: #009c94;\r\n  color: #009c94;\r\n  animation: dotFloatingAfter 3s infinite cubic-bezier(0.4, 0, 1, 1);\r\n}\r\n\r\n.ddm-btn {\r\n  background-color: #1a1a1a;\r\n  color: white !important;\r\n  border-radius: 5px;\r\n  border: 1px solid #8e8e8e;\r\n  padding: 3px 10px !important;\r\n  font-size: 0.9rem;\r\n  text-decoration: none;\r\n}\r\n\r\n.color-blue {\r\n  color: #0068b3;\r\n}\r\n\r\n@keyframes dotFloating {\r\n  0% {\r\n    left: calc(-50% - 5px);\r\n  }\r\n  75% {\r\n    left: calc(50% + 105px);\r\n  }\r\n  100% {\r\n    left: calc(50% + 105px);\r\n  }\r\n}\r\n\r\n@keyframes dotFloatingBefore {\r\n  0% {\r\n    left: -50px;\r\n  }\r\n  50% {\r\n    left: -14px;\r\n  }\r\n  75% {\r\n    left: -50px;\r\n  }\r\n  100% {\r\n    left: -50px;\r\n  }\r\n}\r\n\r\n@keyframes dotFloatingAfter {\r\n  0% {\r\n    left: -100px;\r\n  }\r\n  50% {\r\n    left: -26px;\r\n  }\r\n  75% {\r\n    left: -100px;\r\n  }\r\n  100% {\r\n    left: -100px;\r\n  }\r\n}\r\n</style>\r\n","<i18n src=\"../translations/file_uploader.json\"></i18n>\r\n\r\n<template>\r\n\r\n  <div class=\"mb-5\">\r\n    <div class=\"float-left pt-2 ps-2 rounded-top\">\r\n      <div class=\"col-sm\">\r\n        <h4 class=\"fw-bold\">{{ name }}</h4>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"uploader-container\">\r\n    <!-- INSTRUCTIONS -->\r\n    <div v-if=\"instructions.length\" class=\"accordion\" :id=\"'ul-acc-'+componentId\">\r\n      <div class=\"accordion-body border-bottom\">\r\n        <div class=\"row align-items-center\">\r\n          <div class=\"col-auto ul-status-icon\"><i class=\"bi bi-signpost\"></i></div>\r\n          <div class=\"col-auto\"><h5>{{ $t('instructions') }}</h5></div>\r\n          <div class=\"col accordion-header\" :id=\"'acc-instr-head-'+componentId\">\r\n            <button class=\"accordion-button\" type=\"button\" data-bs-toggle=\"collapse\" :data-bs-target=\"'#acc-instr-body-'+componentId\" aria-expanded=\"true\" :aria-controls=\"'acc-instr-body-'+componentId\">\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div :id=\"'acc-instr-body-'+componentId\" class=\"accordion-collapse collapse show\" aria-labelledby=\"headingOne\" :data-bs-parent=\"'#ul-acc-'+componentId\">\r\n          <div class=\"accordion-body ps-0 pe-0\">\r\n            <DonationInstructions :instructions=\"instructions\" :component-id=\"componentId\"></DonationInstructions>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n\r\n    <!-- DATA UPLOAD -->\r\n    <div class=\"accordion-body border-bottom\">\r\n      <div class=\"row align-items-center\" style=\"height: 100px;\">\r\n\r\n        <!-- Upload pending -->\r\n        <template v-if=\"uploadStatus === 'pending'\">\r\n          <div class=\"col-auto ul-status-icon\"><i class=\"bi bi-upload\"></i></div>\r\n\r\n          <div class=\"col-auto ul-status-description\">\r\n            <h5 v-if=\"!uploadAttempts\">{{ $t('upload-file') }}:</h5>\r\n            <p v-else-if=\"uploadAttempts\">{{ $t('upload-different-file') }}:</p>\r\n          </div>\r\n\r\n          <div class=\"col ul-status-message\">\r\n            <label class=\"select-file-btn\">\r\n              <input :name=\"'ul-' + componentId\" type=\"file\" @change=\"processFile\" class=\"d-none\">\r\n              {{ $t('choose-file') }}\r\n            </label>\r\n          </div>\r\n        </template>\r\n\r\n        <!-- Upload in progress -->\r\n        <template v-else-if=\"uploadStatus === 'processing'\">\r\n          <div class=\"col-auto ul-status-icon\">\r\n            <div class=\"clearfix\">\r\n              <p><span class=\"spinner-border float-right me-3\" role=\"status\"><span class=\"sr-only\"></span></span></p>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"col ul-status-description\">\r\n            <p>{{ $t('file-is-being-uploaded') }}</p>\r\n          </div>\r\n\r\n          <div class=\"col ul-status-message\"></div>\r\n        </template>\r\n\r\n        <!-- Upload successful -->\r\n        <template v-else-if=\"uploadStatus === 'success'\">\r\n          <div class=\"col-auto ul-status-icon\"><i class=\"bi bi-file-check\"></i></div>\r\n\r\n          <div class=\"col ul-status-description\">\r\n            <h5 class=\"text-success fw-bold\">{{ $t('upload-success') }}</h5>\r\n          </div>\r\n        </template>\r\n\r\n        <!-- Upload partial -->\r\n        <template v-else-if=\"uploadStatus === 'partial'\">\r\n          <div class=\"col-auto ul-status-icon\"><i class=\"bi bi-exclamation-diamond text-orange\"></i></div>\r\n\r\n          <div class=\"col-auto ul-status-description\">\r\n            <p class=\"fw-bold\">{{ $t('partial-upload-status') }}</p>\r\n            <p><a @click=\"uploadStatus = 'pending'\" class=\"upload-other\">{{ $t('choose-different-file') }}</a></p>\r\n          </div>\r\n\r\n          <div class=\"col ul-status-message\">\r\n            <p>{{ $t('partial-upload-message') }}</p>\r\n          </div>\r\n        </template>\r\n\r\n        <!-- Upload failed -->\r\n        <template v-else-if=\"uploadStatus === 'failed'\">\r\n          <div class=\"col-auto ul-status-icon\"><i class=\"bi bi-x-octagon text-danger\"></i></div>\r\n\r\n          <div class=\"col-auto ul-status-description\">\r\n            <p class=\"fw-bold\">{{ $t('upload-failed') }}</p>\r\n            <p><a @click=\"uploadStatus = 'pending'\" class=\"upload-other\">{{ $t('choose-different-file') }}</a></p>\r\n          </div>\r\n\r\n          <div class=\"col ul-status-message\">\r\n            <ul class=\"text-danger\">\r\n              <li v-for=\"error in generalErrors\" :key=\"error\">{{ error }}</li>\r\n            </ul>\r\n          </div>\r\n        </template>\r\n\r\n      </div>\r\n      </div>\r\n      <!-- UPLOAD FEEDBACK -->\r\n\r\n      <div class=\"accordion-body\">\r\n        <div class=\"row align-items-center\">\r\n          <div class=\"col extraction-information-container\">\r\n            <div class=\"col\">\r\n              <template v-if=\"uploadStatus === 'pending'\">\r\n                <h6>{{ $t('data-extraction-intro') }}</h6>\r\n              </template>\r\n              <template v-else>\r\n                <h6 class=\"fw-bold\">{{ $t('extracted-data-intro') }}</h6>\r\n              </template>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"accordion-body\">\r\n      <div class=\"container ul-feedback-container\">\r\n        <div class=\"row\">\r\n          <div class=\"col extraction-information-container\">\r\n            <template v-for=\"bp in blueprints\" :key=\"bp\">\r\n            <div class=\"ul-status row align-items-start pt-2 pb-2\" :class=\"{ 'ul-success': blueprintData[bp.id.toString()].status === 'success', 'ul-failed': blueprintData[bp.id.toString()].status === 'failed'}\">\r\n\r\n              <!-- Pending -->\r\n              <template v-if=\"blueprintData[bp.id.toString()].status === 'pending'\">\r\n                <div class=\"col w-small bp-ul-icon\"><i class=\"bi bi-file-earmark-fill text-grey\"></i></div>\r\n                <div class=\"col\">\r\n                  <div class=\"col bp-description pb-2\">{{ bp.name }}</div>\r\n                  <div class=\"col bp-ul-status\">{{ bp.description }}</div>\r\n                </div>\r\n              </template>\r\n\r\n              <!-- Success -->\r\n              <template v-if=\"blueprintData[bp.id.toString()].status === 'success'\">\r\n                <div class=\"row\">\r\n                  <div class=\"col w-small bp-ul-icon\"><i class=\"bi bi-file-earmark-check-fill text-success\"></i></div>\r\n                  <div class=\"col\">\r\n                    <div class=\"col bp-description pb-2\">{{ bp.name }}</div>\r\n                    <div class=\"col bp-ul-status\">{{ bp.description }}</div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"row\">\r\n                  <div class=\"col feedback-col\">\r\n                    <div>\r\n                      {{ $t('extracted-data') }}\r\n                    </div>\r\n                    <div class=\"data-donation-container pb-3 pt-3 fs-09\">\r\n                      <div :id=\"'donation-container-'+bp.id.toString()\" class=\"ul-data-container ul-data-condensed bg-white\">\r\n                        <div class=\"data-donation-table\">\r\n                          <table :id=\"'ul-result-' + bp.id.toString()\" class=\"table table-sm\">\r\n                            <thead>\r\n                            <tr>\r\n                              <th v-for=\"value in blueprintData[bp.id.toString()].extracted_fields.values()\" :key=\"value\">{{ value }}</th>\r\n                            </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                            <tr v-for=\"row in blueprintData[bp.id.toString()].extracted_data.slice(blueprintData[bp.id.toString()].fb_pos_lower, blueprintData[bp.id.toString()].fb_pos_upper)\" :key=\"row\">\r\n                              <template v-for=\"key in blueprintData[bp.id.toString()].extracted_fields.keys()\" :key=\"key\">\r\n                                <td v-if=\"key in row\" :key=\"row\">{{ row[key] }}</td>\r\n                                <td v-else>–</td>\r\n                              </template>\r\n                            </tr>\r\n\r\n                            </tbody>\r\n                          </table>\r\n                        </div>\r\n                        <div class=\"data-table-navigation\">\r\n                          <div class=\"pb-2\">\r\n                            <a class=\"btn btn-pagination btn-sm me-2 btn-active\" v-if=\"blueprintData[bp.id.toString()].fb_pos_lower > 9\" v-on:click=\"updateFbPos(bp.id.toString(), 'down')\" >{{ $t('previous-page') }}</a>\r\n                            <span class=\"btn-pagination btn-sm me-2 btn-light text-muted user-select-none btn-muted\" v-if=\"blueprintData[bp.id.toString()].fb_pos_lower <= 9\">{{ $t('previous-page') }}</span>\r\n                            <a class=\"btn btn-pagination btn-sm btn-active\" v-if=\"blueprintData[bp.id.toString()].fb_pos_upper < blueprintData[bp.id.toString()].extracted_data.length\" v-on:click=\"updateFbPos(bp.id.toString(), 'up')\" >{{ $t('next-page') }}</a>\r\n                            <span class=\"btn-pagination btn-sm btn-light text-muted user-select-none btn-muted\" v-if=\"blueprintData[bp.id.toString()].fb_pos_upper >= blueprintData[bp.id.toString()].extracted_data.length\">{{ $t('next-page') }}</span>\r\n                          </div>\r\n\r\n                          <div class=\"pb-3\">\r\n                            <p class=\"pb-3\">\r\n                              {{ $t('extraction-disclaimer', { lower: blueprintData[bp.id.toString()].fb_pos_lower + 1, upper: blueprintData[bp.id.toString()].fb_pos_upper, total: blueprintData[bp.id.toString()].extracted_data.length }) }}\r\n                            </p>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div>\r\n\r\n                      </div>\r\n                      <div :id=\"'expansion-control-'+bp.id.toString()\" class=\"ul-data-expansion-control control-condensed\"><a class=\"text-decoration-none fw-bold\" :id=\"'collapse-toggle-'+bp.id.toString()\" v-on:click=\"showHideData(bp.id.toString())\"><span :id=\"'donation-container-'+ bp.id.toString() + '-toggle-label'\">{{ $t('show-extracted-data') }}</span></a></div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <template v-if=\"this.combinedConsent === false\">\r\n                <div class=\"row\">\r\n                  <div class=\"col feedback-col pb-5 pt-1\">\r\n                    <p class=\"fw-bold\">{{ $t('donation-question') }}</p>\r\n                      <div class=\"consent-question-container\">\r\n\r\n                        <div class=\"btn-group\" role=\"group\" aria-label=\"Basic radio toggle button group\">\r\n                          <input type=\"radio\"\r\n                                 class=\"btn-check\"\r\n                                 :id=\"'donate-agree-'+bp.id.toString()\"\r\n                                 :name=\"'agreement-'+bp.id.toString()\"\r\n                                 value=\"true\"\r\n                                 autocomplete=\"off\"\r\n                                 v-model=\"blueprintData[bp.id.toString()].consent\"\r\n                                 @change=\"emitToParent\"\r\n                                 required>\r\n                          <label :class=\"{ 'selected-donate-agree': blueprintData[bp.id.toString()].consent === 'true' }\"\r\n                                 :for=\"'donate-agree-'+bp.id.toString()\"\r\n                                 class=\"form-check-label rb-cb-label btn btn-light donation-btn shadow-none\">\r\n                            {{ $t('donation-agree') }}\r\n                          </label>\r\n\r\n                          <input type=\"radio\"\r\n                                 class=\"btn-check\"\r\n                                 :id=\"'donate-disagree-'+bp.id.toString()\"\r\n                                 :name=\"'agreement-'+bp.id.toString()\"\r\n                                 value=\"false\"\r\n                                 autocomplete=\"off\"\r\n                                 v-model=\"blueprintData[bp.id.toString()].consent\"\r\n                                 @change=\"emitToParent\">\r\n                          <label :class=\"{ 'selected-donate-disagree': blueprintData[bp.id.toString()].consent === 'false' }\"\r\n                                 :for=\"'donate-disagree-'+bp.id.toString()\"\r\n                                 class=\"form-check-label rb-cb-label btn btn-light donation-btn shadow-none\">\r\n                            {{ $t('donation-disagree') }}\r\n                          </label>\r\n                        </div>\r\n                      </div>\r\n                  </div>\r\n                </div>\r\n                </template>\r\n\r\n              </template>\r\n\r\n              <!-- Nothing Extracted -->\r\n              <template v-if=\"blueprintData[bp.id.toString()].status === 'nothing extracted'\">\r\n                <div class=\"col w-small bp-ul-icon\"><i class=\"bi bi-file-earmark-x-fill text-grey\"></i></div>\r\n                <div class=\"col-4 bp-description\">{{ bp.name }}</div>\r\n                <div class=\"col bp-ul-status\">\r\n                  <template v-if=\"blueprintData[bp.id.toString()].errors.length\">\r\n                    <p v-for=\"e in blueprintData[bp.id.toString()].errors\" :key=\"e\">{{ e }}</p>\r\n                  </template>\r\n                  <p v-else>{{ $t('extraction-failed') }}</p>\r\n                </div>\r\n                <div class=\"col-auto bp-ul-data\"></div>\r\n                <div class=\"col-auto bp-ul-consent\"></div>\r\n              </template>\r\n\r\n              <!-- Failed -->\r\n              <template v-if=\"blueprintData[bp.id.toString()].status === 'failed'\">\r\n                <div class=\"col w-small bp-ul-icon\"><i class=\"bi bi-file-earmark-x-fill text-danger\"></i></div>\r\n                <div class=\"col-4 bp-description\">{{ bp.name }}</div>\r\n                <div class=\"col bp-ul-status\">\r\n                  <template v-if=\"blueprintData[bp.id.toString()].errors.length\">\r\n                    <p v-for=\"e in blueprintData[bp.id.toString()].errors\" :key=\"e\">{{ e }}</p>\r\n                  </template>\r\n                  <p v-else>{{ $t('extraction-failed') }}</p>\r\n                </div>\r\n                <div class=\"col-auto bp-ul-data\"></div>\r\n                <div class=\"col-auto bp-ul-consent\"></div>\r\n              </template>\r\n\r\n            </div>\r\n\r\n            </template>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n        <template v-if=\"this.combinedConsent === true && (uploadStatus === 'success' || uploadStatus === 'partial')\">\r\n          <div class=\"row mt-5\">\r\n            <div class=\"col feedback-col pb-5 pt-1\">\r\n              <p class=\"fw-bold\">{{ $t('donation-question') }}</p>\r\n              <div class=\"consent-question-container\">\r\n\r\n                <div class=\"btn-group\" role=\"group\" aria-label=\"Basic radio toggle button group\">\r\n                  <input type=\"radio\"\r\n                         class=\"btn-check\"\r\n                         id=\"combined-donate-agree\"\r\n                         value=\"true\"\r\n                         autocomplete=\"off\"\r\n                         v-model=\"combinedDonation\"\r\n                         @change=\"emitToParent\"\r\n                         required>\r\n                  <label :class=\"{ 'selected-donate-agree': combinedDonation === 'true' }\"\r\n                         class=\"form-check-label rb-cb-label btn btn-light donation-btn shadow-none\"\r\n                         for=\"combined-donate-agree\">\r\n                    {{ $t('donation-agree') }}\r\n                  </label>\r\n\r\n                  <input type=\"radio\"\r\n                         class=\"btn-check\"\r\n                         id=\"combined-donate-disagree\"\r\n                         value=\"false\"\r\n                         autocomplete=\"off\"\r\n                         v-model=\"combinedDonation\"\r\n                         @change=\"emitToParent\">\r\n                  <label :class=\"{ 'selected-donate-disagree': combinedDonation === 'false' }\"\r\n                         class=\"form-check-label rb-cb-label btn btn-light donation-btn shadow-none\"\r\n                         for=\"combined-donate-disagree\">\r\n                    {{ $t('donation-disagree') }}\r\n                  </label>\r\n                </div>\r\n\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </template>\r\n    </div>\r\n  </div>\r\n  </div>\r\n\r\n  <div class=\"default-modal\" id=\"ulInfoModal\" ref=\"ulInfoModal\" style=\"display: none\">\r\n    <div class=\"modal-body d-flex flex-row align-items-center pt-5\">\r\n\r\n      <div class=\"ps-2 pe-3 ul-status-icon\"><i id=\"ul-modal-info-icon\" class=\"bi bi-file-check\"></i></div>\r\n\r\n      <div class=\"ul-status-description\">\r\n        <h4>{{ this.ulModalInfoTitle }}</h4>\r\n        <p id=\"ul-modal-info-msg\" class=\"pb-2\" v-html=\"this.ulModalInfoMsg\"></p>\r\n        <div v-if=\"uploadStatus === 'failed'\">\r\n          <ul class=\"text-danger pb-3\">\r\n            <li v-for=\"error in generalErrors\" :key=\"error\">{{ error }}</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n    <div class=\"modal-footer\">\r\n      <button class=\"ddm-btn\" type=\"button\" id=\"closeUlInfoModal\" @click=\"closeUlInfoModal\">OK</button>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"modal-backdrop\" ref=\"modalBackdrop\" style=\"display: none\"></div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport JSZip from \"jszip\";\r\nimport DonationInstructions from \"./DonationInstructions\";\r\nimport axios from \"axios\";\r\nimport Papa from 'papaparse';\r\nimport {\r\n  regexDeleteMatch,\r\n  regexReplaceMatch,\r\n  regexDeleteRow,\r\n  valueIsEqual,\r\n  valueIsNotEqual,\r\n  valueIsSmallerOrEqual,\r\n  valueIsGreaterOrEqual,\r\n  valueIsSmaller,\r\n  valueIsGreater\r\n} from '../utils/FileUploaderExtractionFunctions'\r\n\r\n\r\nexport default {\r\n  name: 'ProcessFile',\r\n  components: {DonationInstructions},\r\n  props: {\r\n    expectsZip: Boolean,\r\n    blueprints: Array,\r\n    instructions: Array,\r\n    componentId: Number,\r\n    name: String,\r\n    exceptionUrl: String,\r\n    combinedConsent: Boolean\r\n  },\r\n  emits: ['changedData'],\r\n  data() {\r\n    return {\r\n      blueprintData: {},\r\n      uploadStatus: 'pending',\r\n      uploadAttempts: 0,\r\n      generalErrors: [],\r\n      ulModalInfoMsg: '',\r\n      ulModalInfoTitle: '',\r\n      combinedDonation: null\r\n    }\r\n  },\r\n  created() {\r\n    // Create dictionary to hold post data.\r\n    this.blueprints.forEach(bp => {\r\n      let id = bp.id;\r\n      let blueprintInfo = {\r\n        name_uploaded_file: null,\r\n        consent: null,\r\n        extracted_data: [],\r\n        extracted_fields: new Map(),\r\n        status: 'pending',\r\n        errors: [],\r\n        fb_pos_lower: 0,\r\n        fb_pos_upper: 10,\r\n        error_log: {},\r\n      }\r\n      this.blueprintData[id.toString()] = blueprintInfo\r\n    })\r\n    this.resetErrorLog();\r\n    this.emitToParent();\r\n  },\r\n  methods: {\r\n    /**\r\n     * Processes the file uploaded by the participant.\r\n     * @param event\r\n     */\r\n    processFile(event) {\r\n      let uploader = this;\r\n      uploader.uploadStatus = 'processing';\r\n      uploader.uploadAttempts += 1;\r\n      uploader.resetErrorLog();\r\n      const files = event.target.files;\r\n\r\n      // Procedure if supplied file is expected to be a zip-folder.\r\n      if (uploader.expectsZip && files.length === 1) {\r\n        JSZip\r\n            .loadAsync(files[0])\r\n            .then(z => {\r\n              uploader.blueprints.forEach(blueprint => {\r\n                let re = new RegExp(blueprint.regex_path);\r\n                let reHasMatched = false;\r\n                z.file(re).forEach(f => {\r\n                  reHasMatched = true;\r\n                  f\r\n                      .async(\"string\")\r\n                      .then(c => uploader.processContent(c, blueprint))\r\n                      .catch(e => {\r\n                        uploader.postError(4199, e.message);\r\n                        uploader.recordError(uploader.$t('error-generic') + e.message, blueprint.id.toString());\r\n                      })\r\n                })\r\n                if (!reHasMatched) {\r\n                  uploader.postError(4180, uploader.$t('error-regex-not-matched'), blueprint.id);\r\n                  uploader.postError(4181, `Files in uploaded folder: ${Object.keys(z.files)}`, blueprint.id);\r\n                  uploader.recordError(uploader.$t('error-regex-not-matched'), blueprint.id.toString());\r\n                }\r\n              })\r\n            })\r\n            .catch(e => {\r\n              let myMess = '';\r\n              let statusCode = 0;\r\n              if (e.message.includes('zip') && e.message.includes('central')) {\r\n                myMess = uploader.$t('error-not-zip');\r\n                statusCode = 4101;\r\n              } else if (e.message.includes('Corrupted zip')) {\r\n                myMess = uploader.$t('error-zip-corrupted');\r\n                statusCode = 4102;\r\n              } else if (e.message.includes('Encrypted zip')) {\r\n                myMess = uploader.$t('error-zip-encrypted');\r\n                statusCode = 4103;\r\n              } else {\r\n                myMess = uploader.$t('error-generic') + e.message;\r\n                statusCode = 4198;\r\n              }\r\n              uploader.postError(statusCode, e.message);\r\n              uploader.recordError(myMess, 'general');\r\n        })\r\n      }\r\n\r\n      // Procedure if supplied file is expected to be a single file.\r\n      else if (!uploader.expectsZip && files.length === 1) {\r\n\r\n        if (uploader.blueprints[0].format === 'json') {\r\n          if (!files[0].name.endsWith('.json')) {\r\n            let errorMsg = uploader.$t('error-wrong-file-type', 'en', {actualType: files[0].name.substr(files[0].name.lastIndexOf(\".\")), expectedType: '.json'})\r\n            uploader.postError(4105, errorMsg, uploader.blueprints[0].id);\r\n            uploader.recordError(uploader.$t('error-wrong-file-type', {actualType: files[0].name.substr(files[0].name.lastIndexOf(\".\")), expectedType: '.json'}), uploader.blueprints[0].id.toString());\r\n          }\r\n        }\r\n\r\n        if (uploader.blueprints[0].format === 'csv') {\r\n          if (!files[0].name.endsWith('.csv')) {\r\n            let errorMsg = uploader.$t('error-wrong-file-type', 'en', {actualType: files[0].name.substr(files[0].name.lastIndexOf(\".\")), expectedType: '.csv'});\r\n            uploader.postError(4105, errorMsg, uploader.blueprints[0].id);\r\n            uploader.recordError(uploader.$t('error-wrong-file-type', {actualType: files[0].name.substr(files[0].name.lastIndexOf(\".\")), expectedType: '.csv'}), uploader.blueprints[0].id.toString());\r\n          }\r\n        }\r\n\r\n        let reader = new FileReader();\r\n        reader.onload = function(event) {\r\n          let content = event.target.result;\r\n          try {\r\n            // uploader.processContent(content, uploader.blueprints[0]);  // TODO: Check this\r\n            uploader.blueprints.forEach(blueprint => {\r\n              uploader.processContent(content, blueprint)\r\n            })\r\n\r\n          } catch(e) {\r\n            uploader.postError(4199, e.message, uploader.blueprints[0].id);\r\n            uploader.recordError(uploader.$t('error-generic') + e.message, uploader.blueprints[0].id.toString());\r\n          }\r\n        }\r\n        reader.readAsText(files[0]);\r\n      }\r\n\r\n      // Procedure if files.length != 1\r\n      else {\r\n        uploader.postError(4104, uploader.$t('error-multiple-files', 'en'));\r\n        uploader.recordError(uploader.$t('error-multiple-files'), 'general');\r\n      }\r\n\r\n      setTimeout(() => {\r\n        uploader.updateStatus();\r\n        uploader.$nextTick(function () {\r\n          uploader.emitToParent();\r\n        });\r\n      }, 1000);\r\n\r\n    },\r\n\r\n    /**\r\n     * Extracts the content of a file according to the defined extraction and\r\n     * validation rules.\r\n     * @param {string } content   A file's content.\r\n     * @param {Object}  blueprint A blueprint.\r\n     */\r\n    processContent(content, blueprint) {\r\n      let uploader = this;\r\n      let blueprintID = blueprint.id.toString();\r\n      let fileContent = null;\r\n      let extractedData = [];\r\n\r\n      // PARSING\r\n      if (blueprint.format === 'json') {\r\n        try {\r\n          fileContent = JSON.parse(content);\r\n        } catch(e) {\r\n          uploader.postError(4106, e.message, blueprint.id);\r\n          uploader.recordError(uploader.$t('error-json-syntax'), blueprintID);\r\n        }\r\n\r\n        if(fileContent) {\r\n          if (blueprint.json_extraction_root !== '') {\r\n            try {\r\n              fileContent = this.getNestedJsonEntry(fileContent, blueprint.json_extraction_root);\r\n            } catch (e) {\r\n              uploader.postError(4207, uploader.$t('error-no-data-in-file'), blueprint.id);\r\n              uploader.recordError(uploader.$t('error-no-data-in-file'), blueprintID);\r\n              return\r\n            }\r\n          }\r\n\r\n          // Check if fileContent is null.\r\n          if (fileContent === null || fileContent === undefined) {\r\n            uploader.postError(4207, uploader.$t('error-no-data-in-file'), blueprint.id);\r\n            uploader.recordError(uploader.$t('error-no-data-in-file'), blueprintID);\r\n            return;\r\n          }\r\n\r\n          // Check if fileContent must be converted to array.\r\n          if (!(Symbol.iterator in Object(fileContent))) {\r\n            fileContent = new Array(fileContent);\r\n          }\r\n        }\r\n      }\r\n\r\n      else if (blueprint.format === 'csv') {\r\n        try {\r\n          let parserResult = Papa.parse(content, {header: true, delimiter: blueprint.csv_delimiter });\r\n          fileContent = parserResult.data;\r\n        } catch(e) {\r\n          uploader.postError(4106, e.message, blueprint.id);\r\n          uploader.recordError(uploader.$t('error-json-syntax'), blueprintID);\r\n        }\r\n      }\r\n\r\n      // FILTERING\r\n      if (fileContent) {\r\n        let nEntriesWithMissingFields = 0;\r\n        let nEntriesFilteredOut = 0;\r\n\r\n        fileContent.forEach(entry => {\r\n\r\n          // Check if file contains all expected fields\r\n          let missingFields = [];\r\n          if (!blueprint.expected_fields.every(field => {\r\n\r\n            if (blueprint.exp_fields_regex_matching) {\r\n              let fieldRegex = new RegExp(field);\r\n              if (Object.keys(entry).filter(key => fieldRegex.test(key)).length > 0){\r\n                return true;\r\n              } else {\r\n                missingFields.push(field)\r\n                nEntriesWithMissingFields += 1;\r\n                return false;\r\n              }\r\n            } else if (Object.keys(entry).filter(key => field === key).length > 0) {\r\n                return true;\r\n            } else {\r\n              missingFields.push(field)\r\n              nEntriesWithMissingFields += 1;\r\n              return false;\r\n            }\r\n          })) {\r\n            // TODO: Check whether and how to implement this:\r\n            //  Go to next entry and record exception\r\n            // let errorMsg = `Entry does not contain the expected field(s) \"${missingFields.toString()}\".`;\r\n            // uploader.postError(4203, errorMsg, blueprint.id);\r\n            return;\r\n          }\r\n\r\n          // Match variable names to the keys contained in an entry.\r\n          let rules = blueprint.filter_rules;\r\n          let keyMap = new Map();\r\n          rules.forEach(rule => {\r\n            let keys = Object.keys(entry);\r\n            if (rule.regex_field) {\r\n              let fieldRegex = new RegExp(rule.field);\r\n              keys = keys.filter(key => fieldRegex.test(key));\r\n            } else {\r\n              let field = rule.field;\r\n              keys = keys.filter(key => field === key);\r\n            }\r\n\r\n            if(keys.length > 1) {\r\n              let errorMsg = `More than 1 key matches for variable \"${rule.field}\": ${keys}; Associated \"${keys[0]}\" to variable.`;\r\n              uploader.postError(4203, errorMsg, blueprint.id);\r\n            } else if(keys.length === 0) {\r\n              let errorMsg = `No key matches for variable \"${rule.field}\": ${Object.keys(entry)}`;\r\n              uploader.postError(4203, errorMsg, blueprint.id);\r\n            } else {\r\n              keyMap.set(rule.field, keys[0]);\r\n            }\r\n          })\r\n\r\n          // Apply filters, Pop unused keys and add to result.\r\n          let result = {};\r\n          try {\r\n            if (rules.length > 0) {\r\n              rules.forEach(rule => {\r\n                let key = keyMap.get(rule.field);\r\n                if (key === 'undefined') {\r\n                  throw `Field \"${key}\" not in entry.`\r\n                }\r\n\r\n                switch (rule.comparison_operator) {\r\n                  case null:\r\n                    result[rule.field] = entry[key];\r\n                    break;\r\n                  case '==':\r\n                    if (valueIsEqual(entry[key], rule.comparison_value)) {\r\n                      // discard entry\r\n                      throw `Field \"${key}\" matches filter value \"${rule.comparison_value}\" for entry.`\r\n                    }\r\n                    break;\r\n                  case '!=':\r\n                    if (valueIsNotEqual(entry[key], rule.comparison_value)) {\r\n                      // discard entry\r\n                      throw `Field \"${key}\" matches filter value \"${rule.comparison_value}\" for entry.`\r\n                    }\r\n                    break;\r\n                  case '<=':\r\n                    if (valueIsSmallerOrEqual(entry[key], rule.comparison_value)) {\r\n                      // discard entry\r\n                      throw `Field \"${key}\" matches filter value \"${rule.comparison_value}\" for entry.`\r\n                    }\r\n                    break;\r\n                  case '>=':\r\n                    if (valueIsGreaterOrEqual(entry[key], rule.comparison_value)) {\r\n                      // discard entry\r\n                      throw `Field \"${key}\" matches filter value \"${rule.comparison_value}\" for entry.`\r\n                    }\r\n                    break;\r\n                  case '<':\r\n                    if (valueIsSmaller(entry[key], rule.comparison_value)) {\r\n                      // discard entry\r\n                      throw `Field \"${key}\" matches filter value \"${rule.comparison_value}\" for entry.`\r\n                    }\r\n                    break;\r\n                  case '>':\r\n                    if (valueIsGreater(entry[key], rule.comparison_value)) {\r\n                      // discard entry\r\n                      throw `Field \"${key}\" matches filter value \"${rule.comparison_value}\" for entry.`\r\n                    }\r\n                    break;\r\n                  case 'regex-delete-match':\r\n                    if (key in result) {\r\n                      try {\r\n                        let newValue = regexDeleteMatch(entry[key], rule.comparison_value);\r\n                        result[rule.field] = newValue;\r\n                        entry[key] = newValue;\r\n                      } catch {\r\n                        let errorMsg = `RegexDeleteMatch failed for field ${rule.field}.`;\r\n                        uploader.postError(4220, errorMsg, blueprint.id);\r\n                        result[rule.field] = entry[key];\r\n                      }\r\n                    }\r\n                    break;\r\n                  case 'regex-replace-match':\r\n                    if (key in result) {\r\n                      try {\r\n                        let newValue = regexReplaceMatch(entry[key], rule.comparison_value, rule.replacement_value);\r\n                        result[rule.field] = newValue;\r\n                        entry[key] = newValue;\r\n                      } catch {\r\n                        let errorMsg = `RegexReplaceMatch failed for field ${rule.field}.`;\r\n                        uploader.postError(4221, errorMsg, blueprint.id);\r\n                        result[rule.field] = entry[key];\r\n                      }\r\n                    }\r\n                    break;\r\n                  case 'regex-delete-row':\r\n                    if (key in entry) {\r\n                      let deleteRow = false;\r\n                      try {\r\n                        deleteRow = regexDeleteRow(entry[key], rule.comparison_value);\r\n                      } catch {\r\n                        let errorMsg = `RegexDeleteRow failed for field ${rule.field}.`;\r\n                        uploader.postError(4222, errorMsg, blueprint.id);\r\n                        break;\r\n                      }\r\n                      if (deleteRow) {\r\n                        // discard entry\r\n                        throw `Field \"${key}\" matches RegExp \"${rule.comparison_value}\".`\r\n                      }\r\n                    }\r\n                    break;\r\n                  default: break;\r\n                }\r\n              });\r\n            }\r\n            extractedData.push(result);\r\n          } catch (e) {\r\n            nEntriesFilteredOut += 1;\r\n          }\r\n\r\n          for (let [key, value] of  keyMap.entries()) {\r\n            uploader.blueprintData[blueprintID].extracted_fields.set(key, value);\r\n          }\r\n\r\n        })\r\n        uploader.blueprintData[blueprintID].extracted_data = extractedData;\r\n        extractedData = null;\r\n        if (nEntriesWithMissingFields === fileContent.length) {\r\n          let errorMsg = `No data extracted: Expected fields missing in ${nEntriesWithMissingFields}/${fileContent.length} entries.`;\r\n          uploader.postError(4201, errorMsg, blueprint.id);\r\n          uploader.recordError(uploader.$t('error-all-expected-fields-missing'), blueprint.id.toString());\r\n        }\r\n        else if (nEntriesFilteredOut === fileContent.length) {\r\n          let errorMsg = `No data extracted: All entries (${nEntriesFilteredOut}/${fileContent.length}) were filtered out.`;\r\n          uploader.postError(4204, errorMsg, blueprint.id);\r\n          uploader.recordError(uploader.$t('error-all-fields-filtered-out'), blueprint.id.toString());\r\n        }\r\n        else if ((nEntriesWithMissingFields + nEntriesFilteredOut) === fileContent.length) {\r\n          let errorMsg = `No data extracted: Expected fields missing in ${nEntriesWithMissingFields}/${fileContent.length} entries and ${nEntriesFilteredOut}/${fileContent.length} filtered out.`;\r\n          uploader.postError(4205, errorMsg, blueprint.id);\r\n          uploader.recordError(uploader.$t('error-all-fields-filtered-out'), blueprint.id.toString());\r\n        } else if (nEntriesFilteredOut > 0) {\r\n          let msg = `${nEntriesFilteredOut}/${fileContent.length} rows omitted due to a filter rule match.`;\r\n          uploader.postError(4206, msg, blueprint.id);\r\n        }\r\n\r\n        try {\r\n          let msg = `${uploader.blueprintData[blueprintID].extracted_data.length} entries were extracted.`;\r\n          uploader.postError(7004, msg, blueprint.id);\r\n        } catch {\r\n          // continue regardless of error\r\n        }\r\n      }\r\n    },\r\n\r\n    getNestedJsonEntry(fileContent, path) {\r\n      path = path.replace(/\\[(\\w+)\\]/g, '.$1'); // convert indexes to properties\r\n      path = path.replace(/^\\./, '');           // strip a leading dot\r\n      let a = path.split('.');\r\n      for (let i = 0, n = a.length; i < n; ++i) {\r\n        let k = a[i];\r\n        if (k in fileContent) {\r\n          fileContent = fileContent[k];\r\n        } else {\r\n          return;\r\n        }\r\n      }\r\n      return fileContent;\r\n    },\r\n\r\n    /**\r\n     * Emit data to UploaderApp.\r\n     */\r\n    emitToParent() {\r\n      let dataToEmit = JSON.parse(JSON.stringify(this.blueprintData));\r\n\r\n      if (this.combinedConsent === false) {\r\n        Object.keys(dataToEmit).forEach(key => {\r\n          if (dataToEmit[key].consent === null) {\r\n            dataToEmit[key].consent = null;\r\n            dataToEmit[key].extracted_data = [];\r\n          }\r\n          else if (dataToEmit[key].consent === 'false') {\r\n            dataToEmit[key].extracted_data = [];\r\n            dataToEmit[key].consent = false;\r\n          } else if (dataToEmit[key].consent === 'true') {\r\n            dataToEmit[key].consent = true;\r\n          }\r\n        })\r\n      } else {\r\n        let consent = this.combinedDonation;\r\n        Object.keys(dataToEmit).forEach(key => {\r\n          if (consent === null) {\r\n            dataToEmit[key].consent = null;\r\n            dataToEmit[key].extracted_data = [];\r\n          } else if (consent === 'false') {\r\n            dataToEmit[key].consent = false;\r\n            dataToEmit[key].extracted_data = [];\r\n          } else if (consent === 'true') {\r\n            dataToEmit[key].consent = true;\r\n          }\r\n        })\r\n      }\r\n\r\n      this.$emit('changedData', dataToEmit);\r\n    },\r\n\r\n    /**\r\n     * Resets the client-side error log.\r\n     */\r\n    resetErrorLog() {\r\n      this.generalErrors = [];\r\n      for (let bp in this.blueprintData){\r\n        this.blueprintData[bp].errors = [];\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Records errors that will be displayed to participants on the client-side.\r\n     * @param {string} e      Error message that is displayed to the user.\r\n     * @param {string} target If error relates to a specific blueprint a blueprint ID.\r\n     *                        'general' if it is a general error.\r\n     */\r\n    recordError(e, target) {\r\n      if (target == 'general') {\r\n        this.generalErrors.push(e)\r\n      } else {\r\n        this.blueprintData[target].errors.push(e);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Posts error to server through DDM's exception API (endpoint specified\r\n     * in the exceptionUrl variable). Targeted at researchers administrating\r\n     * the project.\r\n     * @param {number}  code        Exception code (see DDM documentation).\r\n     * @param {string}  msg         Exception description that will be submitted to\r\n     *                              the server-side exception log.\r\n     * @param {number}  blueprintID ID of related blueprint. Default is null.\r\n     */\r\n    postError(code, msg, blueprintID=null) {\r\n      // Limit the number of times an error message is posted to the server.\r\n      if (blueprintID != null) {\r\n        let bp = this.blueprintData[blueprintID];\r\n        if (!(code in bp.error_log)) {\r\n          bp.error_log[code] = 1;\r\n        } else {\r\n          bp.error_log[code] += 1;\r\n        }\r\n        if (bp.error_log[code] > 5) {\r\n          return;\r\n        }\r\n      }\r\n\r\n      let data = {\r\n        'status_code': code,\r\n        'message': this.name + ': ' + msg,\r\n        'raised_by': 'client',\r\n        'blueprint': blueprintID\r\n      }\r\n      axios.post(this.exceptionUrl, data)\r\n          .catch(e => console.error(`Could not post error message, ${e}`));\r\n    },\r\n\r\n    /**\r\n     * Updates the upload status displayed to the participant.\r\n     * Status will be updated to either 'success', 'failed', or 'partial'.\r\n     */\r\n    updateStatus() {\r\n      let nNothingExtracted = 0;\r\n      let nSuccess = 0;\r\n      let nFailed = 0;\r\n      let nBlueprints = Object.keys(this.blueprintData).length;\r\n      console.log(this.generalErrors)\r\n      console.log(this.generalErrors.length)\r\n      for (let bp in this.blueprintData){\r\n        if (this.generalErrors.length !== 0) {\r\n          this.blueprintData[bp].status = 'failed';\r\n          this.blueprintData[bp].consent = 'false';\r\n          nFailed += 1;\r\n          continue;\r\n        }\r\n\r\n        if (this.blueprintData[bp].errors.length) {\r\n          let errorSet = new Set(this.blueprintData[bp].errors);\r\n\r\n          if (errorSet.size === 1 && (errorSet.has(this.$t('error-all-fields-filtered-out')) || errorSet.has(this.$t('error-no-data-in-file')))) {\r\n            this.blueprintData[bp].status = 'nothing extracted';\r\n            this.blueprintData[bp].consent = 'false';\r\n            nNothingExtracted += 1;\r\n          } else {\r\n            this.blueprintData[bp].status = 'failed';\r\n            this.blueprintData[bp].consent = 'false';\r\n            nFailed += 1;\r\n          }\r\n        } else {\r\n          this.blueprintData[bp].status = 'success';\r\n          nSuccess += 1;\r\n          // this.blueprintData[bp].consent = 'true';\r\n        }\r\n      }\r\n\r\n      this.$nextTick(function () {\r\n        let modalIcon = document.getElementById('ul-modal-info-icon');\r\n\r\n        if (nSuccess === nBlueprints) {\r\n          this.uploadStatus = 'success';\r\n          modalIcon.className = 'bi bi-file-check text-success';\r\n          this.ulModalInfoTitle = this.$t('ul-success-modal-title');\r\n          this.ulModalInfoMsg = this.$t('ul-success-modal-body');\r\n\r\n        } else if (nNothingExtracted === nBlueprints) {\r\n          this.uploadStatus = 'partial';\r\n          modalIcon.className = 'bi bi-exclamation-diamond text-orange';\r\n          this.ulModalInfoTitle = this.$t('ul-nothing-extracted-modal-title');\r\n          this.ulModalInfoMsg = this.$t('ul-nothing-extracted-modal-body');\r\n\r\n          this.$refs.ulInfoModal.style.display = 'block';\r\n          this.$refs.modalBackdrop.style.display = 'block';\r\n\r\n        } else if ((nSuccess + nNothingExtracted) === nBlueprints) {\r\n          this.uploadStatus = 'success';\r\n          modalIcon.className = 'bi bi-file-check text-success';\r\n          this.ulModalInfoTitle = this.$t('ul-success-modal-title');\r\n          this.ulModalInfoMsg = this.$t('ul-success-modal-body');\r\n\r\n        } else {\r\n          this.uploadStatus = 'failed';\r\n          modalIcon.className = 'bi bi-x-octagon text-danger';\r\n          this.ulModalInfoTitle = this.$t('ul-failed-modal-title');\r\n          this.ulModalInfoMsg = this.$t('ul-failed-modal-body');\r\n\r\n          for (let bp in this.blueprintData){\r\n            this.blueprintData[bp].status = 'failed';\r\n          }\r\n          this.$refs.ulInfoModal.style.display = 'block';\r\n          this.$refs.modalBackdrop.style.display = 'block';\r\n        }\r\n      });\r\n    },\r\n\r\n    showHideData(bpId) {\r\n      let elementId = 'donation-container-' + bpId;\r\n      let target = document.getElementById(elementId);\r\n      let targetLabel = document.getElementById(elementId.concat('-toggle-label'));\r\n      let controlElement = document.getElementById('expansion-control-' + bpId);\r\n\r\n      let newLabel = '';\r\n      if (target.classList.contains('ul-data-condensed')) {\r\n        target.classList.replace('ul-data-condensed', 'ul-data-expanded');\r\n        controlElement.classList.replace('control-condensed', 'control-expanded');\r\n        newLabel = this.$t('hide-extracted-data');\r\n      } else {\r\n        target.classList.replace('ul-data-expanded', 'ul-data-condensed');\r\n        controlElement.classList.replace('control-expanded', 'control-condensed');\r\n        newLabel = this.$t('show-extracted-data');\r\n      }\r\n      targetLabel.innerHTML = newLabel;\r\n    },\r\n\r\n    closeUlInfoModal() {\r\n      this.$refs.ulInfoModal.style.display = 'none';\r\n      this.$refs.modalBackdrop.style.display = 'none';\r\n    },\r\n\r\n    updateFbPos(bpId, dir) {\r\n      let stepSize = 10;\r\n      let bp = this.blueprintData[bpId];\r\n      if (dir === 'up') {\r\n        bp.fb_pos_lower += stepSize;\r\n        bp.fb_pos_upper += stepSize;\r\n      } else {\r\n        if (bp.fb_pos_lower < stepSize) {\r\n          bp.fb_pos_lower = 0;\r\n          bp.fb_pos_upper = stepSize;\r\n        } else {\r\n          bp.fb_pos_lower -= stepSize;\r\n          bp.fb_pos_upper -= stepSize;\r\n        }\r\n      }\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.accordion-button:focus {\r\n  outline: none;\r\n  box-shadow: none;\r\n}\r\n.accordion-button:not(.collapsed) {\r\n  background-color: white;\r\n  color: black;\r\n  border-bottom: none;\r\n  box-shadow: none;\r\n}\r\n.accordion-button {\r\n  color: black;\r\n  border-bottom: none;\r\n}\r\n.accordion-button:not(.collapsed)::after {\r\n  background-image: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23212529'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e\");\r\n}\r\n.accordion-button {\r\n  border-radius: 0 !important;\r\n}\r\n@media (max-width: 768px) {\r\n  .accordion-body {\r\n    padding: 10px 5px;\r\n  }\r\n}\r\n.form-check-label {\r\n  cursor: pointer;\r\n}\r\n.ul-success {\r\n\r\n}\r\n.ul-status-icon {\r\n  font-size: 2.5rem;\r\n}\r\n.ul-status p,\r\n.ul-status-description p,\r\n.ul-status-message p,\r\n.ul-status-message ul {\r\n  margin: 0;\r\n}\r\n.text-grey {\r\n  color: #d0d0d0;\r\n}\r\n.bp-description {\r\n  font-weight: bold;\r\n}\r\n.ul-data-container {\r\n  display: block;\r\n}\r\n.ul-data-condensed {\r\n  max-height: 180px;\r\n  overflow: hidden;\r\n}\r\n.ul-data-expanded {\r\n  color: black;\r\n}\r\n.ul-data-container th {\r\n  position: sticky;\r\n  top: 0;\r\n  z-index: 1;\r\n  background-color: white !important;\r\n  box-shadow: 0px 1px black;\r\n  min-width: 200px;\r\n}\r\n.ul-data-expansion-control {\r\n  text-align: center;\r\n  z-index: 10;\r\n  position: relative;\r\n  cursor: pointer;\r\n}\r\n.control-expanded {\r\n  background: white;\r\n  margin-top: 0;\r\n  height:30px;\r\n}\r\n.control-condensed {\r\n  background: rgb(255, 255, 255);\r\n  background: linear-gradient(180deg, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 50%);\r\n  height: 75px;\r\n  margin-top: -74px;\r\n  padding-top: 45px;\r\n}\r\n.fs-09 {\r\n  font-size: 0.9rem;\r\n}\r\n.w-small {\r\n  max-width: 33px;\r\n}\r\n.consent-question-container {\r\n  width: 100%;\r\n}\r\n.feedback-col {\r\n  padding-left: 46px;\r\n}\r\n.extraction-information-container {\r\n  padding-top: 6px;\r\n}\r\n.ul-status {\r\n  border-top: 1px solid #212529;\r\n}\r\n.extraction-information-container .ul-status:last-of-type {\r\n  border-bottom: 1px solid #212529;\r\n}\r\n.text-orange {\r\n  color: #ef7000;\r\n}\r\n.upload-other a {\r\n  color: #767676 !important;\r\n}\r\n.ul-status-message {\r\n  padding-left: 25px;\r\n}\r\n.ul-data-container table {\r\n  table-layout: auto;\r\n  min-width: 100%;\r\n}\r\n.ul-data-container table td {\r\n  max-width: 33%;\r\n  word-break: break-all;\r\n}\r\n.data-donation-table {\r\n  width: 100%;\r\n  overflow-x: scroll;\r\n  margin-bottom: 15px;\r\n  display: block;\r\n}\r\n.data-donation-table tbody {\r\n  border-top: none;\r\n}\r\n.uploader-container {\r\n  border-top: 2px solid #000;\r\n  border-bottom: 2px solid #000;\r\n}\r\n.btn-pagination {\r\n  background: #dbdbdb;\r\n  border: none;\r\n  color: black;\r\n}\r\n.btn-active:hover {\r\n  color: black !important;\r\n  background: #cacaca;\r\n}\r\n.btn-muted {\r\n  display: inline-block;\r\n  vertical-align: middle;\r\n}\r\n\r\n.selected-donate-agree {\r\n  background: #069143 !important;\r\n  color: white !important;\r\n  font-weight: bold;\r\n}\r\n\r\n.selected-donate-disagree {\r\n  background: #f38896 !important;\r\n  font-weight: bold;\r\n}\r\n\r\n.donation-btn {\r\n  width: 120px;\r\n  color: #000;\r\n  background-color: #dfdfdf;\r\n  border: none;\r\n  margin: 5px;\r\n}\r\n\r\n@media (min-width: 576px) {}\r\n\r\n@media (min-width: 768px) {\r\n  .uploader-container {\r\n    box-shadow: 6px 7px 20px #80808040;\r\n    border-radius: 8px;\r\n    border: none;\r\n  }\r\n}\r\n\r\n@media (min-width: 992px) {}\r\n\r\n@media (min-width: 1200px) {}\r\n\r\n/* XX-Large devices (larger desktops, 1400px and up) */\r\n@media (min-width: 1400px) {}\r\n\r\n</style>\r\n","<i18n src=\"../translations/donation_instructions.json\"></i18n>\r\n\r\n<template>\r\n  <div :id=\"'carousel-' + componentId\" class=\"carousel carousel-dark slide\" data-bs-interval=\"false\" data-bs-ride=\"carousel\" data-bs-wrap=\"false\" >\r\n\r\n    <div class=\"carousel-indicators\" v-for=\"(i, index) in instructions\" :key=\"index\">\r\n      <template v-for=\"(i, index) in instructions\" :key=\"index\">\r\n        <button type=\"button\"\r\n                :data-bs-slide-to=\"index\"\r\n                :class=\"{ 'active step-arrow-active': index === currentStep }\"\r\n                class=\"step-arrow\"\r\n                :aria-current=\"{ 'true': index === 0 }\"\r\n                :data-bs-target=\"'#carousel-' + componentId\"\r\n                aria-label=\"Slide 1\"\r\n                @click=\"setStep(index)\">\r\n        </button>\r\n      </template>\r\n    </div>\r\n\r\n    <div class=\"carousel-inner\">\r\n      <div\r\n          v-for=\"(i, index) in instructions\"\r\n          :key=\"index\"\r\n          class=\"carousel-item\"\r\n          :class=\"{ 'active': index === currentStep }\"\r\n          v-html=\"i.text\">\r\n      </div>\r\n    </div>\r\n\r\n    <button\r\n        class=\"carousel-control-prev\"\r\n        :class=\"{ 'd-none': currentStep === 0 }\"\r\n        type=\"button\"\r\n        data-bs-target=\"#carousel-0\"\r\n        @click=\"stepDown\">\r\n      <span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\r\n      <span class=\"visually-hidden\">Previous</span>\r\n    </button>\r\n    <button\r\n        class=\"carousel-control-next\"\r\n        :class=\"{ 'd-none': currentStep === (instructions.length - 1) }\"\r\n        type=\"button\"\r\n        data-bs-target=\"#carousel-0\"\r\n        @click=\"stepUp\">\r\n      <span class=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\r\n      <span class=\"visually-hidden\">Next</span>\r\n    </button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"DonationInstructions\",\r\n  props: {\r\n    instructions: Array,\r\n    componentId: Number\r\n  },\r\n  data() {\r\n    return {\r\n      currentStep: 0,\r\n    }\r\n  },\r\n  methods: {\r\n    stepDown() {\r\n      if (this.currentStep > 0) {\r\n        this.currentStep -= 1;\r\n      }\r\n    },\r\n    stepUp() {\r\n      if (this.currentStep < (this.instructions.length - 1)) {\r\n        this.currentStep += 1;\r\n      }\r\n    },\r\n    setStep(step) {\r\n      this.currentStep = step;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.carousel {\r\n  min-height: 250px;\r\n}\r\n.carousel-control-next,\r\n.carousel-control-prev {\r\n  width: auto;\r\n}\r\n.carousel-inner {\r\n  padding-left: 42px;\r\n  padding-right: 42px;\r\n}\r\n@media (max-width: 768px) {\r\n  .carousel-inner {\r\n    padding-left: 10px;\r\n    padding-right: 10px;\r\n  }\r\n  .carousel-control-next,\r\n  .carousel-control-prev {\r\n    width: 30px;\r\n    opacity: 0.1;\r\n  }\r\n}\r\n.carousel-item {\r\n  transition: transform .3s ease, opacity .3s ease-out\r\n}\r\n.step-arrow {\r\n  opacity: 0.2;\r\n}\r\n.step-arrow-active {\r\n  opacity: 0.9;\r\n}\r\n</style>\r\n","export default function (Component) {\n  Component.__i18n = Component.__i18n || []\n  Component.__i18n.push({\n    \"locale\": \"\",\n    \"resource\": {\n      \"en\": {\n        \"steps\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Steps\"])}\n      },\n      \"de\": {\n        \"steps\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Schritte\"])}\n      }\n    }\n  })\n}\n","import { render } from \"./DonationInstructions.vue?vue&type=template&id=c9e828fc&scoped=true\"\nimport script from \"./DonationInstructions.vue?vue&type=script&lang=js\"\nexport * from \"./DonationInstructions.vue?vue&type=script&lang=js\"\n\nimport \"./DonationInstructions.vue?vue&type=style&index=0&id=c9e828fc&scoped=true&lang=css\"\n/* custom blocks */\nimport block0 from \"../translations/donation_instructions.json?vue&type=custom&index=0&blockType=i18n&issuerPath=C%3A%5CUsers%5Cnipfif%5CPyCharmProjects%5CDDM%5Cfrontend%5CUploaderApp%5Csrc%5Ccomponents%5CDonationInstructions.vue&external\"\nif (typeof block0 === 'function') block0(script)\n\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-c9e828fc\"]])\n\nexport default __exports__","import { DateTime } from \"luxon\";\r\n\r\nfunction getOriginalValueAsString(v) {\r\n  if (typeof v !== 'string') {\r\n    return JSON.stringify(v);\r\n  } else {\r\n    return v;\r\n  }\r\n}\r\n\r\nfunction isNumeric(v){\r\n  if (typeof v === 'number') return true;\r\n  if (typeof v != 'string') return false;\r\n  return !isNaN(v) && !isNaN(parseFloat(v));\r\n}\r\n\r\nfunction bothDates(entryValue, comparisonValue) {\r\n  try {\r\n      if (DateTime.fromISO(entryValue).isValid && DateTime.fromISO(comparisonValue).isValid ) {\r\n    // e.g., \"2016-05-25T092415.123\", \"2016-05-25\"\r\n    return true;\r\n\r\n    } else if (DateTime.fromRFC2822(entryValue).isValid && DateTime.fromRFC2822(comparisonValue).isValid ) {\r\n      // e.g., \"Tue, 01 Nov 2016 13:23:12 +0630\"\r\n      return true;\r\n\r\n    } else if (DateTime.fromHTTP(entryValue).isValid && DateTime.fromHTTP(comparisonValue).isValid ) {\r\n      // e.g., \"Sunday, 06-Nov-94 08:49:37 GMT\"\r\n      return true;\r\n\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n  catch(err) {\r\n    return false;\r\n  }\r\n}\r\n\r\nfunction getDates(entryValue, comparisonValue) {\r\n  if (DateTime.fromISO(entryValue).isValid && DateTime.fromISO(comparisonValue).isValid) {\r\n    return [DateTime.fromISO(entryValue), DateTime.fromISO(comparisonValue)];\r\n\r\n  } else if (DateTime.fromRFC2822(entryValue).isValid && DateTime.fromRFC2822(comparisonValue).isValid) {\r\n    return [DateTime.fromRFC2822(entryValue), DateTime.fromRFC2822(comparisonValue)];\r\n\r\n  } else if (DateTime.fromHTTP(entryValue).isValid && DateTime.fromHTTP(comparisonValue).isValid) {\r\n    return [DateTime.fromHTTP(entryValue), DateTime.fromHTTP(comparisonValue)];\r\n\r\n  } else {\r\n    return [null, null]\r\n  }\r\n}\r\n\r\nfunction prepareValues(entryValue, comparisonValue) {\r\n  if (isNumeric(entryValue) && isNumeric(comparisonValue)) {\r\n    entryValue = parseFloat(entryValue);\r\n    comparisonValue = parseFloat(comparisonValue);\r\n  } else if (bothDates(entryValue, comparisonValue)) {\r\n    [entryValue, comparisonValue] = getDates(entryValue, comparisonValue)\r\n  } else {\r\n    entryValue = getOriginalValueAsString(entryValue);\r\n    comparisonValue = getOriginalValueAsString(comparisonValue);\r\n  }\r\n  return [entryValue, comparisonValue];\r\n}\r\n\r\nexport function valueIsEqual(entryValue, comparisonValue) {\r\n  entryValue = getOriginalValueAsString(entryValue);\r\n  comparisonValue = getOriginalValueAsString(comparisonValue);\r\n  return entryValue === comparisonValue;\r\n}\r\n\r\nexport function valueIsNotEqual(entryValue, comparisonValue) {\r\n  entryValue = getOriginalValueAsString(entryValue);\r\n  comparisonValue = getOriginalValueAsString(comparisonValue);\r\n  return entryValue !== comparisonValue;\r\n}\r\n\r\nexport function valueIsSmallerOrEqual(entryValue, comparisonValue) {\r\n  if (bothDates(entryValue, comparisonValue) ||\r\n    (isNumeric(entryValue) && isNumeric(comparisonValue))) {\r\n    [entryValue, comparisonValue] = prepareValues(entryValue, comparisonValue);\r\n    return entryValue <= comparisonValue;\r\n  } else {\r\n    return false;\r\n  }\r\n}\r\n\r\nexport function valueIsGreaterOrEqual(entryValue, comparisonValue) {\r\n  if (bothDates(entryValue, comparisonValue) ||\r\n    (isNumeric(entryValue) && isNumeric(comparisonValue))) {\r\n    [entryValue, comparisonValue] = prepareValues(entryValue, comparisonValue);\r\n    return entryValue >= comparisonValue;\r\n  } else {\r\n    return false;\r\n  }\r\n}\r\n\r\nexport function valueIsSmaller(entryValue, comparisonValue) {\r\n  if (bothDates(entryValue, comparisonValue) ||\r\n    (isNumeric(entryValue) && isNumeric(comparisonValue))) {\r\n    [entryValue, comparisonValue] = prepareValues(entryValue, comparisonValue);\r\n    return entryValue < comparisonValue;\r\n  } else {\r\n    return false;\r\n  }\r\n}\r\n\r\nexport function valueIsGreater(entryValue, comparisonValue) {\r\n  if (bothDates(entryValue, comparisonValue) ||\r\n    (isNumeric(entryValue) && isNumeric(comparisonValue))) {\r\n    [entryValue, comparisonValue] = prepareValues(entryValue, comparisonValue);\r\n    return entryValue > comparisonValue;\r\n  } else {\r\n    return false;\r\n  }\r\n}\r\n\r\nexport function regexDeleteMatch(entryValue, comparisonValue) {\r\n  let originalValue = getOriginalValueAsString(entryValue);\r\n  let comparisonRegExp = RegExp(comparisonValue, 'g');\r\n  return originalValue.replaceAll(comparisonRegExp, '');\r\n}\r\n\r\nexport function regexReplaceMatch(entryValue, comparisonValue, replacementValue) {\r\n  let originalValue = getOriginalValueAsString(entryValue);\r\n  let comparisonRegExp = RegExp(comparisonValue, 'g');\r\n  return originalValue.replaceAll(comparisonRegExp, replacementValue);\r\n}\r\n\r\nexport function regexDeleteRow(entryValue, comparisonValue) {\r\n  let originalValue = getOriginalValueAsString(entryValue);\r\n  let comparisonRegExp = RegExp(comparisonValue, 'g');\r\n  return comparisonRegExp.test(originalValue);\r\n}\r\n","export default function (Component) {\n  Component.__i18n = Component.__i18n || []\n  Component.__i18n.push({\n    \"locale\": \"\",\n    \"resource\": {\n      \"en\": {\n        \"instructions\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"How it works\"])},\n        \"no-instructions-defined\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"No instructions defined\"])},\n        \"upload-file\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"File Upload\"])},\n        \"upload-different-file\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Upload a different file\"])},\n        \"upload-success\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Upload was successful\"])},\n        \"upload-failed\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Upload failed\"])},\n        \"choose-different-file\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"select a different file\"])},\n        \"choose-file\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Select File\"])},\n        \"file-is-being-uploaded\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"file is being uploaded\"])},\n        \"extracted-files\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Extracted files\"])},\n        \"upload-success-short\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Successfully Uploaded\"])},\n        \"upload-failed-short\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Upload Failed\"])},\n        \"show-extracted-data\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Show all data\"])},\n        \"hide-extracted-data\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Show less\"])},\n        \"donation-question\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Do you agree to donate and submit the data listed above?\"])},\n        \"donation-agree\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Yes\"])},\n        \"donation-disagree\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"No\"])},\n        \"extracted-data-intro\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"The following data have been extracted:\"])},\n        \"file\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"file\"])},\n        \"error-multiple-files\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"More than one file uploaded, but only one is expected.\"])},\n        \"error-not-zip\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"A zip-file is expected but another file type was uploaded.\"])},\n        \"error-generic\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"An error occurred: \"])},\n        \"error-zip-corrupted\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"The provided zip file is corrupted. Please download the zip file again from the original source and try again.\"])},\n        \"error-zip-encrypted\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"The provided zip file is encrypted. Unfortunately, encrypted files are not supported.\"])},\n        \"error-all-expected-fields-missing\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Uploaded file does not contain all expected data fields.\"])},\n        \"error-regex-not-matched\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"The provided zip container does not contain the matching file.\"])},\n        \"error-json-syntax\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"The provided file contains a syntax error.\"])},\n        \"error-wrong-file-type\": (ctx) => {const { normalize: _normalize, interpolate: _interpolate, named: _named } = ctx;return _normalize([\"The provided file is of type '\", _interpolate(_named(\"actualType\")), \"' but '\", _interpolate(_named(\"expectedType\")), \"' is expected.\"])},\n        \"error-all-fields-filtered-out\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"All entries were filtered out and deleted.\"])},\n        \"error-no-data-in-file\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"There was no information about this in the file.\"])},\n        \"extraction-failed\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Information could not be extracted from uploaded file\"])},\n        \"partial-upload-status\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Only partially uploaded\"])},\n        \"partial-upload-message\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"The file was successfully uploaded. Below you can see which data were extracted.\"])},\n        \"success-upload-message\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"The file was successfully uploaded. Below you can see which data were extracted.\"])},\n        \"data-extraction-intro\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"The following information will be extracted from the file:\"])},\n        \"ul-success-modal-title\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Upload Complete\"])},\n        \"ul-success-modal-body\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"All data has been uploaded successfully. Please look at the uploaded data and indicate whether you want to donate the data or not.\"])},\n        \"ul-failed-modal-title\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"An Error Occurred\"])},\n        \"ul-failed-modal-body\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Unfortunately, an error occurred while uploading your file. Please have a look at the error description in the File Upload and Data Donation sections and try again if necessary.\"])},\n        \"ul-partial-modal-title\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Upload Partially Successful\"])},\n        \"ul-partial-modal-body\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"<p>Only parts of the data could be uploaded successfully.</p><p>In the 'Data Donation' section you will find more information on which file a problem occurred. This information may help you to identify and fix the problem.</p><p>If not, you can inspect the uploaded data, indicate whether you want to donate the data or not, and continue.</p>\"])},\n        \"ul-nothing-extracted-modal-title\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Upload Successful but No Data Extracted\"])},\n        \"ul-nothing-extracted-modal-body\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"<p>The data was successfully uploaded but no data were extracted. It is possible, that your data file did not contain any information relevant to this research project.</p><p>If you think you chose the wrong file, you can try the upload again. Otherwise, you can continue by clicking on 'submit data'.</p>\"])},\n        \"extracted-data\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"If you consent to the donation, the following data will be submitted:\"])},\n        \"extraction-disclaimer\": (ctx) => {const { normalize: _normalize, interpolate: _interpolate, named: _named } = ctx;return _normalize([\"The rows \", _interpolate(_named(\"lower\")), \" to \", _interpolate(_named(\"upper\")), \" from a total of \", _interpolate(_named(\"total\")), \" extracted data entries are displayed.\"])},\n        \"previous-page\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"previous page\"])},\n        \"next-page\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"next page\"])}\n      },\n      \"de\": {\n        \"instructions\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"So funktioniert es\"])},\n        \"no-instructions-defined\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Es wurden keine Instruktionen definiert\"])},\n        \"upload-file\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Datei hochladen\"])},\n        \"upload-different-file\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Andere Datei hochladen\"])},\n        \"upload-success\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Upload erfolgreich abgeschlossen\"])},\n        \"upload-failed\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Etwas ging schief\"])},\n        \"choose-different-file\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"eine andere Datei auswählen\"])},\n        \"choose-file\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Datei auswählen\"])},\n        \"file-is-being-uploaded\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Datei wird hochgeladen\"])},\n        \"extracted-files\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Ausgelesene Dateien\"])},\n        \"upload-success-short\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"erfolgreich hochgeladen\"])},\n        \"upload-failed-short\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Upload fehlgeschlagen\"])},\n        \"show-extracted-data\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"alle Daten anzeigen\"])},\n        \"hide-extracted-data\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"weniger anzeigen\"])},\n        \"donation-question\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Sind Sie damit einverstanden, diese Daten zu spenden und zu übermitteln?\"])},\n        \"donation-agree\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Ja\"])},\n        \"donation-disagree\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Nein\"])},\n        \"extracted-data-intro\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Die folgenden Daten wurden ausgelesen:\"])},\n        \"file\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Datei\"])},\n        \"error-multiple-files\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Mehr als eine Datei hochgeladen, aber nur eine wird erwartet\"])},\n        \"error-not-zip\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Es wird eine Zip-Datei erwartet, aber es wurde ein anderer Dateityp hochgeladen.\"])},\n        \"error-generic\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Es ist ein Fehler aufgetreten: \"])},\n        \"error-zip-corrupted\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Die hochgeladene Zip-Datei scheint beschädigt zu sein. Bitte laden Sie die Zip-Datei erneut von der Originalquelle herunter und versuchen Sie, sie erneut hochzuladen.\"])},\n        \"error-zip-encrypted\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Die hochgeladene Zip-Datei ist password-geschützt. Leider werden verschlüsselte Dateien nicht unterstützt.\"])},\n        \"error-all-expected-fields-missing\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Die hochgeladene Datei enthält nicht alle erwarteten Datenfelder.\"])},\n        \"error-regex-not-matched\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Die entsprechende Datei ist nicht im hochgeladenen Zip-Container enthalten.\"])},\n        \"error-json-syntax\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Die json-Datei enthält einen Syntaxfehler.\"])},\n        \"error-wrong-file-type\": (ctx) => {const { normalize: _normalize, interpolate: _interpolate, named: _named } = ctx;return _normalize([\"Die ausgewählte Datei ist eine '\", _interpolate(_named(\"actualType\")), \"'-Datei; es wird aber eine '\", _interpolate(_named(\"expectedType\")), \"'-Datei erwartet.\"])},\n        \"error-all-fields-filtered-out\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Alle Einträge in der hochgeladenen Datei wurden herausgefiltert.\"])},\n        \"error-no-data-in-file\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Dazu waren keine Informationen in der Datei enthalten.\"])},\n        \"extraction-failed\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Es konnten nicht alle erwarteten Dateien ausgelesen werden.\"])},\n        \"partial-upload-status\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Nur teilweise hochgeladen\"])},\n        \"partial-upload-message\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Die Datei wurde erfolgreich hochgeladen. Unten sehen Sie, welche Daten ausgelesen wurden.\"])},\n        \"success-upload-message\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Die Datei wurde erfolgreich hochgeladen. Unten sehen Sie, welche Daten ausgelesen wurden.\"])},\n        \"data-extraction-intro\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Die folgenden Informationen werden aus der Datei ausgelesen:\"])},\n        \"ul-success-modal-title\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Upload abgeschlossen\"])},\n        \"ul-success-modal-body\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Alle Daten wurden erfolgreich hochgeladen. Bitte schauen Sie sich die hochgeladenen Daten an und geben Sie jeweils an, ob Sie die Daten spenden möchten oder nicht.\"])},\n        \"ul-failed-modal-title\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Es ist ein Fehler aufgetreten\"])},\n        \"ul-failed-modal-body\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Leider ist beim Hochladen ihrer Datei ein Fehler aufgetreten. Bitte schauen Sie sich die Fehlerbeschreibung in den Abschnitten 'Daten hochladen' und 'Datenspende' an und versuchen Sie es gegebenenfalls erneut.\"])},\n        \"ul-partial-modal-title\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Upload teilweise erfolgreich\"])},\n        \"ul-partial-modal-body\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"<p>Es konnte nur ein Teil der Daten erfolgreich hochgeladen werden.</p><p>Im Bereich 'Datenspende' finden Sie weitere Informationen dazu, bei welchen Daten ein Problem aufgetreten ist. Gegebenenfalls helfen Ihnen diese Informationen das Problem zu identifizieren und zu beheben.</p><p>Falls nicht, können Sie sich die erfolgreich hochgeladenen Daten anschauen und entscheiden, ob Sie diese Daten spenden möchten oder nicht.</p>\"])},\n        \"ul-nothing-extracted-modal-title\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Upload erfolgreich, jedoch wurden keine Daten ausgelesen\"])},\n        \"ul-nothing-extracted-modal-body\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"<p>Die Daten wurden erfolgreich verarbeitet, aber es wurden keine Daten extrahiert. Es ist möglich, dass Ihre Datei keine für dieses Forschungsprojekt relevanten Informationen enthält.</p><p>Wenn Sie denken, dass Sie die falsche Datei ausgewählt haben, können Sie den Upload erneut versuchen.</p><p>Andernfalls können Sie fortfahren, indem Sie auf 'Daten übermitteln' klicken.</p>\"])},\n        \"extracted-data\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Wenn Sie der Datenspende zustimmen, werden die folgenden Daten übermittelt:\"])},\n        \"extraction-disclaimer\": (ctx) => {const { normalize: _normalize, interpolate: _interpolate, named: _named } = ctx;return _normalize([\"Es werden die Zeilen \", _interpolate(_named(\"lower\")), \" bis \", _interpolate(_named(\"upper\")), \" von insgesamt \", _interpolate(_named(\"total\")), \" ausgelesenen Einträgen angezeigt.\"])},\n        \"previous-page\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"vorherige Seite\"])},\n        \"next-page\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"nächste Seite\"])}\n      }\n    }\n  })\n}\n","import { render } from \"./FileUploader.vue?vue&type=template&id=3b27c09e&scoped=true\"\nimport script from \"./FileUploader.vue?vue&type=script&lang=js\"\nexport * from \"./FileUploader.vue?vue&type=script&lang=js\"\n\nimport \"./FileUploader.vue?vue&type=style&index=0&id=3b27c09e&scoped=true&lang=css\"\n/* custom blocks */\nimport block0 from \"../translations/file_uploader.json?vue&type=custom&index=0&blockType=i18n&issuerPath=C%3A%5CUsers%5Cnipfif%5CPyCharmProjects%5CDDM%5Cfrontend%5CUploaderApp%5Csrc%5Ccomponents%5CFileUploader.vue&external\"\nif (typeof block0 === 'function') block0(script)\n\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3b27c09e\"]])\n\nexport default __exports__","export default function (Component) {\n  Component.__i18n = Component.__i18n || []\n  Component.__i18n.push({\n    \"locale\": \"\",\n    \"resource\": {\n      \"en\": {\n        \"data-submit-wait\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Your input is being processed. Please wait a moment.\"])},\n        \"next-btn-label\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Next\"])},\n        \"consent-error-msg\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"You did not indicate for all uploads whether you consent to the donation of your data. Please go back and indicate whether you want to donate your data.\"])},\n        \"back-label\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"back\"])},\n        \"cancel-label\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Cancel\"])},\n        \"continue-anyway-label\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Yes, continue anyway\"])},\n        \"status-info-msg-not-all-attempted\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"You have skipped some data uploads. Are you sure you want to continue?\"])},\n        \"status-info-msg-none-attempted\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"You have not uploaded any data. Are you sure you want to continue?\"])}\n      },\n      \"de\": {\n        \"data-submit-wait\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Ihre Eingabe wird verarbeitet. Bitte haben Sie einen Moment Geduld.\"])},\n        \"next-btn-label\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Weiter\"])},\n        \"consent-error-msg\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Sie haben nicht bei allen Uploads angegeben, ob Sie mit der Spende Ihrer Daten einverstanden sind. Bitte gehen Sie zurück und geben Sie an, ob Sie mit der Spende Ihrer Daten einverstanden sind.\"])},\n        \"back-label\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"zurück\"])},\n        \"continue-anyway-label\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Ja, trotzdem fortfahren\"])},\n        \"cancel-label\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Abbrechen\"])},\n        \"status-info-msg-not-all-attempted\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Sie haben einige Daten nicht hochgeladen. Sind Sie sicher, dass Sie fortfahren möchten?\"])},\n        \"status-info-msg-none-attempted\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Sie haben keine Daten hochgeladen. Sind Sie sicher, dass Sie fortfahren möchten?\"])}\n      }\n    }\n  })\n}\n","import { render } from \"./UploaderApp.vue?vue&type=template&id=3ec96de8\"\nimport script from \"./UploaderApp.vue?vue&type=script&lang=js\"\nexport * from \"./UploaderApp.vue?vue&type=script&lang=js\"\n\nimport \"./UploaderApp.vue?vue&type=style&index=0&id=3ec96de8&lang=css\"\n/* custom blocks */\nimport block0 from \"./translations/uploader_app.json?vue&type=custom&index=0&blockType=i18n&issuerPath=C%3A%5CUsers%5Cnipfif%5CPyCharmProjects%5CDDM%5Cfrontend%5CUploaderApp%5Csrc%5CUploaderApp.vue&external\"\nif (typeof block0 === 'function') block0(script)\n\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue'\r\nimport UApp from './UploaderApp.vue'\r\nimport { createI18n } from 'vue-i18n'\r\n\r\nconst i18n = new createI18n({\r\n    fallbackLocale: 'en',\r\n})\r\n\r\nconst selector = \"#uapp\";\r\nconst mountEl = document.querySelector(selector);\r\nconst app = createApp(UApp, {...mountEl.dataset})\r\n\r\napp.use(i18n)\r\napp.mount(selector)\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.j = 898;","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t898: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkddm_vue_frontend\"] = self[\"webpackChunkddm_vue_frontend\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(98); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["class","id","ref","style","_createElementVNode","_createElementBlock","_Fragment","_renderList","$data","parsedUploadConfig","uploadConfig","_createBlock","_component_FileUploader","key","upload_type","name","blueprints","instructions","exceptionUrl","combined_consent","onChangedData","$options","updatePostData","_hoisted_1","_hoisted_2","type","onClick","_cache","$event","processData","_ctx","$t","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_toDisplayString","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","infoModalMsg","_hoisted_11","args","closeInfoModal","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","closeStatusModal","_hoisted_17","role","$props","length","componentId","_createVNode","_component_DonationInstructions","_createCommentVNode","uploadStatus","_hoisted_18","uploadAttempts","_hoisted_20","_hoisted_19","_hoisted_21","_hoisted_22","onChange","processFile","_hoisted_23","_createTextVNode","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","generalErrors","error","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","bp","_normalizeClass","blueprintData","toString","status","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","description","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_60","_hoisted_62","extracted_fields","values","value","extracted_data","slice","fb_pos_lower","fb_pos_upper","row","keys","_hoisted_64","_hoisted_63","_hoisted_65","_hoisted_66","updateFbPos","_hoisted_67","_hoisted_68","_hoisted_69","_hoisted_70","_hoisted_71","_hoisted_72","lower","upper","total","_hoisted_61","_hoisted_73","showHideData","_hoisted_76","_hoisted_75","_hoisted_74","combinedConsent","_hoisted_77","_hoisted_78","_hoisted_79","_hoisted_80","_hoisted_81","autocomplete","consent","emitToParent","required","_hoisted_82","for","_hoisted_83","_hoisted_84","_hoisted_85","_hoisted_86","_hoisted_87","_hoisted_88","errors","e","_hoisted_89","_hoisted_90","_hoisted_91","_hoisted_92","_hoisted_93","_hoisted_94","_hoisted_95","_hoisted_96","_hoisted_97","_hoisted_98","_hoisted_99","_hoisted_100","_hoisted_101","_hoisted_102","combinedDonation","_hoisted_103","_hoisted_104","_hoisted_105","_hoisted_106","ulModalInfoTitle","innerHTML","ulModalInfoMsg","_hoisted_107","_hoisted_108","_hoisted_109","_hoisted_110","closeUlInfoModal","_hoisted_111","i","index","currentStep","setStep","text","stepDown","stepUp","props","Array","Number","data","methods","this","step","Component","__i18n","push","ctx","normalize","_normalize","__exports__","getOriginalValueAsString","v","JSON","stringify","isNumeric","isNaN","parseFloat","bothDates","entryValue","comparisonValue","DateTime","fromISO","isValid","fromRFC2822","fromHTTP","err","getDates","prepareValues","valueIsEqual","valueIsNotEqual","valueIsSmallerOrEqual","valueIsGreaterOrEqual","valueIsSmaller","valueIsGreater","regexDeleteMatch","originalValue","comparisonRegExp","RegExp","replaceAll","regexReplaceMatch","replacementValue","regexDeleteRow","test","components","DonationInstructions","expectsZip","Boolean","String","emits","created","forEach","blueprintInfo","name_uploaded_file","Map","error_log","resetErrorLog","event","uploader","files","target","JSZip","then","z","blueprint","re","regex_path","reHasMatched","file","f","async","c","processContent","catch","postError","message","recordError","Object","myMess","statusCode","includes","format","endsWith","errorMsg","actualType","substr","lastIndexOf","expectedType","reader","FileReader","onload","content","result","readAsText","setTimeout","updateStatus","$nextTick","blueprintID","fileContent","extractedData","parse","json_extraction_root","getNestedJsonEntry","undefined","Symbol","iterator","parserResult","Papa","header","delimiter","csv_delimiter","nEntriesWithMissingFields","nEntriesFilteredOut","entry","missingFields","expected_fields","every","field","exp_fields_regex_matching","fieldRegex","filter","rules","filter_rules","keyMap","rule","regex_field","set","get","comparison_operator","comparison_value","newValue","replacement_value","deleteRow","entries","msg","path","replace","a","split","n","k","dataToEmit","$emit","code","axios","post","console","nNothingExtracted","nSuccess","nFailed","nBlueprints","log","errorSet","Set","size","has","modalIcon","document","getElementById","className","$refs","ulInfoModal","display","modalBackdrop","bpId","elementId","targetLabel","concat","controlElement","newLabel","classList","contains","dir","stepSize","interpolate","_interpolate","named","_named","FileUploader","actionUrl","language","$i18n","locale","postData","donationStatus","watch","val","getStatus","success","failed","pending","consentValid","consents","processingModal","infoModal","cleanConsent","skipStatus","statusModal","statusModalMsg","zipData","fileInputs","querySelectorAll","fi","disabled","form","FormData","zip","generateAsync","compression","compressionOptions","level","blob","append","fetch","method","body","response","redirected","window","location","href","url","info","render","i18n","createI18n","fallbackLocale","selector","mountEl","querySelector","app","createApp","UApp","dataset","use","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","splice","r","getter","__esModule","d","definition","o","defineProperty","enumerable","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}