<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>DDM | Data Integration</title>
    <link rel="prev" href="questionnaire_configuration.html">
    <link rel="next" href="../debriefing.html">
    <meta name="generator" content="Antora 3.1.10">
    <link rel="stylesheet" href="../../../../../_/css/site.css">
    <script>var uiRootPath = '../../../../../_'</script>
    <link rel="icon" href="../../../../../_/img/ddl_favicon_black.svg" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <div>
        <a class="navbar-item"><img src="../../../../../_/img/DDM_Logo_Schwarz.svg" height="50px"></a>
      </div>
      <div class="navbar-slogan">
        <a class="navbar-item">Data Donation Module Documentation</a>
      </div>
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field">
          <input id="search-input" type="text" placeholder="Search the docs">
        </div>
      </div>
      <!--
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
      -->
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="ddm" data-version="develop">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <!-- 
    <h3 class="title"><a href="../../../index.html">DDM</a></h3>
     -->
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link nav-link-1" href="../../../index.html"><strong>DDM Documentation</strong></a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle nav-item-toggle-level-1"></button>
    <a class="nav-link nav-link-1" href="../../index.html">Researchers</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link nav-link-2" href="../../create_project.html">Create a Project</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link nav-link-2" href="../../project_hub.html">Project Hub</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link nav-link-2" href="../../general_project_settings.html">General Project Settings</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle nav-item-toggle-level-2"></button>
    <a class="nav-link nav-link-2" href="../index.html">Project Configuration</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link nav-link-3" href="../briefing.html">Briefing Page</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle nav-item-toggle-level-3"></button>
    <span class="nav-text nav-text-3">Data Donation</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link nav-link-4" href="../datadonation/datadonation_overview.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link nav-link-4" href="../datadonation/datadonation_configuration.html">Configuration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle nav-item-toggle-level-3"></button>
    <span class="nav-text nav-text-3">Questionnaire</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link nav-link-4" href="questionnaire_overview.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link nav-link-4" href="questionnaire_configuration.html">Configuration</a>
  </li>
  <li class="nav-item is-current-page" data-depth="4">
    <a class="nav-link nav-link-4" href="questionnaire_data_integration.html">Data Integration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link nav-link-3" href="../debriefing.html">Debriefing Page</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle nav-item-toggle-level-2"></button>
    <a class="nav-link nav-link-2" href="../../data_center.html">Data Center</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link nav-link-3" href="../../data_center/data_download.html">Download</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link nav-link-3" href="../../data_center/project_logs.html">Project Logs</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link nav-link-3" href="../../data_center/participation_statistics.html">Statistics</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link nav-link-2" href="../../danger_zone.html">Danger Zone</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle nav-item-toggle-level-2"></button>
    <a class="nav-link nav-link-2" href="../../topics/index.html">Topics</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link nav-link-3" href="../../topics/apis.html">APIs</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link nav-link-3" href="../../topics/continuation.html">Continuation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link nav-link-3" href="../../topics/project_logs.html">Project Logs</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link nav-link-3" href="../../topics/templating_features.html">Template Rendering</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle nav-item-toggle-level-1"></button>
    <a class="nav-link nav-link-1" href="../../../administrators/index.html">Administrators</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link nav-link-2" href="../../../administrators/installation.html">Installation Guide</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle nav-item-toggle-level-2"></button>
    <a class="nav-link nav-link-2" href="../../../administrators/topics/index.html">Topic References</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link nav-link-3" href="../../../administrators/topics/customize_ckeditor_configs.html">CKEditor Configuration</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link nav-link-3" href="../../../administrators/topics/customize_admin_templates.html">Template Customization</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link nav-link-3" href="../../../administrators/topics/user_authentication.html">User Authentication</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle nav-item-toggle-level-1"></button>
    <a class="nav-link nav-link-1" href="../../../developers/index.html">Developers</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle nav-item-toggle-level-2"></button>
    <span class="nav-text nav-text-2">Topics</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link nav-link-3" href="../../../developers/topics/documentation.html">Documentation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link nav-link-3" href="../../../developers/topics/encryption.html">Encryption</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link nav-link-3" href="../../../developers/topics/internationalization.html">Internationalization</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">DDM</span>
    <span class="version">develop</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../../../../main/index.html">DDM</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../main/index.html">main</a>
        </li>
        <li class="version is-current">
          <a href="../../../index.html">develop</a>
        </li>
        <li class="version">
          <a href="../../../../v1.0.19/index.html">v1.0.19</a>
        </li>
        <li class="version">
          <a href="../../../../v1.0.0/index.html">v1.0.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<!--
-->
<!-- <nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../../index.html">DDM</a></li>
    <li><a href="../../index.html">Researchers</a></li>
    <li><a href="../index.html">Project Configuration</a></li>
    <li>Questionnaire</li>
    <li><a href="questionnaire_data_integration.html">Data Integration</a></li>
  </ul>
</nav>
 -->
<!-- <div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">develop</button>
  <div class="version-menu">
    <a class="version" href="../../../../main/researchers/project_configuration/questionnaire/questionnaire_data_integration.html">main</a>
    <a class="version is-current" href="questionnaire_data_integration.html">develop</a>
    <a class="version is-missing" href="../../../../v1.0.19/index.html">v1.0.19</a>
    <a class="version is-missing" href="../../../../v1.0.0/index.html">v1.0.0</a>
  </div>
</div>
 -->
<!--
-->
</div>
  <div class="content">
<aside class="toc sidebar" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
  <nav class="breadcrumbs-article" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../../index.html">DDM</a></li>
    <li>        <a href="../../index.html">Researchers</a>
</li>
    <li>        <a href="../index.html">Project Configuration</a>
</li>
    <li>Questionnaire</li>
    <li>        <span class="is-current">Data Integration</span>
</li>
  </ul>
</nav>
  <h1 class="page">Data Integration</h1>
  <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>It is possible to dynamically include participant-related and/or donation-related information in a question text.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_available_data"><a class="anchor" href="#_available_data"></a>Available Data</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are two types of data that can be integrated in a questionnaire: Metadata related to the participant and
data contained in the donated data. This data can be integrated by using the follwing pattern in the text field of
your question or item: <code>This is the variable I would like to render {{ VARIABLE_NAME }}</code>.</p>
</div>
<div class="sect2">
<h3 id="_participant_related_data"><a class="anchor" href="#_participant_related_data"></a>Participant-Related Data</h3>
<div class="paragraph">
<p>Regarding the metadata related to the participant, you can integrate the following information in your questionnaire:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>participant_id</code>: The external ID of the participant.</p>
</li>
<li>
<p><code>url_parameter</code>: A dictionary containing the URL parameters extracted from the initial URL. For example, this variable
could look like <code>{'url_param_a': &lt;value A&gt;, 'url_param_b': &lt;value B&gt;}</code> and you would access a specific value by
including <code>{{ url_paramerer.url_param_a }}</code> in your text field.</p>
</li>
<li>
<p><code>briefing_consent</code>: If you
<a href="../briefing.html#_configuration_options" class="xref page">enable the briefing consent on the Briefing page</a>, this variable will be <code>1</code> if participant has
consented to participation and <code>0</code> otherwise. If you have not enabled briefing consent, then
this will be <code>None</code>.</p>
</li>
<li>
<p><code>donation_info</code>: A dictionary containing information on the status of a participant&#8217;s donation.
Contains the following information which can be included in a text field as <code>{{ donation_info.n_success }}</code>:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"donation_info": {
    "n_success": 1,           # number of successfully uploaded blueprints by this participant (regardless of consent).
    "n_pending": 1,           # number of pending (i.e., not attempted) blueprint uploads.
    "n_failed": 0,            # number of blueprints where an upload was attempted but failed.
    "n_consent": 1,           # number of successful uploads to which donation consent was given.
    "n_no_consent": 0,        # number of successful uploads to which no donation consent was given.
    "n_no_data_extracted": 0  # number of donations by this participant where all entries were filtered out
}</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_donation_related_data"><a class="anchor" href="#_donation_related_data"></a>Donation-Related Data</h3>
<div class="paragraph">
<p>Additionally, in questions related to a specific Blueprint, you can access the data that were extracted through
this specific Blueprint in the question text and item texts by using the following variable:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>donated_data</code>: The data uploaded by the participant for a specific Blueprint. This will usually be a JSON-object,
but how this object is structured is dependent on the donation that you collect and cannot be described universally.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_integrate_data"><a class="anchor" href="#_how_to_integrate_data"></a>How to Integrate Data</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To integrate data in your question or item text, DDM makes use of a restricted version of the
<a href="https://docs.djangoproject.com/en/4.2/ref/templates/builtins/">Django templating system</a>.</p>
</div>
<div class="paragraph">
<p>This means that you can use so-called <em>filters</em>, <em>tags</em>, and <em>variables</em> to render information dynamically and
conditionally per participant. To get further information on how to do this and also find some examples,
visit the <a href="../../topics/templating_features.html" class="xref page">templating features page</a>.</p>
</div>
</div>
</div>
  <nav class="pagination">
  <span class="prev"><a href="questionnaire_configuration.html">Configuration</a></span>
  <span class="next"><a href="../debriefing.html">Debriefing Page</a></span>
</nav>
</article>
  </div>
</main>
<div id="overlay"></div>
</div>
<footer class="footer">
  <div class="footer-content-bite"><a href="https://datadonation.uzh.ch"><img src="../../../../../_/img/DataDonationLab_Logo_Schwarz.svg" height="50px"></a></div>
  <div class="footer-content-bite">© Data Donation Lab, 2023-present</div>
  <div class="footer-content-bite"><a href="https://github.com/uzh/ddm">DDM on GitHub</a></div>
</footer>
<script id="site-script" src="../../../../../_/js/site.js" data-ui-root-path="../../../../../_"></script>
<script async src="../../../../../_/js/vendor/highlight.js"></script>
<script src="../../../../../_/js/vendor/lunr.js"></script>
<script src="../../../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../../../.." data-snippet-length="100" data-stylesheet="../../../../../_/css/search.css"></script>
<script async src="../../../../../search-index.js"></script>
  </body>
</html>
